/**
 * almond 0.1.1 Copyright (c) 2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/*!
 * jQuery JavaScript Library v1.8.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Thu Aug 09 2012 16:24:48 GMT-0400 (Eastern Daylight Time)
 */

/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2012 jQuery Foundation and other contributors
 *  Released under the MIT license
 *  http://sizzlejs.com/
 */

//     Underscore.js 1.4.2
//     http://underscorejs.org
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore may be freely distributed under the MIT license.

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*
 ### jQuery XML to JSON Plugin v1.1 - 2008-07-01 ###
 * http://www.fyneworks.com/ - diego@fyneworks.com
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 ###
 Website: http://www.fyneworks.com/jquery/xml-to-json/
*/

/**
 * @license RequireJS text 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/*
 *  jssha256 version 0.1  -  Copyright 2006 B. Poettering
 *
 *  This program is free software; you can redistribute it and/or
 *  modify it under the terms of the GNU General Public License as
 *  published by the Free Software Foundation; either version 2 of the
 *  License, or (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 *  General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with this program; if not, write to the Free Software
 *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA
 *  02111-1307 USA
 */

// moment.js
// version : 1.7.0
// author : Tim Wood
// license : MIT
// momentjs.com

/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20120318
 */

/* ===================================================
 * bootstrap-transition.js v2.2.0
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ============================================================
 * bootstrap-button.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* ============================================================
 * bootstrap-dropdown.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */

/* =========================================================
 * bootstrap-modal.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */

/* ===========================================================
 * bootstrap-tooltip.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/* ===========================================================
 * bootstrap-popover.js v2.0.4
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */

/**
 * Copyright (c) 2011 Felix Gnass [fgnass at neteye dot de]
 * Licensed under the MIT license
 */

/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2012 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.7.2
 *
 */

/*
 * HTML5 Sortable jQuery Plugin
 * http://farhadi.ir/projects/html5sortable
 * 
 * Copyright 2012, Ali Farhadi
 * Released under the MIT license.
 */

/*
Copyright 2012 Igor Vaynberg

Version: @@ver@@ Timestamp: @@timestamp@@

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/

/*!	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/

/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 0.4.6
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */

function encode64(e){var t="",n="",r,i,s="",o,u,a,f="",l=0;do r=e.charCodeAt(l++),i=e.charCodeAt(l++),s=e.charCodeAt(l++),o=r>>2,u=(r&3)<<4|i>>4,a=(i&15)<<2|s>>6,f=s&63,isNaN(i)?a=f=64:isNaN(s)&&(f=64),t=t+b64array.charAt(o)+b64array.charAt(u)+b64array.charAt(a)+b64array.charAt(f),r=i=s="",o=u=a=f="";while(l<e.length);return t}function decode64(e){var t="",n="",r,i,s="",o,u,a,f="",l=0,c=/[^A-Za-z0-9\+\/\=]/g;c.exec(e)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."
),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=b64array.indexOf(e.charAt(l++)),u=b64array.indexOf(e.charAt(l++)),a=b64array.indexOf(e.charAt(l++)),f=b64array.indexOf(e.charAt(l++)),r=o<<2|u>>4,i=(u&15)<<4|a>>2,s=(a&3)<<6|f,t+=String.fromCharCode(r),a!=64&&(t+=String.fromCharCode(i)),f!=64&&(t+=String.fromCharCode(s)),r=i=s="",o=u=a=f="";while(l<e.length);return unescape(t)}function string_to_array(e){var t=e.length,n=new Array(t);for(var r=0;r<t;r++)n[r]=e.charCodeAt(r);return n}function array_to_hex_string
(e){var t="";for(var n=0;n<e.length;n++)t+=SHA256_hexchars[e[n]>>4]+SHA256_hexchars[e[n]&15];return t}function array_to_string(e){var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function SHA256_init(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function SHA256_write(e){typeof e=="string"?SHA256_buf=SHA256_buf.concat(string_to_array(e)):SHA256_buf=SHA256_buf.concat(e);for(var t=0
;t+64<=SHA256_buf.length;t+=64)SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf.slice(t,t+64));SHA256_buf=SHA256_buf.slice(t),SHA256_len+=e.length}function SHA256_finalize(){SHA256_buf[SHA256_buf.length]=128;if(SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(var e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255
,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,SHA256_Hash_Byte_Block(SHA256_H,SHA256_buf);var t=new Array(32);for(var e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=SHA256_H[e]&255;return delete SHA256_H,delete SHA256_buf,delete SHA256_len,t}function SHA256_hash(e){var t;return SHA256_init(),SHA256_write(e),t=SHA256_finalize(),array_to_hex_string(t)}function HMAC_SHA256_init(e){typeof e=="string"?HMAC_SHA256_key=string_to_array
(e):HMAC_SHA256_key=(new Array).concat(e),HMAC_SHA256_key.length>64&&(SHA256_init(),SHA256_write(HMAC_SHA256_key),HMAC_SHA256_key=SHA256_finalize());for(var t=HMAC_SHA256_key.length;t<64;t++)HMAC_SHA256_key[t]=0;for(var t=0;t<64;t++)HMAC_SHA256_key[t]^=54;SHA256_init(),SHA256_write(HMAC_SHA256_key)}function HMAC_SHA256_write(e){SHA256_write(e)}function HMAC_SHA256_finalize(){var e=SHA256_finalize();for(var t=0;t<64;t++)HMAC_SHA256_key[t]^=106;SHA256_init(),SHA256_write(HMAC_SHA256_key),SHA256_write
(e);for(var t=0;t<64;t++)HMAC_SHA256_key[t]=0;return delete HMAC_SHA256_key,SHA256_finalize()}function HMAC_SHA256_MAC(e,t){var n;return HMAC_SHA256_init(e),HMAC_SHA256_write(t),n=HMAC_SHA256_finalize(),array_to_hex_string(n)}function SHA256_sigma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function SHA256_sigma1(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}function SHA256_Sigma0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function SHA256_Sigma1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|
e<<7)}function SHA256_Ch(e,t,n){return n^e&(t^n)}function SHA256_Maj(e,t,n){return e&t^n&(e^t)}function SHA256_Hash_Word_Block(e,t){for(var n=16;n<64;n++)t[n]=SHA256_sigma1(t[n-2])+t[n-7]+SHA256_sigma0(t[n-15])+t[n-16]&4294967295;var r=(new Array).concat(e);for(var n=0;n<64;n++){var i=r[7]+SHA256_Sigma1(r[4])+SHA256_Ch(r[4],r[5],r[6])+SHA256_K[n]+t[n],s=SHA256_Sigma0(r[0])+SHA256_Maj(r[0],r[1],r[2]);r.pop(),r.unshift(i+s&4294967295),r[4]=r[4]+i&4294967295}for(var n=0;n<8;n++)e[n]=e[n]+r[n]&4294967295
}function SHA256_Hash_Byte_Block(e,t){var n=new Array(16);for(var r=0;r<16;r++)n[r]=t[4*r+0]<<24|t[4*r+1]<<16|t[4*r+2]<<8|t[4*r+3];SHA256_Hash_Word_Block(e,n)}function FastClick(e){var t,n=this;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.layer=e;if(!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){FastClick.prototype.onClick.apply(n,arguments)},this.onTouchStart=
function(){FastClick.prototype.onTouchStart.apply(n,arguments)},this.onTouchMove=function(){FastClick.prototype.onTouchMove.apply(n,arguments)},this.onTouchEnd=function(){FastClick.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){FastClick.prototype.onTouchCancel.apply(n,arguments)};if(typeof window.ontouchstart=="undefined")return;e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove
,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;t==="click"?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;t==="click"?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),typeof e.onclick=="function"&&
(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null)}var requirejs,require,define;(function(e){function a(e,t){var n=t&&t.split("/"),i=r.map,s=i&&i["*"]||{},o,u,a,f,l,c,h;if(e&&e.charAt(0)==="."&&t){n=n.slice(0,n.length-1),e=n.concat(e.split("/"));for(l=0;h=e[l];l++)if(h===".")e.splice(l,1),l-=1;else if(h===".."){if(l===1&&(e[2]===".."||e[0]===".."))return!0;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((n||s)&&i){o=e.split("/");for(l=o.length;l>0;l-=1){u=o.slice(0,l).join
("/");if(n)for(c=n.length;c>0;c-=1){a=i[n.slice(0,c).join("/")];if(a){a=a[u];if(a){f=a;break}}}f=f||s[u];if(f){o.splice(0,l,f),e=o.join("/");break}}}return e}function f(t,n){return function(){return u.apply(e,s.call(arguments,0).concat([t,n]))}}function l(e){return function(t){return a(t,e)}}function c(e){return function(n){t[e]=n}}function h(r){if(n.hasOwnProperty(r)){var s=n[r];delete n[r],i[r]=!0,o.apply(e,s)}if(!t.hasOwnProperty(r))throw new Error("No "+r);return t[r]}function p(e,t){var n,r,
i=e.indexOf("!");return i!==-1?(n=a(e.slice(0,i),t),e=e.slice(i+1),r=h(n),r&&r.normalize?e=r.normalize(e,l(t)):e=a(e,t)):e=a(e,t),{f:n?n+"!"+e:e,n:e,p:r}}function d(e){return function(){return r&&r.config&&r.config[e]||{}}}var t={},n={},r={},i={},s=[].slice,o,u;o=function(r,s,o,u){var a=[],l,v,m,g,y,b;u=u||r;if(typeof o=="function"){s=!s.length&&o.length?["require","exports","module"]:s;for(b=0;b<s.length;b++){y=p(s[b],u),m=y.f;if(m==="require")a[b]=f(r);else if(m==="exports")a[b]=t[r]={},l=!0;else if(
m==="module")v=a[b]={id:r,uri:"",exports:t[r],config:d(r)};else if(t.hasOwnProperty(m)||n.hasOwnProperty(m))a[b]=h(m);else if(y.p)y.p.load(y.n,f(u,!0),c(m),{}),a[b]=t[m];else if(!i[m])throw new Error(r+" missing "+m)}g=o.apply(t[r],a);if(r)if(v&&v.exports!==e&&v.exports!==t[r])t[r]=v.exports;else if(g!==e||!l)t[r]=g}else r&&(t[r]=o)},requirejs=require=u=function(t,n,i,s){return typeof t=="string"?h(p(t,n).f):(t.splice||(r=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},s?o(e,t,n,i):setTimeout(
function(){o(e,t,n,i)},15),u)},u.config=function(e){return r=e,u},define=function(e,t,r){t.splice||(r=t,t=[]),n[e]=[e,t,r]},define.amd={jQuery:!0}})(),define("libs/require/almond-0.1.1",function(){}),function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?
v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){
return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n
,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n==="input"&&Et.test(e.type)?
(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Kt(e,t){if(t in e)return t
;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=$t.length;while(i--){t=$t[i]+n;if(t in e)return t}return r}function Qt(e,t){return e=t||e,v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Gt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay"),t?(!i[s]&&n.style.display==="none"&&(n.style.display=""),n.style.display===""&&Qt(n)&&(i[s]=v._data(n,"olddisplay",tn(n.nodeName)))):(r=Dt(n,"display"),!i[s]&&r!=="none"&&v._data(n,"olddisplay"
,r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Yt(e,t,n){var r=qt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Zt(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2)n==="margin"&&(s+=v.css(e,n+Vt[i],!0)),r?(n==="content"&&(s-=parseFloat(Dt(e,"padding"+Vt[i]))||0),n!=="margin"&&(s-=parseFloat(Dt(e,"border"+Vt[i]+"Width"))||0)):(s+=parseFloat(Dt
(e,"padding"+Vt[i]))||0,n!=="padding"&&(s+=parseFloat(Dt(e,"border"+Vt[i]+"Width"))||0));return s}function en(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Rt.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+Zt(e,t,n||(s?"border":"content"),i)+"px"}function tn(e){if(zt[e])return zt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display"
);t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write("<!doctype html><html><body>"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,"display"),i.body.removeChild(Pt)}return zt[e]=n,n}function an(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||rn.test(e)?r(e,i):an(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!
n&&v.type(t)==="object")for(i in t)an(e+"["+i+"]",t[i],n,r);else r(e,t)}function Nn(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\+/.test(r),s&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[s?"unshift":"push"](n)}}function Cn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===En;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u=="string"&&(!c||o[u]?u=t:(n.dataTypes.unshift
(u),u=Cn(e,n,r,i,u,o)));return(c||!u)&&!o["*"]&&(u=Cn(e,n,r,i,"*",o)),u}function kn(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function Ln(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||
e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function An(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e["throws"
])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function jn(){try{return new e.XMLHttpRequest}catch(t){}}function Fn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Vn(){return setTimeout(function(){In=t},0),In=v.now()}function $n(e,t){v.each(t,function(t,n){var r=(Xn[t]||[]).concat(Xn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Jn(e,t,n){var r,i=0,s=0
,o=Wn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=In||Vn(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;for(;i<s;i++)f.tweens[i].run(r);return u.notifyWith(e,[f,r,n]),r<1&&s?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:In||Vn(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts
.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Kn(l,f.opts.specialEasing);for(;i<o;i++){r=Wn[i].call(f,e,l,f.opts);if(r)return r}return $n(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always
(f.opts.always)}function Kn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Qn(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.style,p={},d=[],m=e.nodeType&&Qt(e);n.queue||(f=v._queueHooks(e,"fx"),f.unqueued==null&&(f.unqueued=0,l=f.empty.fire,f.empty.fire=function(){f.unqueued||l()}),f.unqueued++,c.always(function(
){c.always(function(){f.unqueued--,v.queue(e,"fx").length||f.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||tn(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)),n.overflow&&(h.overflow="hidden",v.support.shrinkWrapBlocks||c.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){s=
t[r];if(Rn.exec(s)){delete t[r];if(s===(m?"hide":"show"))continue;d.push(r)}}o=d.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{}),m?v(e).show():c.done(function(){v(e).hide()}),c.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in p)v.style(e,t,p[t])});for(r=0;r<o;r++)i=d[r],a=c.createTween(i,m?u[i]:0),p[i]=u[i]||v.style(e,i),i in u||(u[i]=a.start,m&&(a.end=a.start,a.start=i==="width"||i==="height"?1:0))}}function Gn(e,t,n,r,i){return new Gn.prototype.init(e,t,n,r,i)}function Yn(e
,t){var n,r={height:e},i=0;for(;i<4;i+=2-t)n=Vt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function er(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/
.source,g=/\S/,y=/\s+/,b=g.test("Â ")?/^[\s\xA0]+|[\s\xA0]+$/g:/^\s+|\s+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener("DOMContentLoaded",A,!1),v.ready()):i.readyState==="complete"&&(i.detachEvent
("onreadystatechange",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById
(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jquery:"1.8.0",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]}
,pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l
.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if(
(e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(
e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!
p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!="string"?null:(typeof t=="boolean"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON
:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName
("parsererror").length)&&v.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n
.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":e.toString().replace(b,"")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)
return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r)
,i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||s.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}
):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete"||i.readyState!=="loading"&&i.addEventListener)setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1);else{i.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready);
var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length
,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){v.isFunction(n)&&(!e.unique||!c.has(n))?a.push(n):n&&n.length&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.
inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail"
,v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise
()},promise:function(e){return typeof e=="object"?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith
(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0],r.style
.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length||!r)return{};s=i.createElement("select"),o=s.appendChild(i.createElement("option")),u=p.getElementsByTagName("input")[0],t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",
optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete 
p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",h)),u=i.createElement("input"),u.value="t",u.setAttribute("type","radio"),t.radioValue=u.value==="t",u.setAttribute("checked","checked"),u.setAttribute("name","t"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,
t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f="on"+l,c=f in p,c||(p.setAttribute(f,"return;"),c=typeof p[f]=="function"),t[l+"Bubbles"]=c;return v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",a.insertBefore(n,a.firstChild
),r=i.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;"
,t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px",o=i.createElement("div"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width="0",r.style.width="1px",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!="undefined"&&(r.innerHTML=""
,r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/^(?:\{.*\}|\[.*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0
,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||++v.uuid:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.
extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a])
)return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")===0&&(o=v.camelCase
(o.substring(5)),H(a,o,l[o]));v._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){v.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",v.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r),v.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData
:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.shift(),i=v._queueHooks(e,t),s=function(){v.dequeue(e,t)};r==="inprogress"&&(r=n.shift()),r&&(t==="fx"&&n.unshift("inprogress"),delete i.stop,r.call(e,s,i)),!n.length&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks"
;return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.
speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)(r=v._data(o[u],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i
,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[
e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)~s.indexOf(" "+t[o]+" ")||(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each
(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>-1)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this
,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&v._data(this,"__className__",this.className),this.className=this.className||e===!1?"":v._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>-1)return!0
;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(R,""):r==null?"":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""})),n=v.valHooks[this.type]||v.valHooks
[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(v.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!v.nodeName(i.parentNode,"optgroup"
))){t=v(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?v(u[s]).val():o},set:function(e,t){var n=v.makeArray(t);return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks
[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,""+r),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,""),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode
)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding"
,rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(
e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode
(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})
}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype="encoding"),v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value"
)===null?"on":e.value}}}),v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p
,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event
.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v.
_data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)&&(d.splice
(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf("!")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf
(".")>=0&&(b=y.split("."),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?
v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&
d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,l,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount
,g=[].slice.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click")){o=v(this),o.context=this;for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){a={},l=[],o[0]=s;for(r=0;r<m;r++)c=d[r],h=c.selector,a[h]===t&&(a[h]=o.is(h)),a[h]&&l.push(c);l.length&&w.push({elem:s,matches:l})}}d.length>m&&w.push({elem:this,matches:d.slice(m
)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){f=w[r],n.currentTarget=f.elem;for(i=0;i<f.matches.length&&!n.isImmediatePropagationStopped();i++){c=f.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,u=((v.event.special[c.origType]||{}).handle||c.handler).apply(f.elem,g),u!==t&&(n.result=u,u===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which"
.split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0
)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=
e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{ready:{setup:v.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented
()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]=="undefined"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt
:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation
()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit"
,function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;r&&!v._data(r,"_submit_attached")&&(v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),v._data(r,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}}),v.support.changeBubbles||(v.event.special
.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate("change",this,e,!0)});return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,"_change_attached")&&(v.event
.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)}),v._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,"._change"),$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0
,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v
().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=et),this.each(function()
{v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})
},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;return v._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu"
.split(" "),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function rt(e,t,n,r){var i=0,s=t.length;for(;i<s;i++)G(e,t[i],n,r)}function it(e,t,n,r,i,s){var o,u=Y.setFilters[t.toLowerCase()];return u||G.error(t),(e||!(o=i))&&rt(e||"*",r,o=[],i),o.length>0?u(o,n,s):[]}function st(e,n,r,i,s){var o,u,a,f,l,c,h,p,
v=0,m=s.length,y=j.POS,b=new RegExp("^"+y.source+"(?!"+g+")","i"),w=function(){var e=1,n=arguments.length-2;for(;e<n;e++)arguments[e]===t&&(o[e]=t)};for(;v<m;v++){y.exec(""),e=s[v],f=[],a=0,l=i;while(o=y.exec(e)){p=y.lastIndex=o.index+o[0].length;if(p>a){h=e.slice(a,o.index),a=p,c=[n],k.test(h)&&(l&&(c=l),l=i);if(u=D.test(h))h=h.slice(0,-5).replace(k,"$&*");o.length>1&&o[0].replace(b,w),l=it(h,o[1],o[2],c,l,u)}}l?(f=f.concat(l),(h=e.slice(a))&&h!==")"?k.test(h)?rt(h,f,r,i):G(h,n,r,i?i.concat(l):l
):d.apply(r,f)):G(e,n,r,i)}return m===1?r:G.uniqueSort(r)}function ot(e,t,n){var r,i,s,o=[],a=0,f=A.exec(e),l=!f.pop()&&!f.pop(),c=l&&e.match(L)||[""],h=Y.preFilter,p=Y.filter,d=!n&&t!==u;for(;(i=c[a])!=null&&l;a++){o.push(r=[]),d&&(i=" "+i);while(i){l=!1;if(f=k.exec(i))i=i.slice(f[0].length),l=r.push({part:f.pop().replace(C," "),captures:f});for(s in p)(f=j[s].exec(i))&&(!h[s]||(f=h[s](f,t,n)))&&(i=i.slice(f.shift().length),l=r.push({part:s,captures:f}));if(!l)break}}return l||G.error(e),o}function ut
(e,t,i){var s=t.dir,o=h++;return e||(e=function(e){return e===i}),t.first?function(t,n){while(t=t[s])if(t.nodeType===1)return e(t,n)&&t}:function(t,i){var u,a=o+"."+r,f=a+"."+n;while(t=t[s])if(t.nodeType===1){if((u=t[m])===f)return t.sizset;if(typeof u=="string"&&u.indexOf(a)===0){if(t.sizset)return t}else{t[m]=f;if(e(t,i))return t.sizset=!0,t;t.sizset=!1}}}}function at(e,t){return e?function(n,r){var i=t(n,r);return i&&e(i===!0?n:i,r)}:t}function ft(e,t,n){var r,i,s=0;for(;r=e[s];s++)Y.relative[
r.part]?i=ut(i,Y.relative[r.part],t):(r.captures.push(t,n),i=at(i,Y.filter[r.part].apply(null,r.captures)));return i}function lt(e){return function(t,n){var r,i=0;for(;r=e[i];i++)if(r(t,n))return!0;return!1}}var n,r,i,s,o,u=e.document,a=u.documentElement,f="undefined",l=!1,c=!0,h=0,p=[].slice,d=[].push,m=("sizcache"+Math.random()).replace(".",""),g="[\\x20\\t\\r\\n\\f]",y="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",b=y.replace("w","w#"),w="([*^$|!~]?=)",E="\\["+g+"*("+y+")"+g+"*(?:"+w+g+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
b+")|)|)"+g+"*\\]",S=":("+y+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",x=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",T=g+"*([\\x20\\t\\r\\n\\f>+~])"+g+"*",N="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+E+"|"+S.replace(2,7)+"|[^\\\\(),])+",C=new RegExp("^"+g+"+|((?:^|[^\\\\])(?:\\\\.)*)"+g+"+$","g"),k=new RegExp("^"+T),L=new RegExp(N+"?(?="+g+"*,|$)","g"),A=new RegExp("^(?:(?!,)(?:(?:^|,)"+g+"*"+N+")*?|"+g+"*(.*?))(\\)|$)"
),O=new RegExp(N.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+T,"g"),M=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,_=/[\x20\t\r\n\f]*[+~]/,D=/:not\($/,P=/h\d/i,H=/input|select|textarea|button/i,B=/\\(?!\\)/g,j={ID:new RegExp("^#("+y+")"),CLASS:new RegExp("^\\.("+y+")"),NAME:new RegExp("^\\[name=['\"]?("+y+")['\"]?\\]"),TAG:new RegExp("^("+y.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+E),PSEUDO:new RegExp("^"+S),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+g+"*(even|odd|(([+-]|)(\\d*)n|)"+g+"*(?:([+-]|)"+
g+"*(\\d+)|))"+g+"*\\)|)","i"),POS:new RegExp(x,"ig"),needsContext:new RegExp("^"+g+"*[>+~]|"+x,"i")},F={},I=[],q={},R=[],U=function(e){return e.sizzleFilter=!0,e},z=function(e){return function(t){return t.nodeName.toLowerCase()==="input"&&t.type===e}},W=function(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}},X=function(e){var t=!1,n=u.createElement("div");try{t=e(n)}catch(r){}return n=null,t},V=X(function(e){e.innerHTML="<select></select>";var t=typeof 
e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),$=X(function(e){e.id=m+0,e.innerHTML="<a name='"+m+"'></a><div name='"+m+"'></div>",a.insertBefore(e,a.firstChild);var t=u.getElementsByName&&u.getElementsByName(m).length===2+u.getElementsByName(m+0).length;return o=!u.getElementById(m),a.removeChild(e),t}),J=X(function(e){return e.appendChild(u.createComment("")),e.getElementsByTagName("*").length===0}),K=X(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof 
e.firstChild.getAttribute!==f&&e.firstChild.getAttribute("href")==="#"}),Q=X(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||e.getElementsByClassName("e").length===0?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length!==1)}),G=function(e,t,n,r){n=n||[],t=t||u;var i,s,o,a,f=t.nodeType;if(f!==1&&f!==9)return[];if(!e||typeof e!="string")return n;o=et(t);if(!o&&!r)if(i=M.exec(e))if(a=i[1]){if(f===9){s=t.getElementById(a
);if(!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&tt(t,s)&&s.id===a)return n.push(s),n}else{if(i[2])return d.apply(n,p.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&Q&&t.getElementsByClassName)return d.apply(n,p.call(t.getElementsByClassName(a),0)),n}return ht(e,t,n,r,o)},Y=G.selectors={cacheLength:50,match:j,order:["ID","TAG"],attrHandle:{},createPseudo:U,find:{ID:o?function(e,t,n){if(typeof t.getElementById!==f&&!n
){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==f&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==f&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:J?function(e,t){if(typeof t.getElementsByTagName!==f)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n}},relative:{">":{dir:"parentNode",first:!0}
," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(B,""),e[3]=(e[4]||e[5]||"").replace(B,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||G.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&G.error(e[0]),e},PSEUDO:function(e){var t,n=e[4];return j.CHILD.test(e[0])?null:(n&&(t=
A.exec(n))&&t.pop()&&(e[0]=e[0].slice(0,t[0].length-n.length-1),n=t[0].slice(0,-1)),e.splice(2,3,n||e[3]),e)}},filter:{ID:o?function(e){return e=e.replace(B,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(B,""),function(t){var n=typeof t.getAttributeNode!==f&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(B,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(
e){var t=F[e];return t||(t=F[e]=new RegExp("(^|"+g+")"+e+"("+g+"|$)"),I.push(e),I.length>Y.cacheLength&&delete F[I.shift()]),function(e){return t.test(e.className||typeof e.getAttribute!==f&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){return t?function(r){var i=G.attr(r,e),s=i+"";if(i==null)return t==="!=";switch(t){case"=":return s===n;case"!=":return s!==n;case"^=":return n&&s.indexOf(n)===0;case"*=":return n&&s.indexOf(n)>-1;case"$=":return n&&s.substr(s.length-n.length)===n;case"~=":return(" "+
s+" ").indexOf(n)>-1;case"|=":return s===n||s.substr(0,n.length+1)===n+"-"}}:function(t){return G.attr(t,e)!=null}},CHILD:function(e,t,n,r){if(e==="nth"){var i=h++;return function(e){var t,s,o=0,u=e;if(n===1&&r===0)return!0;t=e.parentNode;if(t&&(t[m]!==i||!e.sizset)){for(u=t.firstChild;u;u=u.nextSibling)if(u.nodeType===1){u.sizset=++o;if(u===e)break}t[m]=i}return s=e.sizset-r,n===0?s===0:s%n===0&&s/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1
)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t,n,r){var i=Y.pseudos[e]||Y.pseudos[e.toLowerCase()];return i||G.error("unsupported pseudo: "+e),i.sizzleFilter?i(t,n,r):i}},pseudos:{not:U(function(e,t,n){var r=ct(e.replace(C,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!
e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!Y.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},contains:U(function(e){return function(t){return(t.textContent||t.innerText||nt(t)).indexOf(e)>-1}}),has:U(function(e){return function(t){return G(e,t).length>0}}),header:function(e){return P.test(e.nodeName
)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:z("radio"),checkbox:z("checkbox"),file:z("file"),password:z("password"),image:z("image"),submit:W("submit"),reset:W("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return H.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||
t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){var r=[],i=n?1:0,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},odd:function(e,t,n){var r=[],i=n?0:1,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(
e,t,n){var r=e.splice(+t,1);return n?e:r}}};Y.setFilters.nth=Y.setFilters.eq,Y.filters=Y.pseudos,K||(Y.attrHandle={href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}}),$&&(Y.order.push("NAME"),Y.find.NAME=function(e,t){if(typeof t.getElementsByName!==f)return t.getElementsByName(e)}),Q&&(Y.order.splice(1,0,"CLASS"),Y.find.CLASS=function(e,t,n){if(typeof t.getElementsByClassName!==f&&!n)return t.getElementsByClassName(e)});try{p.call(a.childNodes,0)[0
].nodeType}catch(Z){p=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}var et=G.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},tt=G.contains=a.compareDocumentPosition?function(e,t){return!!(e.compareDocumentPosition(t)&16)}:a.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt=G.getText=
function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=nt(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=nt(t);return n};G.attr=function(e,t){var n,r=et(e);return r||(t=t.toLowerCase()),Y.attrHandle[t]?Y.attrHandle[t](e):V||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},G.error=function(e){throw new Error
("Syntax error, unrecognized expression: "+e)},[0,0].sort(function(){return c=0}),a.compareDocumentPosition?i=function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:(i=function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],u=e.parentNode,a=t.parentNode,f=u;if(u===a)return s(e,t);if(!u)return-1;if(!a)return 1;while(f)i.unshift(f),f=
f.parentNode;f=a;while(f)o.unshift(f),f=f.parentNode;n=i.length,r=o.length;for(var c=0;c<n&&c<r;c++)if(i[c]!==o[c])return s(i[c],o[c]);return c===n?s(e,o[c],-1):s(i[c],t,1)},s=function(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}),G.uniqueSort=function(e){var t,n=1;if(i){l=c,e.sort(i);if(l)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1)}return e};var ct=G.compile=function(e,t,n){var r,i,s,o=q[e];if(o&&o.context===t)return o;i=ot(e,t,n);for(s=0;r=i[
s];s++)i[s]=ft(r,t,n);return o=q[e]=lt(i),o.context=t,o.runs=o.dirruns=0,R.push(e),R.length>Y.cacheLength&&delete q[R.shift()],o};G.matches=function(e,t){return G(e,null,null,t)},G.matchesSelector=function(e,t){return G(t,null,null,[e]).length>0};var ht=function(e,t,i,s,o){e=e.replace(C,"$1");var u,a,f,l,c,h,v,m,g,y=e.match(L),b=e.match(O),w=t.nodeType;if(j.POS.test(e))return st(e,t,i,s,y);if(s)u=p.call(s,0);else if(y&&y.length===1){if(b.length>1&&w===9&&!o&&(y=j.ID.exec(b[0]))){t=Y.find.ID(y[1],
t,o)[0];if(!t)return i;e=e.slice(b.shift().length)}m=(y=_.exec(b[0]))&&!y.index&&t.parentNode||t,g=b.pop(),h=g.split(":not")[0];for(f=0,l=Y.order.length;f<l;f++){v=Y.order[f];if(y=j[v].exec(h)){u=Y.find[v]((y[1]||"").replace(B,""),m,o);if(u==null)continue;h===g&&(e=e.slice(0,e.length-g.length)+h.replace(j[v],""),e||d.apply(i,p.call(u,0)));break}}}if(e){a=ct(e,t,o),r=a.dirruns++,u==null&&(u=Y.find.TAG("*",_.test(e)&&t.parentNode||t));for(f=0;c=u[f];f++)n=a.runs++,a(c,t)&&i.push(c)}return i};u.querySelectorAll&&
function(){var e,t=ht,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[],s=[":active"],o=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector||a.msMatchesSelector;X(function(e){e.innerHTML="<select><option selected></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+g+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),X(function(e){e.innerHTML="<p test=''></p>"
,e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+g+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=i.length&&new RegExp(i.join("|")),ht=function(e,r,s,o,u){if(!o&&!u&&(!i||!i.test(e)))if(r.nodeType===9)try{return d.apply(s,p.call(r.querySelectorAll(e),0)),s}catch(a){}else if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){var f=r.getAttribute("id"),l=f||m,c=_.test(e)&&r.parentNode||r;f?l=l.replace(n,"\\$&"
):r.setAttribute("id",l);try{return d.apply(s,p.call(c.querySelectorAll(e.replace(L,"[id='"+l+"'] $&")),0)),s}catch(a){}finally{f||r.removeAttribute("id")}}return t(e,r,s,o,u)},o&&(X(function(t){e=o.call(t,"div");try{o.call(t,"[test!='']:sizzle"),s.push(Y.match.PSEUDO)}catch(n){}}),s=new RegExp(s.join("|")),G.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!et(t)&&!s.test(n)&&(!i||!i.test(n)))try{var u=o.call(t,n);if(u||e||t.document&&t.document.nodeType!==11)return u}catch(a){}return G(
n,null,null,[t]).length>0})}(),G.attr=v.attr,v.find=G,v.expr=G.selectors,v.expr[":"]=v.expr.pseudos,v.unique=G.uniqueSort,v.text=G.getText,v.isXMLDoc=G.isXML,v.contains=G.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this
.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this
.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e
,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v
.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.
nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r=="string"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(","))}}),v.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,
r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"
],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll
:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):
t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e
,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(
e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v
.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(
e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&
c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.
src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=(n[0]||n).ownerDocument||n[0]||n,typeof n.createDocumentFragment=="undefined"&&(n=i),e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St
.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0])
,this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt
(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=0,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(o=t===i&&Ct;(u=e[y])!=null;y++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{o=o||lt(t),c=c||o.appendChild(t.createElement("div")),u=u.replace(dt,"<$1></$2>"),a=(vt.exec(u)||["",""])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(
l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(s=p.length-1;s>=0;--s)v.nodeName(p[s],"tbody")&&!p[s].childNodes.length&&p[s].parentNode.removeChild(p[s])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c=o.lastChild}u.nodeType?b.push(u):b=v.merge(b,u)}c&&(o.removeChild(c),u=c=o=null);if(!v.support.appendChecked)for(y=0;(u=b[y])!=
null;y++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(y=0;(u=b[y])!=null;y++)if(!v.nodeName(u,"script")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!="undefined"&&(g=v.grep(v.merge([],u.getElementsByTagName("script")),m),b.splice.apply(b,[y+1,0].concat(g)),y+=g.length)}return b},cleanData:function(
e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/
.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v
.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^margin/,qt=new RegExp("^("+m+")(.*)$","i"),Rt=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),Ut=new RegExp("^([-+])=("+m+")","i"),zt={},Wt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:0,fontWeight:400,lineHeight:1},Vt=["Top","Right","Bottom","Left"],$t=["Webkit","O","Moz","ms"],Jt=v.fn.toggle;v.fn.extend({css
:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Gt(this,!0)},hide:function(){return Gt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Jt.apply(this,arguments):this.each(function(){(n?e:Qt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight
:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Kt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Ut.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o="number");if(r==null||o==="number"&&isNaN
(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Kt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s==="normal"&&n in Xt&&(s=Xt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=
s[i];return r}}),e.getComputedStyle?Dt=function(e,t){var n,r,i,s,o=getComputedStyle(e,null),u=e.style;return o&&(n=o[t],n===""&&!v.contains(e.ownerDocument.documentElement,e)&&(n=v.style(e,t)),Rt.test(n)&&It.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=n,n=o.width,u.width=r,u.minWidth=i,u.maxWidth=s)),n}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Rt.test(i)&&!Ft.test(t)&&(
n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t==="fontSize"?"1em":i,i=s.pixelLeft+"px",s.left=n,r&&(e.runtimeStyle.left=r)),i===""?"auto":i}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth!==0||Dt(e,"display")!=="none"?en(e,t,r):v.swap(e,Wt,function(){return en(e,t,r)})},set:function(e,n,r){return Yt(e,n,r?Zt(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}}),v.support.opacity||
(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.
marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Rt.test(r)?v(e).position()[t]+"px":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"},v.expr.
filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+Vt[r]+t]=i[r]||i[r-2]||i[0];return s}},It.test(e)||(v.cssHooks[e+t].set=Yt)});var nn=/%20/g,rn=/\[\]$/,sn=/\r?\n/g,on=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,un=/^(?:select|textarea)/i;v.fn.extend({serialize
:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||un.test(this.nodeName)||on.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(sn,"\r\n")}}):{name:t.name,value:n.replace(sn,"\r\n")}}).get()}}),v.param=function(e,n){var r,i=[],s=
function(e,t){t=v.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)an(r,e[r],n,s);return i.join("&").replace(nn,"+")};var fn,ln,cn=/#.*$/,hn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,pn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,dn=/^(?:GET|HEAD)$/,vn=/^\/\//,mn=/\?/,gn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi
,yn=/([?&])_=[^&]*/,bn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,wn=v.fn.load,En={},Sn={},xn=["*/"]+["*"];try{fn=s.href}catch(Tn){fn=i.createElement("a"),fn.href="",fn=fn.href}ln=bn.exec(fn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!="string"&&wn)return wn.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):typeof n=="object"&&(s="POST"),v.ajax({url:e,type:s,dataType:"html"
,data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v("<div>").append(e.replace(gn,"")).find(i):e)}),this},v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.
get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?kn(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),kn(e,t),e},ajaxSettings:{url:fn,isLocal:pn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":xn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml
:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Nn(En),ajaxTransport:Nn(Sn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||"",x.readyState=e>0?4:0,s&&(w=Ln(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(v.lastModified[r]=S),S=x.getResponseHeader("Etag"),S&&(v.etag[r]=S))
,e===304?(T="notmodified",l=!0):(l=An(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T="error",e<0&&(e=0)}x.status=e,x.statusText=""+(n||T),l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger("ajaxComplete",[x,c]),--v.active||v.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof 
v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=hn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=
e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+"").replace(cn,"").replace(vn,ln[1]+"//"),c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y),c.crossDomain==null&&(a=bn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]==ln[1]&&a[2]==ln[2]&&(a[3]||(a[1]==="http:"?80:443))==(ln[3]||(ln[1]==="http:"?80:443)))),c.data&&
c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional)),Cn(En,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!dn.test(c.type),f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){c.data&&(c.url+=(mn.test(c.url)?"&":"?")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(yn,"$1_="+N);c.url=C+(C===c.url?(mn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader
("Content-Type",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]),v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+xn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete
:1})x[l](c[l]);o=Cn(Sn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1,f&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var On=[],Mn=/\?/,_n=/(=)\?(?=&|$)|\?\?/,Dn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||v.expando+"_"+Dn++;return this[e]=!0,e}}),v.ajaxPrefilter("json jsonp",function(
n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&_n.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&_n.test(a);if(n.dataTypes[0]==="jsonp"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(_n,"$1"+s):h?n.data=a.replace(_n,"$1"+s):l&&(n.url+=(Mn.test(f)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||v.error(s+" was not called"),u[0]},n.dataTypes
[0]="json",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,On.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),"script"}),v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}
),v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&
n.onload(0,1)}}}});var Pn,Hn=e.ActiveXObject?function(){for(var e in Pn)Pn[e](0,1)}:!1,Bn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&jn()||Fn()}:jn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields
)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Hn&&delete Pn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&
(c.xml=h);try{c.text=a.responseText}catch(e){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++Bn,Hn&&(Pn||(Pn={},v(e).unload(Hn)),Pn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var In,qn,Rn=/^(?:toggle|show|hide)$/,Un=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),zn=/queueHooks$/,Wn=[Qn],Xn={"*":[function(e,t){var n,r,i,s=this.createTween(e
,t),o=Un.exec(t),u=s.cur(),a=+u||0,f=1;if(o){n=+o[2],r=o[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&a){a=v.css(s.elem,e,!0)||n||1;do i=f=f||".5",a/=f,v.style(s.elem,e,a+r),f=s.cur()/u;while(f!==1&&f!==i)}s.unit=r,s.start=a,s.end=o[1]?a+(o[1]+1)*n:n}return s}]};v.Animation=v.extend(Jn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Xn[n]=Xn[n]||[],Xn[n].unshift(t)},prefilter:function(e,t){t?Wn.unshift(e):Wn.push(e)}}),v.Tween=Gn,Gn.prototype=
{constructor:Gn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Gn.propHooks[this.prop];return e&&e.get?e.get(this):Gn.propHooks._default.get(this)},run:function(e){var t,n=Gn.propHooks[this.prop];return this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration),this.now=(this.end-this.start)*t+this.start,this.options.step&&this.
options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Gn.propHooks._default.set(this),this}},Gn.prototype.init.prototype=Gn.prototype,Gn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[
e.prop]=e.now}}},Gn.propHooks.scrollTop=Gn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Yn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Qt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){
var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Jn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&zn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===
this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Yn("show"),slideUp:Yn("hide"),slideToggle:Yn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0
:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Gn.prototype.init,v.fx.tick=function(){var e,t=v.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1)
;t.length||v.fx.stop()},v.fx.timer=function(e){e()&&v.timers.push(e)&&!qn&&(qn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(qn),qn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var Zn=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e
,t)});var n,r,i,s,o,u,a,f,l,c,h=this[0],p=h&&h.ownerDocument;if(!p)return;return(i=p.body)===h?v.offset.bodyOffset(h):(r=p.documentElement,v.contains(r,h)?(n=h.getBoundingClientRect(),s=er(p),o=r.clientTop||i.clientTop||0,u=r.clientLeft||i.clientLeft||0,a=s.pageYOffset||r.scrollTop,f=s.pageXOffset||r.scrollLeft,l=n.top+a-o,c=n.left+f-u,{top:l,left:c}):{top:0,left:0})},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat
(v.css(e,"marginTop"))||0,n+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in 
t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Zn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,"marginTop"))||0,n.left-=parseFloat(v.css(e,"marginLeft"))||0,r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.
body;while(e&&!Zn.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=er(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+
e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o)}})}),e.jQuery=e.$=v,typeof define=="function"&&define.amd&&define.amd.
jQuery&&define("jquery",[],function(){return v})}(window),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=r.unshift,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,d=r.reduce,v=r.reduceRight,m=r.filter,g=r.every,y=r.some,b=r.indexOf,w=r.lastIndexOf,E=Array.isArray,S=Object.keys,x=s.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof exports!="undefined"?(typeof 
module!="undefined"&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.4.2";var N=T.each=T.forEach=function(e,t,r){if(e==null)return;if(h&&e.forEach===h)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(T.has(e,o)&&t.call(r,e[o],o,e)===n)return};T.map=T.collect=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},T.reduce=T.
foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=
T.keys(e);s=o.length}N(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){var r=[];return e==null?r:(N(e,function(e,i
,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},T.every=T.all=function(e,t,r){t||(t=T.identity);var i=!0;return e==null?i:g&&e.every===g?e.every(t,r):(N(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=T.some=T.any=function(e,t,r){t||(t=T.identity);var i=!1;return e==null?i:y&&e.some===y?e.some(t,r):(N(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};T.contains=T.include=function(e,t){var n=!1;return e==null?n:b&&e.indexOf===b?e.indexOf(t)!=-1:(n=C(e,function(e){return e===
t}),n)},T.invoke=function(e,t){var n=u.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t){return T.isEmpty(t)?[]:T.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity};return N(e,function(e,i,
s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return N(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return T.isFunction(e)?e:function(t)
{return t[e]}};T.sortBy=function(e,t,n){var r=k(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t);return N(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};T.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=
function(e,t,n){return L(e,t,n,function(e,t,n){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,r){n=n==null?T.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?e.length===+e.length?u.call(e):T.values(e):[]},T.size=function(e){return e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return t!=null&&!n?u.call(e,0,t):e[0]},T.initial=function(e,t,n){return u.call(e
,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,function(e){return!!e})};var A=function(e,t,n){return N(e,function(e){T.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};T.flatten=function(e,t){return A(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){var i=
n?T.map(e,n,r):e,s=[],o=[];return N(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(a.apply(r,arguments))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=a.apply(r,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=u.call(arguments),t=T.max(T.pluck
(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=T.pluck(e,""+r);return n},T.object=function(e,t){var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&
e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};T.bind=function(t,n){var r,i;if(t.bind===x&&x)return x.apply(t,u.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=
t.prototype;var e=new O,s=t.apply(e,i.concat(u.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=T.functions(e)),N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e
.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,s,o,u,a=T.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&(u=e.apply(n,r)),a()};return i||(i=setTimeout(f,t)),s?o=!0:(s=!0,u=e.apply(n,r)),a(),u}},T.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e
.apply(s,o)),i}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError
("Invalid object");var t=[];for(var n in e)T.has(e,n)&&(t[t.length]=n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(u.call(arguments,1),function(t){for(var n in 
t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/
e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(
s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(f)&&f instanceof f))return!1;for(var c in e)if(T.has(e,c)){o++;if(!(u=T.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(T.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return M(e,t,[],[])},T.isEmpty=function(
e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&
(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return T.isNumber(e)&&isFinite(e)},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},T.random=
function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=T.invert(_.escape);var D={escape:new RegExp("["+T.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(_.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),T.result=function(e,t){if(e==null)return null;var n=e[t];
return T.isFunction(n)?n.call(e):n},T.mixin=function(e){N(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(T,e))}})};var P=0;T.uniqueId=function(e){var t=P++;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=
function(e,t,n){n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,T);var a=function(e){return o.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},T.chain=function(e){return T(e).chain()};var F=function(e){return this._chain?T(e).chain():e};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice"
)&&n.length===0&&delete n[0],F.call(this,n)}}),N(["concat","join","slice"],function(e){var t=r[e];T.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(){}),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;typeof exports!="undefined"?i=exports:i=e.Backbone={},i.VERSION="0.9.2";var s=e._
;!s&&typeof require!="undefined"&&(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;i.setDomLibrary=function(e){o=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var u=/\s+/,a=i.Events={on:function(e,t,n){var r,i,s,o,a;if(!t)return this;e=e.split(u),r=this._callbacks||(this._callbacks={});while(i=e.shift())a=r[i],s=a?a.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:a?a.next:s};return this},off:function(e,t,n){var r,i,o,a,f,l;if(!(i=this
._callbacks))return;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(u):s.keys(i);while(r=e.shift()){o=i[r],delete i[r];if(!o||!t&&!n)continue;a=o.tail;while((o=o.next)!==a)f=o.callback,l=o.context,(t&&f!==t||n&&l!==n)&&this.on(r,f,l)}return this},trigger:function(e){var t,r,i,s,o,a,f;if(!(i=this._callbacks))return this;a=i.all,e=e.split(u),f=n.call(arguments,1);while(t=e.shift()){if(r=i[t]){s=r.tail;while((r=r.next)!==s)r.callback.apply(r.context||this,f)}if(r=a){s=r.tail,o=[t].concat
(f);while((r=r.next)!==s)r.callback.apply(r.context||this,o)}}return this}};a.bind=a.on,a.unbind=a.off;var f=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=C(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes
),this.initialize.apply(this,arguments)};s.extend(f.prototype,a,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=s.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,o;s.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=
t),n||(n={});if(!r)return this;r instanceof f&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var u=n.changes={},a=this.attributes,l=this._escapedAttributes,c=this._previousAttributes||{};for(i in r){o=r[i];if(!s.isEqual(a[i],o)||n.unset&&s.has(a,i))delete l[i],(n.silent?this._silent:u)[i]=!0;n.unset?delete a[i]:a[i]=o,!s.isEqual(c[i],o)||s.has(a,i)!=s.has(c,i)?(this.changed[i]=o,n.silent||(this._pending[i]=!0
)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){e=e?s.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||
e==null?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}var u=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?u:n))return!1;var a=this,f=n.success;n.success=function(e,t,i){var o=a.parse(e,i);n.wait&&(delete n.wait,o=s.extend(r||{},o));if(!a.set(o,n))return!1;f?f(a,e):a.trigger("sync",a,e,n)},n.error=i.wrapError(n.error,a,n);var l=this.isNew()?"create":"update",c=(this.sync||i.sync).call(this,l,this,n);return n.wait&&this.set(o,
u),c},destroy:function(e){e=e?s.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=C(this,"urlRoot")||C(this.collection,"url")||k();return this.isNew()?e:e+(e.charAt(e.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t
){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;while(!s.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var n in this.changed){if(this._pending[n]||this._silent
[n])continue;delete this.changed[n]}this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(s.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes
[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var l=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments
),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(l.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f,l={},c={},h=[];t||(t={}),e=s.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(!(u=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");a=u.cid,f=u.id;if(l[a]||this._byCid[a]||f!=null&&(c[f]||this._byId[f])){h.push(n);continue}l[a]=c[f]=u}n=h.length
;while(n--)e.splice(h[n],1);for(n=0,o=e.length;n<o;n++)(u=e[n]).on("all",this._onModelEvent,this),this._byCid[u.cid]=u,u.id!=null&&(this._byId[u.id]=u);this.length+=o,i=t.at!=null?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;for(n=0,o=this.models.length;n<o;n++){if(!l[(u=this.models[n]).cid])continue;t.index=n,u.trigger("add",u,this,t)}return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e
];for(n=0,r=e.length;n<r;n++){o=this.getByCid(e[n])||this.get(e[n]);if(!o)continue;delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},
t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return this
.comparator.length==1?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},e.parse===undefined&&(e.parse=!0);var t=this,n=e.success
;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this;t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s,o){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return s(this.models).chain()},_reset:function(e){this.length=0
,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){t||(t={});if(e instanceof f)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e=="add"||e=="remove")&&n!=this)return;e=="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.
previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments)}});var c=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(c,function(e){l.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var h=
i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,d=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(h.prototype,a,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new m),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);n&&n.apply(this,s),this.trigger.apply(this,["route:"+t].concat(s)),i.history.trigger("route",this
,t,s)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(d,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var m=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"
)},g=/^[#\/]/,y=/msie [\w.]+/;m.started=!1,s.extend(m.prototype,a,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(g,"")},start:function(e){if(m.started)throw new Error("Backbone.history has already been started"
);m.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);r&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o
(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=window.location,u=i.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this
._hasPushState&&u&&i.hash&&(this.fragment=this.getHash().replace(g,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t==this.fragment&&this.
iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t==this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!m.started)return!1;if(!t||t===!0)t={trigger:t};var n=(e||"").replace(g,"");if(this.fragment==n)return;this._hasPushState?(n.indexOf(this.options.root)!=0&&(n=this.options
.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,""
)+"#"+t):e.hash=t}});var b=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName"];s.extend(b.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e
);return t&&o(r).attr(t),n&&o(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o?e:o(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=C(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(w),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,o===""?this.$el.bind(i
,n):this.$el.delegate(o,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=E.length;t<n;t++){var r=E[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(!this.el){var e=C(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});var S=function(e,t){var n=N(
this,e,t);return n.extend=this.extend,n};f.extend=l.extend=h.extend=b.extend=S;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=x[e];n||(n={});var u={type:r,dataType:"json"};return n.url||(u.url=C(t,"url")||k()),n.data===undefined&&t&&(e=="create"||e=="update")&&(u.contentType="application/json",u.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),i.emulateHTTP&&(r==="PUT"||
r==="DELETE")&&(i.emulateJSON&&(u.data._method=r),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),u.type!=="GET"&&!i.emulateJSON&&(u.processData=!1),o.ajax(s.extend(u,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var T=function(){},N=function(e,t,n){var r;return t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){return e.apply(this,arguments)},s.extend(r,e),T.prototype=e.prototype,r.prototype=new 
T,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},C=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},k=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",function(){}),define("plex/control/Dispatcher",["backbone"],function(){return _.clone(Backbone.Events)}),define("plex/model/LocalStorageModel",["jquery","backbone"],function(e){var t=Backbone.Model.extend({populated:!1,storage
:window.localStorage,save:function(e,t,n){var r,i,s=_.isFunction(this.storageKey)?this.storageKey():this.storageKey;_.isObject(e)||e==null?(r=e,n=t):(r={},r[e]=t),n=n?_.clone(n):{},n.error=Backbone.wrapError(n.error,this,n),this.set(r,n);try{var o=JSON.stringify(this.toJSON());this.storage.setItem(s,o),n.success&&n.success(this,!0)}catch(u){n.error(this,"Failed to save model to localStorage.")}return this},populate:function(e){return this.populated?this:this.fetch(e)},fetch:function(e){var t=_.isFunction
(this.storageKey)?this.storageKey():this.storageKey;e=e?_.clone(e):{},e.error=Backbone.wrapError(e.error,this,e);try{var n=this.storage.getItem(t);this.populated=!0,this.set(this.parse(n),e),e.success&&e.success(this,n)}catch(r){e.error(this,"Failed to get model from localStorage.")}return this},parse:function(t){return e.parseJSON(t)},destroy:function(e){var t=_.isFunction(this.storageKey)?this.storageKey():this.storageKey;e=e?_.clone(e):{},e.error=Backbone.wrapError(e.error,this,e);try{this.storage
.removeItem(t),this.trigger("destroy",this,this.collection,e),e.success&&e.success(this)}catch(n){e.error(this,"Failed to remove model from localStorage.")}return this}});return t}),define("plex/model/SettingsModel",["plex/model/LocalStorageModel"],function(e){var t=navigator.language||navigator.userLanguage||"en";t=t.split("-")[0];var n=e.extend({storageKey:"settings",defaults:{language:t,remoteSearch:!0,channelSearch:!0,quality:7,remoteQuality:5,directPlay:!0,highestResolution:!1,subtitleSize:100
,audioBoost:100,listType:"poster-tile-list",debug:1,showMultiselectTip:!0},initialize:function(){this.populate()}});return new n}),define("plex/control/utils/LocalizationUtil",["plex/control/Dispatcher","plex/model/SettingsModel","jquery","underscore"],function(e,t,n){var r={en:"en.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json",fa:"fa.json",fr:"fr.json",hr:"hr.json",is:"is.json",it:"it.json",ja:"ja.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json"
,pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",tr:"tr.json"},i=function(e){var n=e||{};this.languages=r,this.translations={},this.defaultLanguage=t.get("language"),this.basePath=n.basePath||"localizations/",this.setLanguage(),t.on("change:language",_.bind(function(e,t){this.load(t)},this))};return i.prototype.setLanguage=function(t){return t=t||this.defaultLanguage,_.has(r,t)?(this.language=t,t):(this.language=this.defaultLanguage,
e.trigger("change:language",this.language),!1)},i.prototype.load=function(t){var i=this.language||this.defaultLanguage;return this.setLanguage.apply(this,arguments)?_.has(this.translations,this.language)?(e.trigger("change:language",this.language),n.Deferred().resolve()):n.ajax({dataType:"json",url:this.basePath+r[this.language]}).done(_.bind(function(t){this.translations[this.language]=t,e.trigger("change:language",this.language)},this)).fail(_.bind(function(e){this.setLanguage(i)},this)):n.Deferred
().reject()},i.prototype.t=function(){var e=this.translations[this.language],t=arguments[0];if(typeof t=="undefined")return"";var n=t,r=1;if(e&&_.has(e,t)){var i=e[t];i&&(n=i)}while(r<arguments.length)n=n.replace("{"+r+"}",arguments[r]),r++;return n},new i}),define("plex/control/init/jQueryInit",["jquery"],function(e){e.support.cors||e.ajaxPrefilter(function(e,t,n){if(e.crossDomain&&e.async){var r=e.type.toUpperCase();e.data&&(r=="GET"||r=="HEAD")&&(e.url+="?"+e.data,delete e.data),e.headers||(e.
headers={});var i="X-Plex-",s=_.filter(_.keys(e.headers),function(e){return e.lastIndexOf(i,0)===0});_.each(s,function(t){e.headers["X-Plex-Proxy-"+t.slice(i.length)]=e.headers[t],delete e.headers[t]}),e.headers["X-Plex-Url"]=e.url,e.url="/system/proxy",e.crossDomain=!1;if(window.appModel){var o=window.appModel.get("primaryServer").get("accessToken");o&&(e.headers["X-Plex-Token"]=o)}}});var t=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma","Location"],n=e.ajaxSettings
.xhr;e.ajaxSettings.xhr=function(){var e=n(),r=e.getAllResponseHeaders;return e.getAllResponseHeaders=function(){var n=r.apply(e);if(n)return n;var i=[];return _.each(t,function(t){var n=e.getResponseHeader(t);n&&i.push(t+": "+n)}),i.join("\n")},e},e.ajaxPrefilter(function(e,t,n){if(e.crossDomain&&!e.skipCorsWithRedirect)return"cors_with_redirect"}),e.ajaxTransport("cors_with_redirect",function(t,n,r){t.dataTypes.shift();var i=_.extend({},n,{skipCorsWithRedirect:!0,complete:null,error:null,success
:null}),s;return{send:function(t,n){i.error=function(e,t,i){_.extend(r,e),n(e.status,t,{alreadyConverted:i},e.getAllResponseHeaders())},i.success=function(t,o,u){_.extend(r,u);var a=u.getResponseHeader("Location");u.status==200&&a?(i.url=a,s=e.ajax(i)):n(u.status,o,{alreadyConverted:t},u.getAllResponseHeaders())},s=e.ajax(i)},abort:function(){s&&s.abort()}}})}),define("plex/control/init/BackboneInit",["plex/control/Dispatcher","backbone"],function(e){var t=Backbone.sync;Backbone.sync=function(n,r
,i){var s=i.server||r.server||r.get("server");!i.url&&r.url&&(i.url=_.isFunction(r.url)?r.url():r.url),_.defaults(i,{url:"",dataType:"text",processData:!1,timeout:2e4}),s&&(s.get("disconnected")&&e.trigger("connect:websocket",s),i.url=s.resolveUrl(i.url,!1,i.urlToken),i.headers||(i.headers={}),_.extend(i.headers,s.getHeaders(i.urlToken)));var o=t(n,r,i);return i.hideLoadingAlert||(e.trigger("command:ShowLoading",!0),o.always(function(){e.trigger("command:ShowLoading",!1)})),o}}),define("plex/control/utils/StringUtil"
,[],function(){return{truncate:function(e,t){if(!e)return"";if(e.length>t){var n=e.substring(0,t-3);while(/\S/.test(n.charAt(n.length-1))===!1&&n.length>1)n=n.slice(0,-1);return n+"..."}return e},truncateMiddle:function(e,t,n){if(e.length>t){n=n||Math.floor((t-3)/2);var r=t-3-n;return e.substr(0,n)+"..."+e.substr(e.length-r)}return e},toUtf8:function(e){var t="",n=0;for(var r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128||(i<2048?(r>n&&(t+=e.substring(n,r)),n=r+1,t+=String.fromCharCode(192|i>>>6)
,t+=String.fromCharCode(128|i&63)):(r>n&&(t+=e.substring(n,r)),n=r+1,t+=String.fromCharCode(224|i>>>12),t+=String.fromCharCode(128|i>>>6&63),t+=String.fromCharCode(128|i&63)))}return n>0&&n<e.length&&(t+=e.substring(n)),n===0?e:t}}}),define("plex/control/utils/NumberUtil",[],function(){return{formatBytes:function(e,t){var n=["B","KB","MB","GB","TB"],r=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,r)).toFixed(t)+" "+n[r]},formatBitrate:function(e,t){var n=["bps","kbps"
,"Mbps","Gbps","Tbps"],r=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,r)).toFixed(t)+" "+n[r+1]}}}),define("plex/model/DebugInfoModel",["jquery","backbone"],function(e){var t=function(e){return e?"True":"False"},n=Backbone.Model.extend({initialize:function(){var t=e("body script")[0].src,n=t.match(/rev\=([\d\.]+)/),r=n&&n.length>1?n[1]:t;this.set("host",window.location.host),this.set("userAgent",navigator.userAgent),this.set("clientVersion",r)},setAppModel:function(e
){this.appModel=e},toJSON:function(){if(this.appModel){var n=this.appModel.get("primaryServer"),r=this.appModel.get("myPlex");this.set("isAuthorized",t(this.appModel.get("isAuthorized"))),this.set("isAvailable",t(!this.appModel.get("isUnavailable"))),this.set("primaryServerUrl",n.url()),this.set("primaryServerAuthToken",t(n.get("accessToken"))),this.set("primaryServerVersion",n.get("versionFull")),this.set("myPlexUrl",r.url()),this.set("myPlexFeatures",_.keys(r.get("features")).join(", ")),this.set
("myPlexUsername",r.get("username")),this.set("myPlexAuthToken",t(r.get("authToken"))),this.set("browser",JSON.stringify(e.browser))}return Backbone.Model.prototype.toJSON.apply(this,arguments)}});return new n}),window.jQuery&&function(e){e.extend({xml2json:function(t,n){function r(t,s){if(!t)return null;var u="",a=null,f=null,l=t.nodeType,c=i(t.localName||t.nodeName),h=t.text||t.nodeValue||"";t.childNodes&&t.childNodes.length>0&&e.each(t.childNodes,function(e,t){var n=t.nodeType,s=i(t.localName||
t.nodeName),f=t.text||t.nodeValue||"";if(n==8)return;if(n==3||n==4||!s){if(f.match(/^\s+$/))return;u+=f.replace(/^\s+/,"").replace(/\s+$/,"")}else a=a||{},a[s]?(a[s].length||(a[s]=o(a[s])),a[s]=o(a[s]),a[s][a[s].length]=r(t,!0),a[s].length=a[s].length):a[s]=r(t)}),t.attributes&&t.attributes.length>0&&(f={},a=a||{},e.each(t.attributes,function(e,t){var n=i(t.name),r=t.value;a[n]?f[n]&&(a[n]=o(a[n]),a[n][a[n].length]=r):(a[n]=r,f[n]=r)})),a&&(a=e.extend(u!=""?new String(u):{},a||{}),u=a.text?(typeof 
a.text=="object"?a.text:[a.text||""]).concat([u]):u,u&&(a.text=u),u="");var p=a||u;return n&&(u&&(p={}),u=p.text||u||"",u&&(p.text=u),s||(p=o(p))),p}function s(e){var t=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;return typeof e=="number"||t.test(String(e&&typeof e=="string"?jQuery.trim(e):""))}if(!t)return{};var i=function(e){return String(e||"").replace(/-/g,"_")},o=function(t){return e.isArray(t)||(t=[t]),t.length=t.length,t};typeof t=="string"&&(t=e.text2xml(t));if(!t.nodeType)return;if(t.nodeType==3||
t.nodeType==4)return t.nodeValue;var u=t.nodeType==9?t.documentElement:t,a=r(u,!0);return t=null,u=null,a},text2xml:function(t){var n;try{var r=e.browser.msie?new ActiveXObject("Microsoft.XMLDOM"):new DOMParser;r.async=!1}catch(i){throw new Error("XML Parser could not be instantiated")}try{e.browser.msie?n=r.loadXML(t)?r:!1:n=r.parseFromString(t,"text/xml")}catch(i){throw new Error("Error parsing XML string")}return n}})}(jQuery),define("xml2json",function(){}),define("plex/model/BaseModel",["jquery"
,"plex/control/init/BackboneInit","backbone","xml2json"],function(e){var t=Backbone.Model.extend({_cache:{},constructor:function(e,t){e=_.extend({},e),t=_.extend({},t),this.app=t.app||t.collection&&t.collection.app,this.server=t.server||t.collection&&t.collection.server,this.section=t.section||t.collection&&t.collection.section,this.channel=t.channel||t.collection&&t.collection.channel,this.media=t.media||t.collection&&t.collection.media;var n=this.cacheKey?this.cacheKey(e):null;if(n&&this._cache
[n]){t.parse&&(e=this.parse(e));var r=this._cache[n];return r.set(e),r.app=this.app||r.app,r.server=this.server||r.server,r.section=this.section||r.section,r.channel=this.channel||r.channel,r.media=this.media||r.media,r}if(t.onlyIfCached)return{};Backbone.Model.prototype.constructor.apply(this,arguments),this.cache(n)},cache:function(e){this._cacheKey=e,this._cacheKey&&(this._cache[this._cacheKey]=this)},refreshCacheKey:function(){this._cacheKey&&this._cache[this._cacheKey]&&delete this._cache[this
._cacheKey];var e=this.toJSON(),t=this.cacheKey?this.cacheKey(e):null;this.cache(t)},populate:function(e){return this.populatePromise||(this.populatePromise=this.fetch(e)),this.populatePromise},fetch:function(){var t=Backbone.Model.prototype.fetch.apply(this,arguments),n=e.Deferred();return t.done(_.bind(function(e){n.resolveWith(this,[this,e])},this)),t.fail(_.bind(function(e){n.rejectWith(this,[this,e])},this)),this.populatePromise=n.promise(),this.populatePromise},save:function(t,n,r){var i,s;
_.isObject(t)||t==null?(i=t,r=n):(i={},i[t]=n),r=r?_.clone(r):{};if(r.wait){if(!this._validate(i,r))return!1;s=_.clone(this.attributes)}var o=this.getSaveParams(i,r);_.extend(o,r.data);if(_.isEmpty(o))return r.success&&r.success(this),e.Deferred().resolve(this);var u=_.extend({},r,{silent:!0});if(i&&!this.set(i,r.wait?u:r))return!1;var a=this,f=r.success;r.success=function(e,t,n){var s={};if(e){s=a.parse(e,n);var o=a.cacheKey?a.cacheKey(s):null;a.cache(o)}if(r.wait){delete r.wait;if(!a.set(_.extend
({},i,s),r))return!1}f&&f(a,e)};var l=_.isFunction(this.url)?this.url():this.url;r.url=l+"?"+e.param(o,!0),r.data="",r.error=Backbone.wrapError(r.error,a,r);var c=this.isNew()?"create":"update",h=(this.sync||Backbone.sync).call(this,c,this,r);return r.wait&&this.set(s,u),h},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}}});return t.extend=function(){var e=Backbone.Model.extend.apply(this,arguments);return e.prototype._cache={},e},t}),define("plex/model/collections/BaseCollection"
,["jquery","plex/control/init/BackboneInit","backbone","xml2json"],function(e){var t=Backbone.Collection.extend({populate:function(e){return this.populatePromise||(this.populatePromise=this.fetch(e)),this.populatePromise},fetch:function(){var t=Backbone.Collection.prototype.fetch.apply(this,arguments),n=e.Deferred();return t.done(_.bind(function(e){n.resolveWith(this,[this,e])},this)),t.fail(_.bind(function(e){n.rejectWith(this,[this,e])},this)),this.populatePromise=n.promise(),this.populatePromise
}});return t}),define("plex/model/LogEntryModel",["plex/model/LocalStorageModel"],function(e){var t=e.extend({storage:window.sessionStorage,storageKey:function(){return"LogEntry!"+this.cid},initialize:function(){this.time||this.set("time",new Date)}});return t}),define("plex/model/collections/LogEntryCollection",["plex/model/SettingsModel","plex/model/DebugInfoModel","plex/model/collections/BaseCollection","plex/model/LogEntryModel","jquery","backbone"],function(e,t,n,r,i){var s=/(auth_token=|accessToken=|X-Plex-Token=)(\"?\w+\"?)/g
,o=/(email=)(\"?[^&]+\"?)/g,u=/(password=)([^&]+)/,a=/(address=|host=)(\"?[^&]+\"?)/g,f=function(e){return e=e.replace(s,"$1TOKEN"),e.replace(u,"$1PASSWORD")},l=function(e){return e&&e.hasOwnProperty("X-Plex-Token")&&(e["X-Plex-Token"]="TOKEN"),e&&e.hasOwnProperty("Authorization")&&(e.Authorization="BASIC AUTHORIZATION"),e},c=function(e){if(!e)return;return e=e.replace(s,'$1"TOKEN"'),e=e.replace(o,'$1"EMAIL"'),e=e.replace(a,'$1"IP ADRRESS"'),e},h=n.extend({model:r,onAjaxComplete:function(t,n,r){var i=
{type:"ajax",url:f(r.url),status:n.status};_.isEmpty(r.headers)||(i.headers=l(r.headers)),_.isEmpty(r.data)||(i.params=r.data),n.status===200?e.get("debug")===2?i.response=c(n.responseText):i.responseLength=n.responseText.length:(i.statusText=n.statusText,i.response=c(n.responseText)),this.add(i)},onRoute:function(e,t,n){var r={type:"navigation",route:t,args:n,fragment:window.location.hash};this.add(r)},initialize:function(t,n){e.on("change:debug",function(e,t){t===0?this.disableListeners():this.
enableListeners()},this),_.bindAll(this,"onAjaxComplete","onRoute"),Backbone.history||(Backbone.history=new Backbone.History),e.get("debug")!==0&&this.enableListeners()},enableListeners:function(){this.enabled||(i("body").on("ajaxComplete",null,null,this.onAjaxComplete),Backbone.history.on("route",this.onRoute),this.enabled=!0)},disableListeners:function(){i("body").off("ajaxComplete",null,this.onAjaxComplete),Backbone.history.off("route",this.onRoute),this.enabled=!1,this.reset([])},add:function(
){this.length>200&&this.shift(),n.prototype.add.apply(this,arguments)},toJSON:function(){var e=n.prototype.toJSON.apply(this,arguments);return e.push(_.extend({type:"info"},t.toJSON())),e}});return h}),define("plex/control/utils/LogUtil",["plex/model/collections/LogEntryCollection"],function(e){var t=!!window.console&&!!window.console.log,n=new e;return{log:function(e){n.add({type:"message",message:e}),t&&console.log(e)},getLogsAsJSON:function(e){return e?JSON.stringify(n,null,2):JSON.stringify(n
)}}}),define("plex/control/utils/BrowserDetect",[],function(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"Unknown",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown",this.OS=this.searchString(this.dataOS)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(n.indexOf(e[t].subString)!=-1)return e[t].identity
}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t==-1)return;return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"WiiU",identity:"Wii U"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"
},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Internet Explorer",versionSearch:"MSIE"},{string:navigator.userAgent
,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};return e.init(),e});var b64array="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
;define("base64",function(){}),define("plex/model/MyPlexModel",["plex/model/BaseModel","plex/control/utils/LogUtil","plex/control/utils/BrowserDetect","plex/control/utils/StringUtil","jquery","xml2json","base64"],function(e,t,n,r,i){var s=e.extend({idAttribute:"machineIdentifier",defaults:{address:"my.plexapp.com",host:"my.plexapp.com",port:"443",friendlyName:"myPlex",name:"myPlex",machineIdentifier:"myPlex",signedIn:!1,owned:!1,features:{},supportsTranscoding:!1},url:function(){return this.get("url"
)||"https://my.plexapp.com/"},initialize:function(e,t){this.app=t.app,this.pms=t.server;var n;window.localStorage&&(n=window.localStorage.getItem("myPlexBaseUrl")),this.set("url",n||"https://my.plexapp.com/");var r;window.sessionStorage&&window.localStorage&&(r=window.sessionStorage.getItem("myPlexAuthToken")||window.localStorage.getItem("myPlexAuthToken")),r&&this.set("authToken",r)},parseMyPlexAccountInfo:function(e){var n=i.xml2json(e);n.authenticationToken&&this.set("authToken",n.authenticationToken
),this.set({signedIn:!0,email:n.email,username:n.username,queueEmail:n.queueEmail,queueUid:n.queueUid});if(n.subscription){this.set("subscription",n.subscription.active),t.log("myPlex subscriptions: "+JSON.stringify(n.subscription.feature));var r=_.isArray(n.subscription.feature)?n.subscription.feature:_.isEmpty(n.subscription.feature)?[]:[n.subscription.feature];this.set("features",_.reduce(r,function(e,t){return e[t.id]=!0,e},{}))}else this.set("features",{})},signIn:function(e,t,n){var s={type
:"POST",dataType:"text",url:this.resolveUrl("/users/sign_in.xml"),headers:this.getHeaders(),success:_.bind(function(e){this.parseMyPlexAccountInfo(e),window.localStorage&&window.sessionStorage&&window[n?"localStorage":"sessionStorage"].setItem("myPlexAuthToken",this.get("authToken"))},this)};return s.headers.Authorization="Basic "+encode64(r.toUtf8(e+":"+t)),i.ajax(s)},fetch:function(e){return e||(e={}),this.get("authToken")?i.ajax(_.extend({},e,{type:"GET",dataType:"text",url:this.resolveUrl("/users/account"
),headers:this.getHeaders(),success:_.bind(function(t){this.parseMyPlexAccountInfo(t),e.success&&e.success(this,t)},this)})):i.ajax(_.extend({},e,{type:"GET",dataType:"text",url:this.resolveUrl("/pms/:/ip"),headers:this.getHeaders()}))},resolveUrl:function(e,t){if(e.lastIndexOf("http",0)===0||e.lastIndexOf("rtmp",0)===0)return e;e.lastIndexOf("/:/",0)===0&&(e="/pms"+e);var n=this.url()+(e[0]=="/"?e.substr(1):e);return this.get("authToken")&&(n+=n.indexOf("?")>0?"&":"?",n+="auth_token="+this.get("authToken"
)),n},getHeaders:function(){var e={};return e["X-Plex-Client-Identifier"]=this.app.get("clientID"),e["X-Plex-Product"]="Web Client",e["X-Plex-Device"]=n.OS,e["X-Plex-Platform"]=n.browser,e["X-Plex-Platform-Version"]=n.version,e["X-Plex-Version"]=this.app.get("version"),e},getAjaxOptions:function(e){var t={};return t.url=this.resolveUrl(e),t.dataType="text",t.url.lastIndexOf(this.url(),0)===0&&(t.headers=this.getHeaders()),t}});return s}),define("plex/model/MyPlexAccountModel",["plex/model/BaseModel"
,"jquery"],function(e,t){var n=e.extend({url:"/myplex/account",signedIn:!1,whitelistedAttrs:["username","mappingState","mappingError","mappingErrorMessage","signInState","publicAddress","publicPort","privateAddress","privatePort","subscriptionActive","subscriptionState"],isNew:function(){return!this.signedIn},parse:function(e){var n=t.xml2json(e)||e;return n=_.pick(n,this.whitelistedAttrs),n.signInState==="ok"?this.signedIn=!0:(this.signedIn=!1,n.username="",n.password=""),n}});return n}),define("plex/model/AlphanumericModel"
,["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute:"key",whitelistedAttrs:["key","title","size"],url:function(){return"library/sections/"+this.section.id+"/firstCharacter/"+this.id},parse:function(e){var n=t.xml2json(e)||e;return n=_.pick(n,this.whitelistedAttrs),n.key&&(n.key=decodeURIComponent(n.key)),n}});return n}),define("plex/model/collections/AlphanumericCollection",["plex/model/collections/BaseCollection","plex/model/AlphanumericModel","jquery"],function(e,t,n){var r=
e.extend({model:t,url:function(){var e="library/sections/"+this.section.id+"/firstCharacter?",t={},n=[];this.mediaType&&this.mediaType!==13&&(t.type=this.mediaType),_.each(this.filters,function(e){e.values.length&&(t[e.key]=e.values.join(","))});for(var r in t)r==="unviewedLeafCount"?n.push(r+">="+t[r]):n.push(r+"="+t[r]);return e+=n.join("&"),e},initialize:function(e,t){this.server=t.server,this.section=t.section},parse:function(e){var t=n.xml2json(e).Directory;return t}});return r}),define("plex/model/FilterOptionModel"
,["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute:"key",whitelistedAttrs:["key","type","title"],parse:function(e){var n=t.xml2json(e)||e;return n}});return n}),define("plex/model/collections/FilterOptionCollection",["plex/model/collections/BaseCollection","plex/model/FilterOptionModel","jquery"],function(e,t,n){var r=e.extend({model:t,initialize:function(e,t){this.server=t.server,this.section=t.section,this.parentFilter=t.parentFilter,this.activeFilters=[]},url:function(
){var e="library/sections/"+this.section.id+"/"+this.parentFilter.id,t={},n=[];this.parentFilter.mediaType&&(t.type=this.parentFilter.mediaType),_.each(this.activeFilters,_.bind(function(e){e.values.length&&e.key!==this.parentFilter.key&&e.key!=="viewCount"&&e.key!=="unviewedLeafCount"&&(t[e.key]=e.values.join(","))},this));for(var r in t)r==="unviewedLeafCount"?n.push(r+">="+t[r]):n.push(r+"="+t[r]);var i=n.join("&");return i.length&&(e+="?"+i),e},parse:function(e){var t=n.xml2json(e).Directory;
return t},search:function(e){var t=this.filter(function(t){return t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1}),n=new r(t,{server:this.server,section:this.section,parentFilter:this.parentFilter});return n}});return r}),define("plex/model/FilterModel",["plex/model/BaseModel","plex/model/collections/FilterOptionCollection","jquery"],function(e,t,n){var r=e.extend({idAttribute:"filter",whitelistedAttrs:["filter","filterType","key","title"],url:function(){return"library/sections/"+this.section
.id+"/"+this.id},initialize:function(){this.collection&&this.collection.mediaType&&(this.mediaType=this.collection.mediaType),this.set("options",new t([],{server:this.server,section:this.section,parentFilter:this}))},parse:function(e){var t=n.xml2json(e)||e;return t=_.pick(t,this.whitelistedAttrs),t}});return r}),define("plex/model/collections/FilterCollection",["plex/model/collections/BaseCollection","plex/model/FilterModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return"library/sections/"+
this.section.id+"/filters?type="+this.mediaType},initialize:function(e,t){this.server=t.server,this.section=t.section},parse:function(e){var t=n.xml2json(e).Directory;return t}});return r}),define("plex/model/SortModel",["plex/model/BaseModel","plex/model/collections/FilterOptionCollection","jquery"],function(e,t,n){var r=e.extend({idAttribute:"key",whitelistedAttrs:["key","title","default"],parse:function(e){var t=n.xml2json(e)||e;return t=_.pick(t,this.whitelistedAttrs),t}});return r}),define("plex/model/collections/SortCollection"
,["plex/model/collections/BaseCollection","plex/model/SortModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return"library/sections/"+this.section.id+"/sorts?type="+this.mediaType},initialize:function(e,t){this.server=t.server,this.section=t.section},parse:function(e){var t=n.xml2json(e).Directory;return t}});return r}),define("plex/model/media/MediaModel",["plex/model/BaseModel","jquery"],function(e,t){function n(e){return _.isArray(e)?_.first(e):e}var r=e.extend({idAttribute
:"ratingKey",defaults:{title:"",titleSort:"",tagline:"",rating:"",summary:"",year:"",studio:"",contentRating:"",originallyAvailableAt:"",originalTitle:"",thumb:"",art:""},detailKeys:["ratingKey","key","type","title","titleSort","summary","viewOffset","viewCount","leafCount","viewedLeafCount","year","thumb","art","duration","originallyAvailableAt","addedAt","updatedAt","index","guid","identifier","parentTitle","parentThumb","studio","contentRating","rating","banner","theme","parentIndex","watched"
,"grandparentRatingKey","grandparentKey","grandparentTitle","lastViewedAt","grandparentThumb","directory","sourceTitle","Genre","Director","Writer","Role","id"],url:function(){return"/library/metadata/"+this.id},cacheKey:function(e){var t=e.ratingKey?e.ratingKey:e.key,n=this.section?this.section.id+"!":"";return this.server.id+"!"+n+t},initialize:function(e,t){t.server&&(this.server=t.server),t.section&&(this.section=t.section),t.media&&(this.media=t.media),this.on("timeline",_.bind(function(e){e
.state==5?this.fetch({hideLoadingAlert:!0}):e.state===9&&this.destroy()},this))},parse:function(e){var n=t.xml2json(e)||e;!n.ratingKey&&!n.key&&!n.id&&(n=_.first(_.filter(_.values(n),_.isObject)),_.isEmpty(this.detailKeys)||(n=_.pick(n,this.detailKeys))),n.ratingKey||(this.idAttribute="key"),typeof n.viewedLeafCount!="undefined"&&(n.unviewedLeafCount=n.leafCount-n.viewedLeafCount);if(n.key){_.each(_.keys(this.defaults),_.bind(function(e){e in n||(n[e]=this.defaults[e])},this));var r=/\/folder\?parent\=/
.test(n.key),i=n.type==="photo"&&/\/children/.test(n.key);if(r||i)n.folder=!0}return _.each(["Genre","Collection","Field","Writer","Director","Role","Country"],function(e){e in n?_.isArray(n[e])||(n[e]=[n[e]]):n.ratingKey&&(n[e]=[])}),n},mergeIndirectResponse:function(e,n,r){var i=t.xml2json(e);if(!i.Video||!i.Video.Media||!i.Video.Media.Part)return!1;_.extend(n,i.Video.Media);if(_.isArray(i.Video.Media.Part)){var s=_.indexOf(n.Part,r);_.extend(r,i.Video.Media.Part[s])}else _.extend(r,i.Video.Media
.Part);if(i.httpHeaders){var o,u=new RegExp("([^=]+)=([^&]+)&?","g"),a={};while(o=u.exec(i.httpHeaders))o[1]in a?(_.isArray(a[o[1]])||(a[o[1]]=[a[o[1]]]),a[o[1]].push(o[2])):a[o[1]]=o[2];this.set("indirectHttpHeaders",a,{silent:!0})}return!0},batchSave:function(e,t,n){var r=this.url;this.url="/library/metadata/"+_.pluck(e,"id").join(",");var i=this.save(t,n);return this.url=r,i},batchAdd:function(e,n,r){var i="/library/metadata/"+_.pluck(e,"id").join(",")+"/"+n+"/add?tag="+encodeURIComponent(r),s=
_.extend({type:"PUT"},this.server.getAjaxOptions(i));return t.ajax(s)},getSaveParams:function(e,t){return _.each(e.Field,function(t){e[t.name+".locked"]=t.locked}),delete e.Field,_.each(["Collection","Director","Writer","Genre","Country"],function(t){t in e&&(_.isEmpty(e[t])?e[t.toLowerCase()+"[]"]="":_.each(e[t],function(n,r){e[t.toLowerCase()+"["+r+"].tag.tag"]=n.tag}),delete e[t])}),e},getDownloadUrl:function(){var e=n(this.get("Media"));if(e){var t=n(e.Part);if(t){var r=t.key;return this.server
.get("accessToken")&&(r+="?X-Plex-Token="+this.server.get("accessToken")),this.server.resolveUrl(r)}}return""},getMediaLocation:function(){var e=n(this.get("Media"));if(e){var t=n(e.Part);if(t)return t.file}return null},getStreams:function(e,t){var r=n(this.get("Media")),i=[];if(r){var s=n(r.Part);if(s&&s.Stream){var o={streamType:e};t&&(o.selected="1"),i.push.apply(i,_.where(s.Stream,o))}}return i},getMissingParts:function(){var e=this.get("Media"),t=[];return e?(_.isArray(e)||(e=[e]),_.each(e,function(
e){var n=e.Part;if(!n)return;_.isArray(n)||(n=[n]),_.each(n,function(e){(e.exists==0||e.accessible==0)&&t.push(e)})}),t):t},resolveIndirect:function(e,n){var r=t.Deferred(),i=_.bind(function(){r.resolve(this)},this),s=_.bind(function(){r.reject(this)},this);if(e&&e.indirect==="1")if(n)if(n.postURL){var o=this.server.getAjaxOptions(n.postURL);o.headers=o.headers||{},o.headers["X-Plex-Url"]=o.url,o.url="/system/proxy",o.crossDomain=!1,t.ajax(o).done(_.bind(function(r,u,a){var f=a.getAllResponseHeaders
()+"\n"+r;o=this.server.getAjaxOptions(n.key+"&postURL="+encodeURIComponent(n.postURL)),o.type="POST",o.headers=o.headers||{},o.headers["X-Plex-Url"]=o.url,o.url="/system/proxy",o.crossDomain=!1,o.data=f,t.ajax(o).done(_.bind(function(t,r,o){this.mergeIndirectResponse(t,e,n)?i():s()},this)).fail(s)},this)).fail(s)}else{var u=this.server.getAjaxOptions(n.key);t.ajax(u).done(_.bind(function(t){this.mergeIndirectResponse(t,e,n)?i():s()},this)).fail(s)}else s();else i();return r}});return r.extend=function(
){var t=e.extend.apply(this,arguments);return delete t.prototype._cache,t},r}),define("plex/model/media/collections/MediaCollection",["plex/model/collections/BaseCollection","plex/model/media/MediaModel","jquery"],function(e,t,n){var r=e.extend({model:t,size:0,start:0,totalSize:null,pending:!1,initialize:function(e,t){this.server=t.server,this.section=t.section,this.type=t.type||"all",this.mediaType=t.mediaType,this.firstCharacter=t.firstCharacter||null,this.start=t.start||0,this.size=t.size||50,
this.filters=t.filters||[],this.sort=t.sort||{},t.url&&(this.url=t.url),this.section&&t.listen&&(this.mergeThrottle=_.throttle(this.merge,5e3),this.section.on("timeline",function(e){e.state===0&&(typeof e.type=="undefined"||this.mediaType===e.type)&&this.mergeThrottle()},this))},url:function(){var e="library/sections/";this.firstCharacter?e+=this.section.id+"/firstCharacter/"+encodeURIComponent(this.firstCharacter)+"?":e+=this.section.id+"/"+this.type+"?";var t={},n=[];this.section.get("refreshing"
)&&this.server.supports("timelineState")&&(t.timelineState=1),this.mediaType&&this.mediaType!==13&&(t.type=this.mediaType),_.each(this.filters,function(e){e.values.length&&(t[e.key]=e.values.join(","))}),this.sort.key&&(t.sort=this.sort.key+":"+this.sort.direction),t["X-Plex-Container-Start"]=this.start,t["X-Plex-Container-Size"]=this.size;for(var r in t)r==="unviewedLeafCount"?n.push(r+">="+t[r]):n.push(r+"="+t[r]);return e+=n.join("&"),e},parse:function(e){var t=n.xml2json(e)||e,r=t.Directory,i=
[];if(_.isArray(r))for(var s=0,o=r.length;s<o;s++)r[s].type==="photo"&&(r[s].directory=!0);else r&&r.type==="photo"&&(r.directory=!0);this.viewGroup=t.viewGroup,this.totalSize=parseInt(t.totalSize,10);var u=_.compact(i.concat(t.Directory,t.Video,t.Track,t.Photo));return t.identifier&&_.each(u,function(e){e.identifier=t.identifier}),u},next:function(e){if(!this.pending&&this.totalSize>this.start){this.start+=this.size,this.pending=!0,e&&(this.size=e);var t=this.fetch({add:!0}).always(_.bind(function(
){this.pending=!1},this));return t}return n.Deferred().resolve()},merge:function(){var e=new r([],{server:this.server,section:this.section,type:this.type,mediaType:this.mediaType,filters:this.filters,sort:this.sort,size:this.start+this.size});e.fetch({hideLoadingAlert:!0}).done(_.bind(function(){this.totalSize=e.totalSize,e.each(function(t,n){n<e.size&&!this.get(t.id)&&(this.add(t,{at:n}),this.length>e.size&&this.pop())},this),this.trigger("merge",this)},this))},movies:function(){return this.filter
(function(e){return e.get("type")==="movie"})},shows:function(){return this.filter(function(e){return e.get("type")==="show"})},episodes:function(){return this.filter(function(e){return e.get("type")==="episode"})},artists:function(){return this.filter(function(e){return e.get("type")==="artist"})},albums:function(){return this.filter(function(e){return e.get("type")==="album"})},tracks:function(){return this.filter(function(e){return e.get("type")==="track"})},clips:function(){return this.filter
(function(e){return e.get("type")==="clip"})}});return r}),define("plex/model/SectionModel",["plex/model/BaseModel","plex/model/collections/AlphanumericCollection","plex/model/collections/FilterCollection","plex/model/collections/SortCollection","plex/model/media/collections/MediaCollection","jquery"],function(e,t,n,r,i,s){var o=e.extend({idAttribute:"key",urlRoot:"/library/sections",whitelistedAttrs:["key","type","title","art","thumb","agent","scanner","language","location","refreshing","updatedAt"
,"createdAt"],cacheKey:function(e){return e.key?this.server.id+"!"+e.key:null},initialize:function(){this.set("alphanumeric",new t([],{server:this.server,section:this})),this.set("filters",new n([],{server:this.server,section:this})),this.set("sorts",new r([],{server:this.server,section:this})),this.set("media",new i([],{server:this.server,section:this,listen:!0})),this.set("onDeck",new i([],{server:this.server,section:this,type:"onDeck",size:50})),this.set("recentlyAdded",new i([],{server:this.server
,section:this,type:"recentlyAdded",size:50}))},parse:function(e,t){var n=s.xml2json(e)||e;if(t&&t.status==201){n.Directory&&(n=n.Directory);if(!n.key){var r=t.getResponseHeader("Location");r&&(n.key=r.substring(r.lastIndexOf("/")+1))}}return _.isArray(n.Location)?n.location=_.pluck(n.Location,"path"):n.Location&&(n.location=[n.Location.path]),n.refreshing&&_.isString(n.refreshing)&&(n.refreshing=n.refreshing==="1"),n=_.pick(n,this.whitelistedAttrs),n},getSaveParams:function(t,n){var r=e.prototype
.getSaveParams.apply(this,arguments);return r=_.pick(r,["name","title","type","agent","scanner","language","location"]),"title"in r&&(r.name=r.title,delete r.title),r}});return o}),define("plex/model/collections/SectionCollection",["plex/model/collections/BaseCollection","plex/model/SectionModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:"library/sections",initialize:function(e,t){this.server=t.server},parse:function(e){var t=n.xml2json(e).Directory;return t}});return r}),define("plex/model/ChannelActionModel"
,["plex/model/BaseModel"],function(e){var t=e.extend({idAttribute:"key"});return t}),define("plex/model/collections/ChannelActionCollection",["plex/model/collections/BaseCollection","plex/model/ChannelActionModel","jquery"],function(e,t,n){var r=e.extend({model:t,initialize:function(e,t){this.server=t.server,t.url&&(this.url=t.url)},parse:function(e){var t=n.xml2json(e)||e;return t.Directory}});return r}),define("plex/model/media/TrackModel",["plex/model/media/MediaModel"],function(e){var t=e.extend
();return t}),define("plex/model/media/collections/TrackCollection",["plex/model/collections/BaseCollection","plex/model/media/TrackModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return this.media.get("key")},initialize:function(e,t){this.server=t.server,this.section=t.section,this.media=t.media},parse:function(e){var t=n.xml2json(e).Track;return t}});return r}),define("plex/model/media/PhotoModel",["plex/model/media/MediaModel"],function(e){var t=e.extend();return t}),define
("plex/model/media/collections/PhotoCollection",["plex/model/collections/BaseCollection","plex/model/media/PhotoModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return this.parentKey?this.parentKey+"/children":"library/sections/"+this.section.id+"/all"},initialize:function(e,t){this.server=t.server,this.section=t.section,this.parentKey=t.parentKey},parse:function(e){var t=n.xml2json(e).Photo;return t}});return r}),define("plex/model/ChannelModel",["plex/model/BaseModel","plex/model/collections/ChannelActionCollection"
,"plex/model/media/collections/TrackCollection","plex/model/media/collections/PhotoCollection","jquery"],function(e,t,n,r,i){var s=e.extend({idAttribute:"key",url:function(){return this.id?this.id:"/:/plugins/"+this.get("identifier")+"/root"},cacheKey:function(e){var t;return e.key?t=this.server.id+"!"+e.key:e.identifier&&(t=this.server.id+"!"+e.identifier),t},initialize:function(e,i){this.set("actions",new t([],{server:this.server})),this.set("tracks",new n([],{server:this.server,media:this})),this
.set("photos",new r([],{server:this.server,media:this}))},parse:function(e){var t=i.xml2json(e)||e,n=this.toJSON();n&&(n.key&&(t.key=n.key),n.identifier&&(t.identifier=n.identifier)),t.key==="none"&&delete t.key,_.each(["Directory","Video","Track","Photo","Artist","Album"],function(e){e in t&&!_.isArray(t[e])&&(t[e]=[t[e]]),_.each(t[e],function(e){var n=e.key.split("/");n.length===1&&(e.key=t.key+"/"+e.key),e.label?e.title=e.label:e.track?e.title=e.track:e.album?e.title=e.album:e.artist&&(e.title=
e.artist),e.totalTime&&(e.duration=e.totalTime)})}),_.each(["Artist","Album"],function(e){t[e]&&t[e].length&&(t.Directory&&t.Directory.length&&(t[e]=t[e].concat(t.Directory)),t.Directory=t[e],t[e]=null)}),t.Track&&(this.get("tracks").add(t.Track),delete t.Track),t.Photo&&(this.get("photos").add(t.Photo),delete t.Photo),t.title2?t.title=t.title2:t.title1&&(t.title=t.title1),typeof t.installed!="undefined"&&(t.installed=parseInt(t.installed,10));if(t.key){var r=t.key.split("/");if(r&&r.length>1){var s=
t.key.split("/")[1];t.type=s.charAt(0).toUpperCase()+s.slice(1)}}return t}});return s}),define("plex/model/collections/ChannelCollection",["plex/model/collections/BaseCollection","plex/model/ChannelModel","jquery"],function(e,t,n){var r=e.extend({model:t,recent:!1,url:function(){return this.recent?"channels/recentlyViewed?X-Plex-Container-Start=0&X-Plex-Container-Size=5":"channels/all"},initialize:function(e,t){this.server=t.server,this.recent=t.recent,t.url&&(this.url=t.url)},parse:function(e){var t=
n.xml2json(e)||e,r=[];return this.viewGroup=t.viewGroup,_.compact(r.concat(t.Directory,t.Video,t.Track,t.Photo))},all:function(){return this.models},videos:function(){return this.filter(function(e){return e.get("type")==="Video"})},music:function(){return this.filter(function(e){return e.get("type")==="Music"})},photos:function(){return this.filter(function(e){return e.get("type")==="Photos"})}});return r}),define("plex/model/PreferenceModel",["plex/model/BaseModel","jquery"],function(e,t){var n=
e.extend({idAttribute:"id",defaults:{type:"string",summary:"",label:"",group:""},whitelistedAttrs:["id","label","default","summary","value","type","group","advanced","hidden","enumValues","values"],url:"/:/prefs",cacheKey:function(e){return this.server.id+"!"+e[this.idAttribute]},parse:function(e){var n=t.xml2json(e)||e;n=_.pick(n,this.whitelistedAttrs),n.type=="bool"?n.value=n.value===!0||n.value==="true"||n.value==="1":n.type=="int"&&(n.value=parseInt(n.value,10)),n.advanced=n.advanced==="true"||
n.advanced==="1",n.hidden=n.hidden==="true"||n.hidden==="1",n.enumValues&&!_.isArray(n.enumValues)&&(n.enumValues=_.map(n.enumValues.split("|"),function(e){var t=e.indexOf(":");return t>0?{label:e.slice(t+1),value:e.slice(0,t)}:{label:e,value:e}}));if(n.values&&!_.isArray(n.values)){var r=0;n.values=_.map(n.values.split("|"),function(e){return{label:e,value:r++}})}return n},getSaveParams:function(e,t){_.has(e,"FriendlyName")&&this.server.set("friendlyName",e.FriendlyName);if(_.isEmpty(e)){var n={
};return n[this.get("id")]=this.get("value"),n}return"value"in e&&(e[this.get("id")]=e.value,delete e.value),e}});return n}),define("plex/model/collections/PreferenceCollection",["plex/model/collections/BaseCollection","plex/model/PreferenceModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return"/:/prefs"},initialize:function(e,t){this.server=t.server,t.url&&(this.url=t.url),this.server.on("preference:change",function(e){var t=this.get(e.id);t&&t.set("value",e.value)},this)
},parse:function(e){var t=n.xml2json(e).Setting;return _.isArray(t)||(t=[t]),_.filter(t,function(e){return e.id})}});return r}),define("plex/model/ServerEventModel",["plex/model/BaseModel"],function(e){var t=0,n=e.extend({idAttribute:"id",parse:function(e){var n=e;return n.time=new Date,n.id="evt"+t++,n._type=="preference"&&(n.value=""+n.value),n}});return n}),define("plex/model/collections/ServerEventCollection",["plex/model/collections/BaseCollection","plex/model/ServerEventModel"],function(e,t
){var n=e.extend({model:t,initialize:function(e,t){this.server=t.server,this.startTime=new Date,this.server.on("preference:change",function(e){this.add(_.extend({_type:"preference"},e),{parse:!0})},this),this.server.on("timeline",function(e){this.add(_.extend({_type:"timeline"},e),{parse:!0})},this),this.server.on("status",function(e){this.add(_.extend({_type:"status"},e),{parse:!0})},this),this.server.on("websocket",function(e){this.add(_.extend({_type:"websocket"},e),{parse:!0})},this)}});return n
}),define("plex/model/ServerModel",["plex/control/utils/BrowserDetect","plex/model/BaseModel","plex/model/MyPlexAccountModel","plex/model/collections/SectionCollection","plex/model/collections/ChannelCollection","plex/model/collections/PreferenceCollection","plex/model/collections/ServerEventCollection","jquery"],function(e,t,n,r,i,s,o,u){var a=t.extend({idAttribute:"machineIdentifier",defaults:{name:"Unknown",disconnected:!1,remote:!1,shared:!1,supportsTranscoding:!0},features:{splitApart:"0.9.7.0"
,merge:"0.9.7.0",batchEdit:"0.9.7.0",search:"0.9.7.0",cleanBundles:"0.9.7.0",timelineState:"0.9.7.2",firstRunPref:"0.9.7.3",artworkUpload:"0.9.7.9"},whitelistedAttrs:["accessToken","address","friendlyName","host","machineIdentifier","name","platform","port","startState","flashInstalled","silverlightInstalled","soundflowerInstalled","transcoderVideoBitrates","transcoderVideoQualities","transcoderVideoResolutions","transcoderAudio","version","webkit","allowMediaDeletion","sourceTitle","shared"],url
:function(){if(this.serverURL)return this.serverURL;var e=this.get("address"),t=this.get("port");if(!e&&!t)return window.location.protocol+"//"+window.location.host+"/";var n="http://"+(e||window.location.hostname);return t=t||window.location.port,t&&(n+=":"+t),n+"/"},cacheKey:function(e){return e[this.idAttribute]},initialize:function(){this.server=this,this.set("myPlexAccount",new n({},{server:this})),this.set("sections",new r([],{server:this})),this.set("channels",new i([],{server:this})),this
.set("preferences",new s([],{server:this})),this.set("timeline",new o([],{server:this})),this.get("preferences").on("reset",function(e){var t=e.get("FriendlyName"),n=e.get("allowMediaDeletion");typeof t!="undefined"&&t.on("change:value",function(e,t){t&&this.set("name",t)},this),typeof n!="undefined"&&n.on("change:value",function(e,t){this.set("allowMediaDeletion",t)},this)},this),this.on("change:machineIdentifier",this.refreshCacheKey,this),!this.get("port")&&window.location.pathname!=="/web/index.html"&&
this.set("port","32400")},parse:function(e,t){var n=u.xml2json(e)||e;n.sourceTitle&&(n.shared=!0),n=_.pick(n,this.whitelistedAttrs),n.versionFull=n.version;var r=/(\d+\.){2,3}\d+/.exec(n.version);return r&&(n.version=r[0]),typeof n.startState=="undefined"&&(n.startState=null),t&&t.status==200&&(this.set("isAvailable",!0),this.serverURL=this.url()),n},resolveUrl:function(e,t,n){if(/^\w+:\/\//.test(e))return e;var r=t?"http://127.0.0.1:32400/":this.url(),i;e?i=r+(e[0]=="/"?e.substr(1):e):i=r;var s=
this.get("accessToken");return!n||!s?i:(i+=i.indexOf("?")>0?"&":"?",i+="X-Plex-Token="+s,i)},resolveExternalUrl:function(e){if(e.lastIndexOf("http",0)===0)return e;var t="http://"+this.get("address")+":"+this.get("port")+"/";return t+(e[0]=="/"?e.substr(1):e)},getHeaders:function(t){var n={};if(t)return n;var r=this.get("accessToken");return r&&(n["X-Plex-Token"]=r),n["X-Plex-Client-Identifier"]=this.app.get("clientID"),n["X-Plex-Product"]="Web Client",n["X-Plex-Device"]=e.OS,n["X-Plex-Platform"]=
e.browser,n["X-Plex-Platform-Version"]=e.version,n["X-Plex-Version"]=this.app.get("version"),n},getAjaxOptions:function(e){var t={};return t.url=this.resolveUrl(e),t.dataType="text",t.url.lastIndexOf(this.url(),0)===0&&(t.headers=this.getHeaders()),t},supports:function(e){var t=this.features[e],n=this.get("version");return t&&n?(t=parseInt(t.split(".").join(""),10),n=parseInt(n.split(".").join(""),10),t<=n):!0}});return a}),define("plex/model/collections/ServerCollection",["plex/model/collections/BaseCollection"
,"plex/model/ServerModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:"/servers",initialize:function(e,t){t||(t={}),this.app=t.app,this.server=t.server,t.url&&(this.url=t.url)},parse:function(e){return n.xml2json(e).Server}});return r}),define("plex/model/FriendModel",["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({whitelistedAttrs:["id","title","username","email","thumb","recommendationsPlaylistId"],urlRoot:"/pms/friends",cacheKey:function(e){return e[this.idAttribute]}
,parse:function(e){var n=t.xml2json(e)||e;return n=_.pick(n,this.whitelistedAttrs),n}});return n}),define("plex/model/collections/FriendCollection",["plex/model/collections/BaseCollection","plex/model/FriendModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return"/pms/friends/"+this.type},initialize:function(e,t){this.server=t.server,this.type=t.type||"all"},parse:function(e){var t=n.xml2json(e)||e;return t.User}});return r}),define("plex/model/SocialNetworkModel",["plex/model/BaseModel"
,"jquery"],function(e,t){var n=e.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],cacheKey:function(e){return e[this.idAttribute]},parse:function(e){var n=t.xml2json(e)||e;return n=_.pick(n,this.whitelistedAttrs),n}});return n}),define("plex/model/collections/SocialNetworkCollection",["plex/model/collections/BaseCollection","plex/model/SocialNetworkModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:"/pms/social/networks",initialize:function(e,t){this.server=
t.server},parse:function(e){var t=n.xml2json(e)||e;return t.Directory}});return r}),define("plex/model/media/PlaylistItemModel",["plex/model/media/MediaModel","jquery"],function(e,t){var n=e.extend({idAttribute:"id",detailKeys:[],url:function(){return"/pms/playlists/"+this.get("playlistName")+"/items/"+this.id},initialize:function(e,t){this.set("playlistName",t.playlistName||this.collection.playlistName)},parse:function(n){var r=t.xml2json(n)||n;r.ratingKey=r.url;var i=e.prototype.parse.apply(this
,arguments);return i._origType=i.type,i.type="playlistItem",i.identifier=r.identifier,i.viewCount=parseInt(r.viewCount,10),i}});return n}),define("plex/model/media/collections/PlaylistItemCollection",["plex/model/collections/BaseCollection","plex/model/media/PlaylistItemModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return"/pms/playlists/"+this.playlistName+"/all"},initialize:function(e,t){this.server=t.server,this.playlistName=t.name,this.playlistLabel=t.label},parse:function(
e){var t=n.xml2json(e)||e;return _.each(t.Video,function(e){e.identifier=t.identifier}),t.Video},all:function(){return this.models},watched:function(){return this.filter(function(e){return e.get("viewCount")})},unwatched:function(){return this.filter(function(e){return!e.get("viewCount")})}});return r});var Handlebars={};Handlebars.VERSION="1.0.beta.6",Handlebars.helpers={},Handlebars.partials={},Handlebars.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},Handlebars.registerPartial=
function(e,t){this.partials[e]=t},Handlebars.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Could not find property '"+e+"'")});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse||function(){},r=t.fn,i="",s=toString.call(e);s===functionType&&(e=e.call(this));if(e===!0)return r(this);if(e===!1||e==null)return n(this);if(s==="[object Array]"){if(e.length>0
)for(var o=0,u=e.length;o<u;o++)i+=r(e[o]);else i=n(this);return i}return r(e)}),Handlebars.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse,i="";if(e&&e.length>0)for(var s=0,o=e.length;s<o;s++)i+=n(e[s]);else i=r(this);return i}),Handlebars.registerHelper("if",function(e,t){var n=toString.call(e);return n===functionType&&(e=e.call(this)),!e||Handlebars.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("unless",function(e,t){var n=t.fn,r=t.inverse;return t.fn=r,t.inverse=
n,Handlebars.helpers["if"].call(this,e,t)}),Handlebars.registerHelper("with",function(e,t){return t.fn(e)}),Handlebars.registerHelper("log",function(e){Handlebars.log(e)});var handlebars=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23
,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],
[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(t,n,r,i,s,o,u){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=new i.ProgramNode(o[a-2],o[a]);break;case 3:this.$=new i.ProgramNode(o[a]);break;case 4:this.$=new i.ProgramNode([]);break;case 5:this.$=[o[a]];break;case 6:o[a-1].push(o[a]),this.$=o[a-1];break;case 7:this.$=new i.InverseNode
(o[a-2],o[a-1],o[a]);break;case 8:this.$=new i.BlockNode(o[a-2],o[a-1],o[a]);break;case 9:this.$=o[a];break;case 10:this.$=o[a];break;case 11:this.$=new i.ContentNode(o[a]);break;case 12:this.$=new i.CommentNode(o[a]);break;case 13:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 14:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 15:this.$=o[a-1];break;case 16:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1]);break;case 17:this.$=new i.MustacheNode(o[a-1][0],o[a-1][1],!0);break;case 18
:this.$=new i.PartialNode(o[a-1]);break;case 19:this.$=new i.PartialNode(o[a-2],o[a-1]);break;case 20:break;case 21:this.$=[[o[a-2]].concat(o[a-1]),o[a]];break;case 22:this.$=[[o[a-1]].concat(o[a]),null];break;case 23:this.$=[[o[a-1]],o[a]];break;case 24:this.$=[[o[a]],null];break;case 25:o[a-1].push(o[a]),this.$=o[a-1];break;case 26:this.$=[o[a]];break;case 27:this.$=o[a];break;case 28:this.$=new i.StringNode(o[a]);break;case 29:this.$=new i.IntegerNode(o[a]);break;case 30:this.$=new i.BooleanNode
(o[a]);break;case 31:this.$=new i.HashNode(o[a]);break;case 32:o[a-1].push(o[a]),this.$=o[a-1];break;case 33:this.$=[o[a]];break;case 34:this.$=[o[a-2],o[a]];break;case 35:this.$=[o[a-2],new i.StringNode(o[a])];break;case 36:this.$=[o[a-2],new i.IntegerNode(o[a])];break;case 37:this.$=[o[a-2],new i.BooleanNode(o[a])];break;case 38:this.$=new i.IdNode(o[a]);break;case 39:o[a-2].push(o[a]),this.$=o[a-2];break;case 40:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10
],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9
],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]}
,{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18
:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:
[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]}
,{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63
],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(t,n){throw new Error(t)},parse:function(t){function d(e){r.length=r.length-2*
e,i.length=i.length-e,s.length=s.length-e}function v(){var e;return e=n.lexer.lex()||1,typeof e!="number"&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],s=[],o=this.table,u="",a=0,f=0,l=0,c=2,h=1;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var m,g,y,b,w,E,S={},x,T,N,C;for(;;){y=r[r.length-1],this.defaultActions
[y]?b=this.defaultActions[y]:(m==null&&(m=v()),b=o[y]&&o[y][m]);if(typeof b=="undefined"||!b.length||!b[0])if(!l){C=[];for(x in o[y])this.terminals_[x]&&x>2&&C.push("'"+this.terminals_[x]+"'");var k="";this.lexer.showPosition?k="Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+C.join(", ")+", got '"+this.terminals_[m]+"'":k="Parse error on line "+(a+1)+": Unexpected "+(m==1?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(k,{text:this.lexer.match,token:this
.terminals_[m]||m,line:this.lexer.yylineno,loc:p,expected:C})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+m);switch(b[0]){case 1:r.push(m),i.push(this.lexer.yytext),s.push(this.lexer.yylloc),r.push(b[1]),m=null,g?(m=g,g=null):(f=this.lexer.yyleng,u=this.lexer.yytext,a=this.lexer.yylineno,p=this.lexer.yylloc,l>0&&l--);break;case 2:T=this.productions_[b[1]][1],S.$=i[i.length-T],S._$={first_line:s[s.length-(T||1)].first_line,last_line
:s[s.length-1].last_line,first_column:s[s.length-(T||1)].first_column,last_column:s[s.length-1].last_column},E=this.performAction.call(S,u,f,a,this.yy,b[1],i,s);if(typeof E!="undefined")return E;T&&(r=r.slice(0,-1*T*2),i=i.slice(0,-1*T),s=s.slice(0,-1*T)),r.push(this.productions_[b[1]][0]),i.push(S.$),s.push(S._$),N=o[r[r.length-2]][r[r.length-1]],r.push(N);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(t,n){if(!this.yy.parseError)throw new Error(t);this.yy.parseError
(t,n)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(
){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=(new Array(e.length+1)).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this
.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext="",this.match="");var i=this._currentRules();for(var s=0;s<i.length;s++){t=this._input.match(this.rules[i[s]]);if(t){r=t[0].match(/\n.*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length
,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[s],this.conditionStack[this.conditionStack.length-1]);if(e)return e;return}}if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return typeof t!="undefined"?t:this.lex()},begin:function(t){this.conditionStack.push(t
)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return e.performAction=function(t,n,r,i){var s=i;switch(r){case 0:n.yytext.slice(-1)!=="\\"&&this.begin("mu"),n.yytext.slice(-1)==="\\"&&(n.yytext=n.yytext.substr(0,n.yyleng-1),this.begin("emu"));if(n.yytext)return 14;break;
case 1:return 14;case 2:return this.popState(),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return n.yytext=n.yytext.substr(3,n.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 34;case 13:return 33;case 14:return 33;case 15:return 36;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return n.yytext=n.yytext.substr(1,n.yyleng-2).replace(/\\"/g,'"'),28;case 20:return 30
;case 21:return 30;case 22:return 29;case 23:return 33;case 24:return n.yytext=n.yytext.substr(1,n.yyleng-2),33;case 25:return"INVALID";case 26:return 5}},e.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/
,/^./,/^$/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,26],inclusive:!0}},e}();return e.lexer=t,e}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=handlebars,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof process!="undefined")var n=require("fs").readFileSync
(require("path").join(process.cwd(),t[1]),"utf8");else var r=require("file").path(require("file").cwd()),n=r.join(t[1]).read({charset:"utf-8"});return exports.parser.parse(n)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args)),Handlebars.Parser=handlebars,Handlebars.parse=function(e){return Handlebars.Parser.yy=Handlebars.AST,Handlebars.Parser.parse(e)},Handlebars.print=function(e){return(new Handlebars.PrintVisitor
).accept(e)},Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){}},Handlebars.log=function(e,t){Handlebars.logger.log(e,t)},function(){Handlebars.AST={},Handlebars.AST.ProgramNode=function(e,t){this.type="program",this.statements=e,t&&(this.inverse=new Handlebars.AST.ProgramNode(t))},Handlebars.AST.MustacheNode=function(e,t,n){this.type="mustache",this.id=e[0],this.params=e.slice(1),this.hash=t,this.escaped=!n},Handlebars.AST.PartialNode=function(e,t){this.type="partial",this
.id=e,this.context=t};var e=function(e,t){if(e.original!==t.original)throw new Handlebars.Exception(e.original+" doesn't match "+t.original)};Handlebars.AST.BlockNode=function(t,n,r){e(t.id,r),this.type="block",this.mustache=t,this.program=n},Handlebars.AST.InverseNode=function(t,n,r){e(t.id,r),this.type="inverse",this.mustache=t,this.program=n},Handlebars.AST.ContentNode=function(e){this.type="content",this.string=e},Handlebars.AST.HashNode=function(e){this.type="hash",this.pairs=e},Handlebars.AST
.IdNode=function(e){this.type="ID",this.original=e.join(".");var t=[],n=0;for(var r=0,i=e.length;r<i;r++){var s=e[r];s===".."?n++:s==="."||s==="this"?this.isScoped=!0:t.push(s)}this.parts=t,this.string=t.join("."),this.depth=n,this.isSimple=t.length===1&&n===0},Handlebars.AST.StringNode=function(e){this.type="STRING",this.string=e},Handlebars.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},Handlebars.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},Handlebars.AST.CommentNode=
function(e){this.type="comment",this.comment=e}}(),Handlebars.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.message=t.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/&(?!\w+;)|[<>"'`]/g,n=/[&<>"'`]/
,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():e==null||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return typeof e=="undefined"?!0:e===null?!0:e===!1?!0:Object.prototype.toString.call(e)==="[object Array]"&&e.length===0?!0:!1}}}(),Handlebars.Compiler=function(){},Handlebars.JavaScriptCompiler=function(){},function(e,t){e.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append
:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16},e.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1},e.DISASSEMBLE_MAP={};for(var n in e.OPCODE_MAP){var r=e.OPCODE_MAP[n];e.DISASSEMBLE_MAP[r]=n}e.multiParamSize=
function(t){return e.MULTI_PARAM_OPCODES[e.DISASSEMBLE_MAP[t]]},e.prototype={compiler:e,disassemble:function(){var t=this.opcodes,n,r,i=[],s,o,u;for(var a=0,f=t.length;a<f;a++){n=t[a];if(n==="DECLARE")o=t[++a],u=t[++a],i.push("DECLARE "+o+" = "+u);else{s=e.DISASSEMBLE_MAP[n];var l=e.multiParamSize(n),c=[];for(var h=0;h<l;h++)r=t[++a],typeof r=="string"&&(r='"'+r.replace("\n","\\n")+'"'),c.push(r);s=s+" "+c.join(" "),i.push(s)}}return i.join("\n")},guid:0,compile:function(e,t){this.children=[],this
.depths={list:[]},this.options=t;var n=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(n)for(var r in n)this.options.knownHelpers[r]=n[r];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t=e.statements,n;this.opcodes=[];for(var r=0,i=t.length;r<i;r++)n=t[r],this[n.type](n);return this.isSimple=i===1,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this
},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var r=0,i=t.depths.list.length;r<i;r++){depth=t.depths.list[r];if(depth<2)continue;this.addDepth(depth-1)}return n},block:function(e){var t=e.mustache,n,r,i,s,o=this.setupStackForMustache(t),u=this.compileProgram(e.program);e.program.inverse&&(s=this.compileProgram(e.program.inverse),this.declare("inverse",s)),this.opcode("invokeProgram"
,u,o.length,!!t.hash),this.declare("inverse",null),this.opcode("append")},inverse:function(e){var t=this.setupStackForMustache(e.mustache),n=this.compileProgram(e.program);this.declare("inverse",n),this.opcode("invokeProgram",null,t.length,!!e.mustache.hash),this.declare("inverse",null),this.opcode("append")},hash:function(e){var t=e.pairs,n,r;this.opcode("push","{}");for(var i=0,s=t.length;i<s;i++)n=t[i],r=n[1],this.accept(r),this.opcode("assignToHash",n[0])},partial:function(e){var t=e.id;this.
usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.setupStackForMustache(e);this.opcode("invokeMustache",t.length,e.id.original,!!e.hash),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("lookupWithHelpers"
,e.parts[0]||null,e.isScoped||!1);for(var t=1,n=e.parts.length;t<n;t++)this.opcode("lookup",e.parts[t])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("push",e.integer)},BOOLEAN:function(e){this.opcode("push",e.bool)},comment:function(){},pushParams:function(e){var t=e.length,n;while(t--)n=e[t],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.string)):this[n.type](n)},opcode:function(
t,n,r,i){this.opcodes.push(e.OPCODE_MAP[t]),n!==undefined&&this.opcodes.push(n),r!==undefined&&this.opcodes.push(r),i!==undefined&&this.opcodes.push(i)},declare:function(e,t){this.opcodes.push("DECLARE"),this.opcodes.push(e),this.opcodes.push(t)},addDepth:function(e){if(e===0)return;this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e))},setupStackForMustache:function(e){var t=e.params;return this.pushParams(t),e.hash&&this.hash(e.hash),this.ID(e.id),t}},t.prototype={nameLookup:function(e,n
,r){return/^[0-9]+$/.test(n)?e+"["+n+"]":t.isValidJavaScriptVariableName(n)?e+"."+n:e+"['"+n+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,r){this.environment=e,this.options=t||{},this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{self:"this"},registers:{list:[]}},this.preamble(),this.stackSlot=0,this.stackVars=
[],this.compileChildren(e,t);var i=e.opcodes,s;this.i=0;for(u=i.length;this.i<u;this.i++)s=this.nextOpcode(0),s[0]==="DECLARE"?(this.i=this.i+2,this[s[1]]=s[2]):(this.i=this.i+s[1].length,this[s[0]].apply(this,s[1]));return this.createFunctionContext(r)},nextOpcode:function(t){var n=this.environment.opcodes,r=n[this.i+t],i,s,o,u;if(r==="DECLARE")return i=n[this.i+1],s=n[this.i+2],["DECLARE",i,s];i=e.DISASSEMBLE_MAP[r],o=e.multiParamSize(r),u=[];for(var a=0;a<o;a++)u.push(n[this.i+a+1+t]);return[i
,u]},eat:function(e){this.i=this.i+e.length},preamble:function(){var e=[];this.useRegister("foundHelper");if(!this.isChild){var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),e.push(n)}else e.push("");this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars;this.isChild||(t=t.concat(this.context.registers
.list)),t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", "));if(!this.isChild){var n=[];for(var r in this.context.aliases)this.source[1]=this.source[1]+", "+r+"="+this.context.aliases[r]}this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var s=0
,o=this.environment.depths.list.length;s<o;s++)i.push("depth"+this.environment.depths.list[s]);if(e)return i.push(this.source.join("\n  ")),Function.apply(this,i);var u="function "+(this.name||"")+"("+i.join(",")+") {\n  "+this.source.join("\n  ")+"}";return Handlebars.log(Handlebars.logger.DEBUG,u+"\n\n"),u},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer
(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(1),t="";this.context.aliases.escapeExpression="this.escapeExpression",e[0]==="appendContent"&&(t=" + "+this.quotedString(e[1][0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupWithHelpers:function(e,t){if(e){var n=this.nextStack();this
.usingKnownHelper=!1;var r;!t&&this.options.knownHelpers[e]?(r=n+" = "+this.nameLookup("helpers",e,"helper"),this.usingKnownHelper=!0):t||this.options.knownHelpersOnly?r=n+" = "+this.nameLookup("depth"+this.lastContext,e,"context"):(this.register("foundHelper",this.nameLookup("helpers",e,"helper")),r=n+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,e,"context")),r+=";",this.source.push(r)}else this.pushStack("depth"+this.lastContext)},lookup:function(e){var t=this.topStack();this.source
.push(t+" = ("+t+" === null || "+t+" === undefined || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")+");")},pushStringParam:function(e){this.pushStack("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStack(this.quotedString(e))},push:function(e){this.pushStack(e)},invokeMustache:function(e,t,n){this.populateParams(e,this.quotedString(t),"{}",null,n,function(e,t,n){this.usingKnownHelper||(this.context.aliases.helperMissing="helpers.helperMissing",this.context
.aliases.undef="void 0",this.source.push("else if("+n+"=== undef) { "+e+" = helperMissing.call("+t+"); }"),e!==n&&this.source.push("else { "+e+" = "+n+"; }"))})},invokeProgram:function(e,t,n){var r=this.programExpression(this.inverse),i=this.programExpression(e);this.populateParams(t,null,i,r,n,function(e,t,n){this.usingKnownHelper||(this.context.aliases.blockHelperMissing="helpers.blockHelperMissing",this.source.push("else { "+e+" = blockHelperMissing.call("+t+"); }"))})},populateParams:function(
e,t,n,r,i,s){var o=i||this.options.stringParams||r||this.options.data,u=this.popStack(),a,f=[],l,c,h;o?(this.register("tmp1",n),h="tmp1"):h="{ hash: {} }";if(o){var p=i?this.popStack():"{}";this.source.push("tmp1.hash = "+p+";")}this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(var d=0;d<e;d++)l=this.popStack(),f.push(l),this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");");r&&(this.source.push("tmp1.fn = tmp1;"),this.source.push("tmp1.inverse = "+
r+";")),this.options.data&&this.source.push("tmp1.data = data;"),f.push(h),this.populateCall(f,u,t||u,s,n!=="{}")},populateCall:function(e,t,n,r,i){var s=["depth0"].concat(e).join(", "),o=["depth0"].concat(n).concat(e).join(", "),u=this.nextStack();if(this.usingKnownHelper)this.source.push(u+" = "+t+".call("+s+");");else{this.context.aliases.functionType='"function"';var a=i?"foundHelper && ":"";this.source.push("if("+a+"typeof "+t+" === functionType) { "+u+" = "+t+".call("+s+"); }")}r.call(this,
u,o,t),this.usingKnownHelper=!1},invokePartial:function(e){params=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"],this.options.data&&params.push("data"),this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),n=this.topStack();this.source.push(n+"['"+e+"'] = "+t+";")},compiler:t,compileChildren:function(e,t){var n=e.children,r,i;for(var s=0,o=n.length;s<o;s++){r=n[s],i=new this.compiler,this.context.programs
.push("");var u=this.context.programs.length;r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,t,this.context)}},programExpression:function(e){if(e==null)return"self.noop";var t=this.environment.children[e],n=t.depths.list,r=[t.index,t.name,"data"];for(var i=0,s=n.length;i<s;i++)depth=n[i],depth===1?r.push("depth0"):r.push("depth"+(depth-1));return n.length===0?"self.program("+r.join(", ")+")":(r.shift(),"self.programWithDepth("+r.join(", ")+")")},register:function(e,t){this.useRegister
(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.context.registers[e]||(this.context.registers[e]=!0,this.context.registers.list.push(e))},pushStack:function(e){return this.source.push(this.nextStack()+" = "+e+";"),"stack"+this.stackSlot},nextStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot
},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};var i="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield"
.split(" "),s=t.RESERVED_WORDS={};for(var o=0,u=i.length;o<u;o++)s[i[o]]=!0;t.isValidJavaScriptVariableName=function(e){return!t.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(Handlebars.Compiler,Handlebars.JavaScriptCompiler),Handlebars.precompile=function(e,t){t=t||{};var n=Handlebars.parse(e),r=(new Handlebars.Compiler).compile(n,t);return(new Handlebars.JavaScriptCompiler).compile(r,t)},Handlebars.compile=function(e,t){function r(){var n=Handlebars.parse(e),r=(new Handlebars.
Compiler).compile(n,t),i=(new Handlebars.JavaScriptCompiler).compile(r,t,undefined,!0);return Handlebars.template(i)}t=t||{};var n;return function(e,t){return n||(n=r()),n.call(this,e,t)}},Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:(r=this.programs[e]=Handlebars.VM.program(t),r)},programWithDepth:Handlebars.
VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},e.call(t,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,2);return function(n,i){return i=i||{},e.apply(this,[n,i.data||t].concat(r))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,s){options={helpers:r,partials:i,data:s};if(e===undefined)throw new Handlebars
.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,options);if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return i[t]=Handlebars.compile(e),i[t](n,options)}},Handlebars.template=Handlebars.VM.template,define("handlebars",[],function(){return Handlebars}),define("text",["module"],function(e){var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im
,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i=typeof location!="undefined"&&location.href,s=i&&location.protocol&&location.protocol.replace(/\:/,""),o=i&&location.hostname,u=i&&(location.port||undefined),a=[],f=e.config&&e.config()||{},l,c;return l={version:"2.0.1",strip:function(e){if(e){e=e.replace(n,"");var t=e.match(r);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t"
).replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(n=0;n<3;n+=1){r=t[n];try{e=new ActiveXObject(r)}catch(i){}if(e){t=[r];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring
(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=l.xdRegExp.exec(e),s,o,u;return i?(s=i[2],o=i[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===t)&&(!o||o.toLowerCase()===n.toLowerCase())&&(!u&&!o||u===r)):!0},finishLoad:function(e,t,n,r){n=t?l.strip(n):n,f.isBuild&&(a[e]=n),r(n)},load:function(e,t,n,r){if(r.isBuild&&!r.inlineText){n();return}f.isBuild=r.isBuild;var a=l.parseName(e),c=a.moduleName+"."+a.ext,h=t.toUrl(c),p=f.useXhr||l.useXhr;!i||p(h,
s,o,u)?l.get(h,function(t){l.finishLoad(e,a.strip,t,n)},function(e){n.error&&n.error(e)}):t([c],function(e){l.finishLoad(a.moduleName+"."+a.ext,a.strip,e,n)})},write:function(e,t,n,r){if(a.hasOwnProperty(t)){var i=l.jsEscape(a[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,r,i){var s=l.parseName(t),o=s.moduleName+"."+s.ext,u=n.toUrl(s.moduleName+"."+s.ext)+".js";l.load(o,n,function(t){var n=function(e){return r(u,e)};n.asModule=function(e,t){return r
.asModule(e,u,t)},l.write(e,o,n,i)},i)}},typeof process!="undefined"&&process.versions&&!!process.versions.node?(c=require.nodeRequire("fs"),l.get=function(e,t){var n=c.readFileSync(e,"utf8");n.indexOf("ï»¿")===0&&(n=n.substring(1)),t(n)}):l.createXhr()?l.get=function(e,t,n){var r=l.createXhr();r.open("GET",e,!0),f.onXhr&&f.onXhr(r,e),r.onreadystatechange=function(i){var s,o;r.readyState===4&&(s=r.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=r,n(o)):t(r.responseText))},r.send(null)}
:typeof Packages!="undefined"&&(l.get=function(e,t){var n="utf-8",r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),o,u,a="";try{o=new java.lang.StringBuffer,u=s.readLine(),u&&u.length()&&u.charAt(0)===65279&&(u=u.substring(1)),o.append(u);while((u=s.readLine())!==null)o.append(i),o.append(u);a=String(o.toString())}finally{s.close()}t(a)}),l}),define("hb",["handlebars","text"],function(
e,t){var n={},r=function(r,i,s,o){var u="";if(o.isBuild&&typeof process!="undefined"&&process.versions&&process.versions.node){var a=require.nodeRequire("fs");u=a.readFileSync(o.templatePathPrefix+r,"utf8");var f=e.precompile(u);n[r]=f,s(f)}else t.get(i.toUrl(r),function(t){var n=e.compile(t);s(n)})},i=function(e,t,r){if(t in n){var i=n[t];r('define("'+e+"!"+t+'", ["handlebars"], function (Handlebars){'+"return Handlebars.template("+i+");"+"});\n")}};return{load:r,write:i}}),define("hb!templates/modals/AgreementModal.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="modal-header">\n	<h3><i class="glyphicon notes"></i> ',o="End User License Agreement",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	',o="EULA",a=n.partial,u=a||t.partial,typeof u===l?o=u.call
(t,o,{hash:{}}):u===h?o=c.call(t,"partial",o,{hash:{}}):o=u,s+=p(o)+'\n</div>\n\n<div class="modal-footer">\n	<button class="btn btn-primary agree-btn">',o="Agree",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+"</button>\n</div>\n",s})}),define("plex/view/BaseView",["plex/control/init/HandlebarsInit","backbone"],function(){var e=Backbone.View.extend({constructor:function(e){this._views=[],this._bindings=[],Backbone.View.call(this,e)},registerView
:function(t){if(t instanceof e!=1)throw"Only views that extend BaseView can be registered.";return this._views.push(t),t},removeView:function(e){var t=_.indexOf(this._views,e);return e.destroy(),t>-1&&this._views.splice(t,1),e},removeAllViews:function(){for(var e=this._views.length-1;e>=0;e--)this.removeView(this._views[e])},addBinding:function(e,t,n){e.on(t,n,this),this._bindings.push({target:e,event:t,callback:n})},removeBinding:function(e,t,n){e.off(t,n);var r=this._bindings.length;while(r--){
var i=this._bindings[r];i.target===e&&i.event===t&&i.callback===n&&this._bindings.splice(r,1)}},removeAllBindings:function(){_.each(this._bindings,function(e){e.target.off(e.event,e.callback)}),this._bindings.length=0},bindView:function(){if(!this.bindings)return;_.each(_.keys(this.bindings),_.bind(function(e){var t=this.bindings[e],n=_.bind(function(n,r){var i=this.$(e);if(t.format){r=t.format.call(this,i,r);if(typeof r=="undefined")return}t.hideEmpty&&(r?i.removeClass("hide"):i.addClass("hide")
),i.html(r)},this);n(this.model,this.model.get(t.modelAttr)),this.addBinding(this.model,"change:"+t.modelAttr,n)},this))},destroy:function(){return this.undelegateEvents(),this.removeAllBindings(),this.removeAllViews(),this.remove(),this}});return e}),define("plex/view/modals/AgreementModal",["hb!templates/modals/AgreementModal.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({name:"agreementModal",className:"modal agreement-modal fade",events:{hidden:"onClose","click .agree-btn"
:"onAgreeClick"},render:function(){return this.$el.html(e()).modal({backdrop:"static",keyboard:!1}),this},onClose:function(e){t.trigger("destroy:modal",this)},onAgreeClick:function(e){e.preventDefault(),this.collection.first().save({AcceptedEULA:!0}),this.$el.modal("hide"),t.trigger("navigate:setup")}});return r}),define("plex/model/AppModel",["plex/control/Dispatcher","plex/model/SettingsModel","plex/model/DebugInfoModel","plex/model/MyPlexModel","plex/model/ServerModel","plex/model/collections/ServerCollection"
,"plex/model/collections/FriendCollection","plex/model/collections/SocialNetworkCollection","plex/model/media/collections/PlaylistItemCollection","plex/view/modals/AgreementModal","jquery","backbone","xml2json"],function(e,t,n,r,i,s,o,u,a,f,l){var c=Backbone.Model.extend({defaults:{clientID:null,loading:!1,alert:null,view:null,modal:null,initialized:!1,isAuthorized:!1,isUnavailable:!1,isUnsupported:!1,updateStatus:"none",version:"dev"},initialize:function(){n.setAppModel(this);var f=l("body script"
)[0].src,c=/rev=([\.\w]+)$/.exec(f);c&&this.set("version",c[1]),this.on("change:initialized",function(){this.get("primaryServer").get("isAvailable")&&e.trigger("command:CheckForUpdates",!1),setInterval(function(){e.trigger("command:CheckForUpdates",!1)},36e5)});var h;try{h=window.localStorage.getItem("clientID"),h===null&&(h=Math.random().toString(36).substr(2),window.localStorage.setItem("clientID",h))}catch(p){h=Math.random().toString(36).substr(2)}this.set("clientID",h),this.set("settings",t),
this.set("primaryServer",new i({},{app:this})),this.set("servers",new s([],{app:this,server:this.get("primaryServer")})),this.set("clients",new s([],{url:"/clients",server:this.get("primaryServer")})),this.set("myPlex",new r({},{app:this,server:this.get("primaryServer")})),this.set("friends",new o([],{server:this.get("myPlex")})),this.set("friendRequests",new o([],{server:this.get("myPlex"),type:"requests"})),this.set("socialNetworks",new u([],{server:this.get("myPlex")}));var d={};d.queue=new a(
[],{server:this.get("myPlex"),name:"queue",label:"Queue"}),d.recommendations=new a([],{server:this.get("myPlex"),name:"recommendations",label:"Recommendations"}),this.set("playlists",d),this.fetchEverything()},fetchEverything:function(t){var n=!1,r=this.get("primaryServer"),i=this.get("myPlex"),o=this.get("servers"),u=new s([],{app:this});u.url=i.resolveUrl("/pms/servers"),this.set({isUnsupported:!1,isUnavailable:!1,isAuthorized:!1}),t||e.trigger("command:ShowLoading",!0);var a=_.bind(function(){
t||e.trigger("command:ShowLoading",!1);if(!r.get("shared")){var n=r.get("preferences");n.fetch({hideLoadingAlert:!0}).done(_.bind(function(){var e=n.get("AcceptedEULA");e&&e.get("value")===!1&&this.set("modal",new f({collection:n}))},this))}i.get("signedIn")&&(this.get("friends").fetch({hideLoadingAlert:!0}),this.get("friendRequests").fetch({hideLoadingAlert:!0}),this.get("socialNetworks").fetch({hideLoadingAlert:!0})),this.get("initialized")&&!t?e.trigger("navigate:dashboard"):this.set("initialized"
,!0)},this);if(typeof JSON!="object"){this.set("isUnsupported",!0),a();return}var c=r.fetch().pipe(_.bind(function(){return this.set("isAuthorized",!0),i.fetch()},this),_.bind(function(){return n=!0,i.fetch()},this)),h=c.pipe(_.bind(function(){var e=i.get("authToken");if(n){r.set("remote",!0);if(e){var t=u.fetch().pipe(_.bind(function(){return l.ajax(r.getAjaxOptions("/identity"))},this)),s=t.pipe(_.bind(function(e){var t=l.xml2json(e)||e,n=i.get("authToken"),s=u.get(t.machineIdentifier);if(s){var o=
s.get("accessToken");o&&(n=o)}return r.set("accessToken",n),r.fetch()},this),_.bind(function(){var e=i.get("authToken"),t=u.where({address:window.location.hostname,port:window.location.port});if(t&&t.length){var n=t[0].get("accessToken");n&&(e=n)}return r.set("accessToken",e),r.fetch()},this));return s.pipe(_.bind(function(){var e=u.get(r.id);this.set("isAuthorized",!0);if(!e||!e.get("shared"))return o.fetch();r.set("shared",!0),o.populatePromise=u.populatePromise},this))}return l.Deferred().reject
(this)}return r.set("remote",!1),e?u.fetch().pipe(function(){return o.fetch()},function(){return o.fetch()}):o.fetch()},this),_.bind(function(e){return n?(e.status!==422&&this.set("isUnsupported",!0),l.Deferred().reject(this)):o.fetch()},this)),p=h.pipe(_.bind(function(){if(u.length){var e=u.reject(function(e){var t=o.get(e.id);return!t&&!e.get("accessToken")&&e.set("accessToken",i.get("authToken")),t});_.each(e,function(e){e.set("remote",!0)}),o.add(e)}o.each(function(e){e.fetch({hideLoadingAlert
:!0})}),a()},this),_.bind(function(){this.set("isUnavailable",!0),a()},this));return p}});return window.appModel=new c,window.appModel}),define("plex/model/HeaderModel",["backbone"],function(){var e=Backbone.Model.extend({defaults:{show:!1,showBack:!1,activeSearch:null,activeServer:null,activeSection:null,activeMedia:null,activeChannel:null,activeChannelMedia:null},reset:function(){this.set({activeSearch:"",activeServer:null,activeSection:null,activeMedia:null,activeChannel:null,activeChannelMedia
:null})}});return new e}),SHA256_hexchars=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),SHA256_K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372
,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),define("sha256",function(){}),define("plex/control/utils/TranscodeUtil",["plex/model/AppModel","plex/model/HeaderModel","jquery","base64","sha256"],function(e,t,n){var r="/photo/:/transcode?"
,i="/music/:/transcode/",s="/video/:/transcode/segmented/",o="KQMIY6GATPC63AIMC4R2",u=decode64("k3U6GLkZOoNIoSgjDshPErvqMIFdE0xMTx8kgsrhnC0="),a="protocols=http-live-streaming,http-mp4-streaming,http-streaming-video,http-streaming-video-720p,http-mp4-video,http-mp4-video-720p;videoDecoders=h264{profile:high&resolution:1080&level:51};audioDecoders=mp3,aac{bitrate:160000}";return{image:function(t,i,s,o){if(!i)return"";t||(t=e.get("primaryServer"));var u={url:t.resolveUrl(i,!0),width:s,height:o};return t
.get("accessToken")&&(u["X-Plex-Token"]=t.get("accessToken")),t.resolveUrl(r)+n.param(u,!0)},music:function(t){var r=t.server.get("transcoderAudio")?t.server:e.get("primaryServer"),s=r.get("accessToken"),o=t.get("Media"),u;_.isArray(o)&&(o=o[0]),_.isArray(o.Part)?u=o.Part[0].key:u=o.Part.key;var f={identifier:t.get("identifier"),url:r.resolveUrl(u,!0),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},l=i+"generic.mp3?"+n.param(f,!0),c=r.resolveUrl(l);return s&&(c+="&X-Plex-Token="+
s),c+="&X-Plex-Client-Capabilities="+encodeURIComponent(a),c},video:function(t,r,i,f,l){var c=e.get("clientID"),h=e.get("settings"),p=Math.round((new Date).getTime()/1e3),d=0,v=t.get("remote")?h.get("remoteQuality"):h.get("quality"),m=h.get("subtitleSize"),g=h.get("audioBoost"),y=i.key,b={identifier:r.get("identifier"),key:t.resolveUrl(r.get("key"),!0),url:t.resolveUrl(y,!0),session:c,offset:d,quality:v,subtitleSize:m,audioBoost:g,"3g":0},w=r.get("indirectHttpHeaders");w&&(b.httpCookies=w.Cookie,
b.userAgent=w["User-Agent"]);var E=s+"start.m3u8?"+n.param(b,!0);HMAC_SHA256_init(u),HMAC_SHA256_write(E+"@"+p);var S=HMAC_SHA256_finalize(),x=encode64(array_to_string(S)),T=t.resolveUrl(E),N=t.getHeaders();T+="&"+n.param(N),T+="&X-Plex-Access-Key="+o,T+="&X-Plex-Access-Code="+encodeURIComponent(x),T+="&X-Plex-Access-Time="+p,T+="&X-Plex-Client-Capabilities="+encodeURIComponent(a),n.ajax({url:T,dataType:"text",success:function(e){var n=e.replace(/[\s\S]+(session.+?\.m3u8)[\s\S]+/,"$1"),r=n.split("/"
)[1],i=t.resolveUrl("video/:/transcode/segmented/")+n;f(i,r)},error:function(e,t,n){l(e,t,n)}})}}}),define("hb!templates/helpers/LockableTextInput.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){return"selected"}function y(e,t){var r="",i,s;r+='\n			<textarea class="input-dark span12 lockable-field" name="',f=n.name,i=f||e.name,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"name",{hash:{}})),r+=v(i)+'"',f=n.rows,i=f||e.rows,s=n["if"],l=c.program(4,b,t
),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+=">",f=n.value,i=f||e.value,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"value",{hash:{}})),r+=v(i)+"</textarea>\n		",r}function b(e,t){var r="",i;return r+=' rows="',f=n.rows,i=f||e.rows,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"rows",{hash:{}})),r+=v(i)+'"',r}function w(e,t){var r="",i;return r+='\n			<input class="input-dark span12 lockable-field" type="',f=n.type,i=f||e.type,typeof i===h?i=i.call
(e,{hash:{}}):i===d&&(i=p.call(e,"type",{hash:{}})),r+=v(i)+'" name="',f=n.name,i=f||e.name,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"name",{hash:{}})),r+=v(i)+'" value="',f=n.value,i=f||e.value,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"value",{hash:{}})),r+=v(i)+'">\n		',r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;s+='<div class="control-group">\n	<label>',f=n.label,o=f||t.label,f=n.t,
u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n	<a href="#" data-field="',f=n.name,o=f||t.name,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"name",{hash:{}})),s+=v(o)+'" class="badge lock-btn ',f=n.locked,o=f||t.locked,u=n["if"],l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='"><i class="glyphicon lock"></i></a>\n\n	<div class="lockable-input">\n		',o="textarea",f=n.type,u=f||t.type,f=n.if_eq
,a=f||t.if_eq,l=c.program(3,y,i),l.hash={},l.fn=l,l.inverse=c.program(6,w,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+="\n	</div>\n</div>\n",s})}),define("hb!templates/helpers/LockableTagInput.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"selected"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="control-group">\n	<label>',a=n.label,o=a||t.label
,a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</label>\n	<a href="#" data-field="',a=n.name,o=a||t.name,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"name",{hash:{}})),s+=d(o)+'" class="badge lock-btn ',a=n.locked,o=a||t.locked,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='"><i class="glyphicon lock"></i></a>\n\n	<div class="lockable-input">\n		<input type="hidden" class="span12 lockable-field input-select2" value="'
,a=n.value,o=a||t.value,a=n.tags,u=a||t.tags,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"tags",o,{hash:{}}):o=u,s+=d(o)+'" data-name="',a=n.name,o=a||t.name,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"name",{hash:{}})),s+=d(o)+'">\n	</div>\n</div>\n',s})}),define("hb!templates/helpers/PreferenceEdit.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){return" advanced-prefs hide"}function y(e,t){var r="",i,s;r+='\n		<label class="checkbox" for="input_'
,f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i),f=n.idSuffix,i=f||e.idSuffix,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"idSuffix",{hash:{}})),r+=v(i)+'">\n			<input id="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i),f=n.idSuffix,i=f||e.idSuffix,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"idSuffix",{hash:{}})),r+=v(i)+'" type="checkbox" value="1" class="input-dark" name="'
,f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'"',f=n.value,i=f||e.value,s=n["if"],l=c.program(4,b,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;r+="> &nbsp;",f=n.label,i=f||e.label,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"\n		</label>\n\n		",f=n.summary,i=f||e.summary,s=n["if"],l=c.program(6,w,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n	"
,r}function b(e,t){return' checked="checked"'}function w(e,t){var r="",i,s;return r+='\n			<p class="help-block">',f=n.summary,i=f||e.summary,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</p>\n		",r}function E(e,t){var r="",i,s;r+='\n		<label class="control-label" for="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i),f=n.idSuffix,i=f||e.idSuffix,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=
p.call(e,"idSuffix",{hash:{}})),r+=v(i)+'">',f=n.label,i=f||e.label,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n\n		<div class="controls">\n			',f=n.enumValues,i=f||e.enumValues,s=n["if"],l=c.program(9,S,t),l.hash={},l.fn=l,l.inverse=c.program(13,N,t),i=s.call(e,i,l);if(i||i===0)r+=i;r+="\n\n			",f=n.summary,i=f||e.summary,s=n["if"],l=c.program(15,C,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n		</div>\n	"
,r}function S(e,t){var r="",i,s;r+='\n				<select id="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i),f=n.idSuffix,i=f||e.idSuffix,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"idSuffix",{hash:{}})),r+=v(i)+'" class="input-dark span4" name="',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'">\n					',f=n.enumValues,i=f||e.enumValues,s=n.each,l=c.programWithDepth(x,t,e),l.hash={},l.fn=
l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n				</select>\n			",r}function x(e,t,r){var i="",s,o,u;i+='\n						<option value="',f=n.value,s=f||e.value,typeof s===h?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"value",{hash:{}})),i+=v(s)+'"',f=n.value,s=f||r.value,f=n.value,o=f||e.value,f=n.if_eq,u=f||e.if_eq,l=c.program(11,T,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof u===h?s=u.call(e,o,s,l):s=m.call(e,u,o,s,l);if(s||s===0)i+=s;return i+=">",f=n.label,s=f||e.label,f=n.t,o=f||e
.t,typeof o===h?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+"</option>\n					",i}function T(e,t){return' selected="selected"'}function N(e,t){var r="",i;return r+='\n				<input id="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i),f=n.idSuffix,i=f||e.idSuffix,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"idSuffix",{hash:{}})),r+=v(i)+'" type="text" class="input-dark span4" name="',f=n.id,i=f||e.id,typeof i===
h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'" value="',f=n.value,i=f||e.value,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"value",{hash:{}})),r+=v(i)+'">\n			',r}function C(e,t){var r="",i,s;return r+='\n				<p class="help-block">',f=n.summary,i=f||e.summary,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</p>\n			",r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression
,m=n.blockHelperMissing;s+='<div class="control-group',f=n.advanced,o=f||t.advanced,u=n["if"],l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n	',o="bool",f=n.type,u=f||t.type,f=n.if_eq,a=f||t.if_eq,l=c.program(3,y,i),l.hash={},l.fn=l,l.inverse=c.program(8,E,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+="\n</div>\n",s})}),define("hb!templates/helpers/SectionPathInput.tpl",["handlebars"],function(e){return e.template
(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<div class="path-container">\n	<input type="text" name="path" class="span12" value="',u=n.value,o=u||t.value,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"value",{hash:{}})),s+=h(o)+'">\n	<div class="path-actions">\n		<a href="#" class="remove-path"><i class="glyphicon circle-remove"></i></a>\n	</div>\n</div>\n',s})}),define("hb!templates/helpers/AdaptiveChannelListItem.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){return"well"}function y(e,t){var n;return n=e.ratingKey,typeof n===h?n=n.call(e,{hash:{}}):n===d&&(n=p.call(e,"this.ratingKey",{hash:{}})),v(n)}function b(e,t){var n;return n=e.key,typeof n===h?n=n.call(e,{hash:{}}):n===d&&(n=p.call(e,"this.key",{hash:{}})),v(n)}function w(e,t){return"/details"}function E(e,t){var r="",i,s;return r+="key=",f=n.channelKey,i=f||e.channelKey,f=n.encodeURL,s=f||e.encodeURL,typeof s===h?
i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"encodeURL",i,{hash:{}}):i=s,r+=v(i),r}function S(e,t){var r="",i;return r+="identifier=",f=n.channelID,i=f||e.channelID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"channelID",{hash:{}})),r+=v(i),r}function x(e,t){var r="",i,s,o,u,a;r+='\n\n			<div class="poster-container">\n				<img class="poster" data-original="',i=150,s=100,o=e.thumb,f=n.serverObj,u=f||e.serverObj,f=n.transcodeImage,a=f||e.transcodeImage,typeof a===h?i=a.call(e,u,o,s,i,{hash:
{}}):a===d?i=p.call(e,"transcodeImage",u,o,s,i,{hash:{}}):i=a,r+=v(i)+'" src="img/posters/poster_square.png" width="100">\n			</div>\n\n			<div class="poster-details">\n				<div class="metadata-right">\n					',i=e.duration,s=n["if"],l=c.program(14,T,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;r+="\n				</div>\n\n				<h3>",i=60,s=e.title,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+"</h3>\n\n				"
,i=e.summary,s=n["if"],l=c.program(16,N,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n			</div>\n\n		",r}function T(e,t){var r="",i,s;return r+='\n						<div class="metadata">',i=e.duration,f=n.formatMinutes,s=f||e.formatMinutes,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"formatMinutes",i,{hash:{}}):i=s,r+=v(i)+"</div>\n					",r}function N(e,t){var r="",i,s,o;return r+='\n					<div class="summary">',i=180,s=e.summary,f=n.truncate,o=f||e.truncate,typeof 
o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+"</div>\n				",r}function C(e,t){var r,i,s;return r="poster-tile-list",f=n.listType,i=f||e.listType,f=n.if_eq,s=f||e.if_eq,l=c.program(19,k,t),l.hash={},l.fn=l,l.inverse=c.program(21,L,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function k(e,t){var r="",i,s,o,u,a;return r+='\n\n			<div class="poster-container">\n				<div class="poster-card">\n					<div class="poster-face front">\n						<img class="poster" data-original="'
,i=133,s=133,o=e.thumb,f=n.serverObj,u=f||e.serverObj,f=n.transcodeImage,a=f||e.transcodeImage,typeof a===h?i=a.call(e,u,o,s,i,{hash:{}}):a===d?i=p.call(e,"transcodeImage",u,o,s,i,{hash:{}}):i=a,r+=v(i)+'" src="img/posters/poster_square.png">\n					</div>\n				</div>\n			</div>\n\n			<div class="poster-title">',i=e.title,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"this.title",{hash:{}})),r+=v(i)+"</div>\n\n		",r}function L(e,t){var r,i,s;return r="compact-list",f=n.listType,i=f||e.listType
,f=n.if_eq,s=f||e.if_eq,l=c.program(22,A,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function A(e,t){var r="",i,s;r+="\n\n			",i=e.duration,s=n["if"],l=c.program(23,O,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+='\n\n			<span class="media-title">',i=e.title,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"this.title",{hash:{}})),r+=v(i)+"</span>\n\n		",r}function O(e,t){var r="",i,s;return r+='\n				<div class="compact-sort">'
,i=e.duration,f=n.formatMinutes,s=f||e.formatMinutes,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"formatMinutes",i,{hash:{}}):i=s,r+=v(i)+"</div>\n			",r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;s+='<li class="channel ',f=n.itemType,o=f||t.itemType,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"itemType",{hash:{}})),s+=v(o)+" ",o="poster-list",f=n.listType,u=f||t.listType,f=n.if_eq,a=f||t.if_eq
,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+='">\n	<a data-id="',o=t.ratingKey,u=n["if"],l=c.program(3,y,i),l.hash={},l.fn=l,l.inverse=c.program(5,b,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='" href="#!/servers/',f=n.serverID,o=f||t.serverID,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"serverID",{hash:{}})),s+=v(o)+"/channels",o="video",f=n.itemType,u=f||t.itemType,f=n.if_eq,a=f||t.if_eq,l=c.program(7,w,i),l
.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="?",f=n.channelKey,o=f||t.channelKey,u=n["if"],l=c.program(9,E,i),l.hash={},l.fn=l,l.inverse=c.program(11,S,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+="&path=",o=t.key,f=n.encodeURL,u=f||t.encodeURL,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"encodeURL",o,{hash:{}}):o=u,s+=v(o)+'">\n\n		',o="poster-list",f=n.listType,u=f||t.listType,f=n.if_eq,a=f||t.if_eq,l=c.program(13,x,i),l.hash={}
,l.fn=l,l.inverse=c.program(18,C,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+="\n\n	</a>\n</li>\n",s})}),define("hb!templates/helpers/BreadcrumbMediaItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s,o;r+='\n	<li class="divider"></li>\n\n	<li id="channel-breadcrumb" class="breadcrumb-item">\n		<a class="breadcrumb-placeholder breadcrumb-btn" href="#">\n			<i class="glyphicon more"></i>\n		</a>\n\n		<div class="breadcrumb-content">\n			<a class="breadcrumb-btn" href="#!/servers/'
,a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+"/channels?",a=n.channel,i=a||e.channel,i=i===null||i===undefined||i===!1?i:i.key,s=n["if"],f=l.program(2,g,t),f.hash={},f.fn=f,f.inverse=l.program(4,y,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+='">\n				',i=20,a=n.channel,s=a||e.channel,s=s===null||s===undefined||s===!1?s:s.title,a=n.truncate,o=a||e.truncate,typeof 
o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n			</a>\n		</div>\n	</li>\n",r}function g(e,t){var r="",i,s;return r+="key=",a=n.channel,i=a||e.channel,i=i===null||i===undefined||i===!1?i:i.key,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i),r}function y(e,t){var r="",i;return r+="identifier=",a=n.channel,i=a||e.channel,i=i===null||i===undefined||i===!1?i:i.identifier,typeof i===c?i=
i.call(e,{hash:{}}):i===p&&(i=h.call(e,"channel.identifier",{hash:{}})),r+=d(i),r}function b(e,t){var r,i;return a=n.channelMedia,r=a||e.channelMedia,i=n["if"],f=l.program(7,w,t),f.hash={},f.fn=f,f.inverse=l.program(18,k,t),r=i.call(e,r,f),r||r===0?r:""}function w(e,t){var r="",i,s,o;r+='\n	<li class="divider"></li>\n\n	<li class="channel-media-breadcrumb breadcrumb-item">\n		<a class="breadcrumb-placeholder breadcrumb-btn" href="#">\n			<i class="glyphicon more"></i>\n		</a>\n\n		<div class="breadcrumb-content">\n			'
,i="channelVideo",a=n.channelMedia,s=a||e.channelMedia,s=s===null||s===undefined||s===!1?s:s.type,a=n.if_eq,o=a||e.if_eq,f=l.program(8,E,t),f.hash={},f.fn=f,f.inverse=l.program(13,T,t),a&&typeof o===c?i=o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;return r+="\n				",i=20,a=n.channelMedia,s=a||e.channelMedia,s=s===null||s===undefined||s===!1?s:s.title,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n			</a>\n		</div>\n	</li>\n"
,r}function E(e,t){var r="",i,s;r+='\n				<a class="breadcrumb-btn" href="#!/servers/',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+"/channels/details?",a=n.channelKey,i=a||e.channelKey,s=n["if"],f=l.program(9,S,t),f.hash={},f.fn=f,f.inverse=l.program(11,x,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="&path=",a=n.channelMedia,i=a||e.channelMedia,i=i===null||i===
undefined||i===!1?i:i.key,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i)+'">\n			',r}function S(e,t){var r="",i,s;return r+="key=",a=n.channelKey,i=a||e.channelKey,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i),r}function x(e,t){var r="",i;return r+="identifier=",a=n.channelID,i=a||e.channelID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"channelID"
,{hash:{}})),r+=d(i),r}function T(e,t){var r="",i,s;r+='\n				<a class="breadcrumb-btn" href="#!/servers/',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+"/channels?",a=n.channelKey,i=a||e.channelKey,s=n["if"],f=l.program(14,N,t),f.hash={},f.fn=f,f.inverse=l.program(16,C,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="&path=",a=n.channelMedia,i=a||e.channelMedia,i=
i===null||i===undefined||i===!1?i:i.key,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i)+'">\n			',r}function N(e,t){var r="",i,s;return r+="key=",a=n.channelKey,i=a||e.channelKey,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i),r}function C(e,t){var r="",i;return r+="identifier=",a=n.channelID,i=a||e.channelID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&
(i=h.call(e,"channelID",{hash:{}})),r+=d(i),r}function k(e,t){var r="",i,s,o;r+="\n\n	",a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.grandparentRatingKey,s=n["if"],f=l.program(19,L,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n	",a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.parentRatingKey,s=n["if"],f=l.program(21,A,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='\n\n	<li class="divider"></li>\n\n	<li class="media-breadcrumb breadcrumb-item">\n		<a class="breadcrumb-placeholder breadcrumb-btn" href="#">\n			<i class="glyphicon more"></i>\n		</a>\n\n		<div class="breadcrumb-content">\n			<a class="breadcrumb-btn" href="#!/servers/'
,a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+"/sections/",a=n.section,i=a||e.section,i=i===null||i===undefined||i===!1?i:i.key,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"section.key",{hash:{}})),r+=d(i)+"/details/",a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"media.ratingKey"
,{hash:{}})),r+=d(i)+'">\n				',i="episode",a=n.media,s=a||e.media,s=s===null||s===undefined||s===!1?s:s.type,a=n.if_eq,o=a||e.if_eq,f=l.program(26,_,t),f.hash={},f.fn=f,f.inverse=l.program(28,D,t),a&&typeof o===c?i=o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;return r+="\n			</a>\n		</div>\n	</li>\n",r}function L(e,t){var r="",i,s,o;return r+='\n		<li class="divider"></li>\n\n		<li class="media-breadcrumb breadcrumb-item">\n			<a class="breadcrumb-placeholder breadcrumb-btn" href="#">\n				<i class="glyphicon more"></i>\n			</a>\n\n			<div class="breadcrumb-content">\n				<a class="breadcrumb-btn" href="#!/servers/'
,a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+"/sections/",a=n.section,i=a||e.section,i=i===null||i===undefined||i===!1?i:i.key,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"section.key",{hash:{}})),r+=d(i)+"/details/",a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.grandparentRatingKey,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"media.grandparentRatingKey"
,{hash:{}})),r+=d(i)+'">\n					',i=20,a=n.media,s=a||e.media,s=s===null||s===undefined||s===!1?s:s.grandparentTitle,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n				</a>\n			</div>\n		</li>\n	",r}function A(e,t){var r="",i,s;r+='\n		<li class="divider"></li>\n\n		<li class="media-breadcrumb breadcrumb-item">\n			<a class="breadcrumb-placeholder breadcrumb-btn" href="#">\n				<i class="glyphicon more"></i>\n			</a>\n\n			<div class="breadcrumb-content">\n				<a class="breadcrumb-btn" href="#!/servers/'
,a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+"/sections/",a=n.section,i=a||e.section,i=i===null||i===undefined||i===!1?i:i.key,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"section.key",{hash:{}})),r+=d(i)+"/details/",a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.parentRatingKey,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"media.parentRatingKey"
,{hash:{}})),r+=d(i)+'">\n					',a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.parentTitle,s=n["if"],f=l.program(22,O,t),f.hash={},f.fn=f,f.inverse=l.program(24,M,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n				</a>\n			</div>\n		</li>\n	",r}function O(e,t){var r="",i,s,o;return r+="\n						",i=20,a=n.media,s=a||e.media,s=s===null||s===undefined||s===!1?s:s.parentTitle,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}
):i=o,r+=d(i)+"\n					",r}function M(e,t){var r="",i,s;return r+="\n						",i="Season",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+" ",a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.parentIndex,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"media.parentIndex",{hash:{}})),r+=d(i)+"\n					",r}function _(e,t){var r="",i,s;return r+="\n					",i="Episode",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t"
,i,{hash:{}}):i=s,r+=d(i)+" ",a=n.media,i=a||e.media,i=i===null||i===undefined||i===!1?i:i.index,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"media.index",{hash:{}})),r+=d(i)+"\n				",r}function D(e,t){var r="",i,s,o;return r+="\n					",i=20,a=n.media,s=a||e.media,s=s===null||s===undefined||s===!1?s:s.title,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n				",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function"
,h=n.helperMissing,p=void 0,d=this.escapeExpression,v=n.blockHelperMissing;a=n.channel,o=a||t.channel,u=n["if"],f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.program(6,b,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("hb!templates/helpers/EULA.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<h3>End User License AgreementâPlex Media Server</h3>\n\n<p>BY ACCEPTING THE TERMS OF THIS END USER LICENSE AGREEMENT BY CLICKING THE âAGREEâ BUTTON, YOU  ("YOU") ARE UNCONDITIONALLY CONSENTING TO BE BOUND BY AND ARE BECOMING A PARTY TO THIS END USER LICENSE AGREEMENT ("AGREEMENT"). YOUR USE OF PLEX MEDIA SERVER (THE âSOFTWAREâ) ALSO SHALL CONSTITUTE ASSENT TO THE TERMS OF THIS AGREEMENT. IF YOU DO NOT UNCONDITIONALLY AGREE TO ALL OF THE TERMS OF THIS AGREEMENT, SELECT THE "DISAGREE" BUTTON AND YOU WILL NOT HAVE ANY RIGHT TO USE THE SOFTWARE. Acceptance by and the formation of this Agreement with Plex, Inc. ("Plex") is expressly conditioned upon Your assent to all of the terms and conditions of this Agreement, to the exclusion of all other terms; if these terms are considered an offer, acceptance is expressly limited to these terms.</p>\n\n<p>The Software includes certain executable modules that Plex has licensed from third party providers (âThird Party Componentsâ) that may be subject to different end user license terms as specified in the license agreement(s) provided with such Third Party Components.</p>\n\n<p>1. License. Subject to your full compliance with all of the terms and conditions of this Agreement, Plex grants You a personal, nontransferable, nonsublicensable, nonexclusive license to use the software that accompanies this Agreement (the "Application"), the accompanying documentation, and any additional software that may be made available by Plex from time to time for use with the Application (collectively "Software") for Your personal use only, as supplied to You by Plex.  Except as may be expressly permitted in a separate written agreement executed by You and an authorized representative of Plex, this Agreement only allows You to: (i) run the Software as received at the time of delivery; (ii) install the Software on a single machine or only for the number of users or core(s) as may be specified in a separate order form and paid for by You or Your company, employer, or principal; and (iii) use the Software in accordance with the accompanying documentation solely for legal purposes, but not for nuclear or aviation purposes, for controlling any apparatus, for any hazardous activity, or for treating the human body.</p>\n\n<p>2. Restrictions.</p>\n\n<p>A.	You shall not, nor permit anyone else to, directly or indirectly: (i) copy, modify, or distribute the Software; (ii) reverse engineer, disassemble, decompile, or otherwise attempt to discover the source code or structure, sequence, and/or organization of all or any part of the Software (except that this restriction shall not apply to the limited extent restrictions on reverse engineering are prohibited by applicable local law); (iii) rent, lease, or use the Software for timesharing or service bureau purposes; (iv) develop any improvement, modification, or derivative works of the Software, or include any portion thereof in any other product, software, work, equipment, or item (except that You may customize and/or modify the Software only as set forth in the documentation or as authorized in any license agreement of Plexâs third party licensors and applicable to Third Party Components); or (v) allow the transfer, transmission, export, or re-export of the Software or any portion thereof or any technical data associated with any Software.  For additional information about restrictions, see Section 8.</p>\n\n<p>B.	You shall not incorporate the Software or any part thereof into any other product(s) or use the Software in any manner that would cause the Software to become subject to any âopen source licenseâ that would impose obligations on Plexâs use of the Software or impair any rights of Plex or third parties thereto.  You shall maintain and shall not remove nor obscure any proprietary notices on the Software, and shall reproduce such notices exactly on all permitted copies of the Software. As between the parties and except as otherwise provided in any license agreement for Third Party Components, Plex shall own all title, ownership rights, and intellectual property rights in and to the Software, and any copies or derivative works thereof.  You understand that Plex or its licensors may modify or discontinue offering the Software at any time. This Agreement does not give You any rights not expressly and unambiguously granted herein.</p>\n\n<p>C.	You shall not make any use of data adapters or similar technologies used by or with the Software that are designed to receive and use data from Plex, its third party data providers, and its and their affiliates and third parties other than to receive and use such data in accordance with Your then-effective agreements with Plex, such third party data providers, and its and their affiliates and third parties including without limitation any data passing through the Software or otherwise effectively made available by any Software through an API, a download, a database, or the like. Data is provided by Plex or other third party data providers and may be delayed or unavailable as specified by Plex or such third party data providers.  Plex does not verify any data and disclaims any obligation to do so.  Plex, its third party data providers, and each of their affiliates and business partners: (i) expressly disclaim the availability, accuracy, adequacy, or completeness of any data or third party data provider, and (ii) shall not be liable for any errors, omissions, or other defects in, unavailability of, delays or interruptions in such data or third party data provider.</p>\n\n<p>3. Intellectual Property; Content. As a condition to Your use of the Software, You represent and  warrant that You will not use the Software: (i) to infringe the intellectual property or proprietary rights, or rights of publicity or privacy, of any third party; (ii) to violate any applicable law, statute, ordinance, or regulation; (iii) to disseminate, transfer or store information or materials in any form or format ("Content") that are harmful, threatening, abusive, harassing, tortuous, defamatory, vulgar, obscene, libelous, or otherwise objectionable, or that otherwise violate any law or right of any third party; or (iv) to disseminate any software viruses or any other computer code, files, programs, or the like that may without limitation interrupt, destroy, or limit the functionality of any computer software or hardware or telecommunications equipment, violate the security of any computer network, or the like.  You, not Plex, remain solely responsible for all Content that You import, publish, or otherwise disseminate using, or in connection with, the Software.  You acknowledge that all Content that You access through use of the Software is accessed at Your own risk, and You will be solely responsible for any damage or liability to any party resulting from such access.</p>\n\n<p>4. Support.  This Agreement does not entitle You to any support, upgrades, patches, enhancements, or fixes (collectively, "Support") for the Software. Any such Support for the Software that may be made available by Plex, in its sole discretion, shall be offered solely subject to a separate written agreement.</p>\n\n<p>5. Warranty Disclaimer.</p>\n\n<p>A.	THE SOFTWARE IS PROVIDED "AS IS".  PLEX MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, AND PLEX EXPRESSLY DISCLAIMS ALL WARRANTIES, INCLUDING WITHOUT LIMITATION, ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  FURTHER, PLEX DOES NOT WARRANT AGAINST ERRORS, OMISSIONS, RESULTS OF USE, OR THAT THE SOFTWARE IS BUG FREE OR ERROR FREE OR THAT ITS USE WILL BE UNINTERRUPTED.  THIS DISCLAIMER OF WARRANTY CONSTITUTES AN ESSENTIAL PART OF THIS AGREEMENT.  ALL THE FOREGOING DISCLAIMERS ALSO APPLY IN FULL WITH RESPECT TO PLEX\'S LICENSORS, SUPPLIERS, DISTRIBUTORS, CONTRACTORS, AGENTS, AND THIRD PARTY CONTRIBUTORS.  SOME STATES DO NOT ALLOW THE EXCLUSION OF IMPLIED WARRANTIES, SO THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU.</p>\n\n<p>B.	âMalwareâ means any known, discovered, envisioned, or invented, or any yet to be known, discovered, envisioned, or invented: (i) virus, Trojan horse, or any other harmful, harassing, or malicious software; or (ii) method, use, or means by which any software, firmware, equipment, device, communications medium, person, entity, or the like directly or indirectly engages in or is used for: (a) any unauthorized access; (b) any unauthorized communication; or (c) any cracks, hacks, exploits, or other activity, method, use, or means, that may cause harassment, harm, data loss, data theft, loss of communication, loss of privacy, or the like.  You acknowledge that the Internet, dedicated lines, other forms of communication, or other means that You use to connect to the Software may not be secure and may be vulnerable to attack by third parties, and that it is possible to receive  Malware by using the Internet, dedicated lines, other forms of communication, or other means.  In order to protect the Software, You shall regularly obtain, use, and update appropriate third party software or other means to protect Yourself from Malware and to detect and remove Malware that may be downloaded using the Internet, dedicated lines, other forms of communication, or other means.  Plex does not warrant that the Software will be free of Malware that is introduced by third parties, the Internet, dedicated lines, other forms of communication, or other means.</p>\n\n<p>C.	Plex and its licensors, suppliers, distributors, contractors, agents, and third party contributors do not warrant: (i) results of the use of any of the Software; (ii) that the Software is bug free or error free; (iii) or that use of the Software will be uninterrupted. You agree that Plex and its Affiliates are not responsible for any fault, inaccuracy, error, omission, delay or any other failure of Your equipment and/or services caused by Plexâs hardware, software, cabling, network services, or the like, or arising from Plexâs use of such equipment and/or services.</p>\n\n<p>6. Limitation of Remedies and Damages. UNDER NO CIRCUMSTANCES AND UNDER NO LEGAL THEORY, INCLUDING, BUT NOT LIMITED TO, TORT, CONTRACT, NEGLIGENCE, STRICT LIABILITY, OR OTHERWISE, SHALL PLEX BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY: (I) FOR ANY INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES OF ANY CHARACTER INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOST PROFITS, LOSS OF GOODWILL, WORK STOPPAGE, ACCURACY OF RESULTS, COMPUTER FAILURE OR MALFUNCTION, LOSS OF DATA, OR OTHER DAMAGES RESULTING FROM YOUR USE OF THE SOFTWARE; OR (II) FOR ANY MATTER BEYOND ITS REASONABLE CONTROL. PLEX\'S AGGREGATE LIABILITY FOR DAMAGES OF ANY KIND WHATSOEVER ARISING OUT OF THIS AGREEMENT SHALL BE LIMITED TO THE LESSER OF THE TOTAL FEES PAID BY YOU TO PLEX (IF ANY) FOR THE PORTION OF THE SOFTWARE THAT GAVE RISE TO SUCH DAMAGES OR $100 (U.S.), EXCEPT WHERE NOT PERMITTED BY APPLICABLE LAW, IN WHICH CASE PLEX\'S LIABILITY SHALL BE LIMITED TO THE MINIMUM AMOUNT PERMITTED BY SUCH APPLICABLE LAW.  ALL THE FOREGOING LIMITATIONS SHALL APPLY EVEN IF EITHER PARTY HAS BEEN INFORMED OF THE POSSIBILITY OF SUCH DAMAGES.  ALL THE FOREGOING LIMITATIONS ALSO APPLY WITH RESPECT TO PLEX\'S SUPPLIERS, LICENSORS, DISTRIBUTORS, CONTRACTORS, AGENTS, AND THIRD PARTY CONTRIBUTORS.  SOME STATES DO NOT ALLOW THE EXCLUSION OR LIMITATION OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE ABOVE LIMITATION AND EXCLUSION MAY NOT APPLY TO YOU.</p>\n\n<p>7. Indemnity. You agree that Plex and its licensors, distributors, contractors, agents, and third party contributors shall have no liability whatsoever for any use You make of the Software. You shall indemnify and hold harmless Plex and its licensors, suppliers, distributors, contractors, agents, and third party contributors from any claims, damages, liabilities, costs and fees (including reasonable attorney fees) arising from Your use of the Software as well as from Your failure to comply with any term of this Agreement, or any losses, damages, claims, costs, and/or attorneysâ fees of You arising from any use of or reliance upon any information received in connection with the Software that comprises or is based upon data provided by Plex or any third party.</p>\n\n<p>8. Additional Information About Restrictions.</p>\n\n<p>A.	You may reverse engineer the Software solely for the purpose of debugging modifications made by You to certain Third Party Files in source code format that are licensed under the GNU Lesser General Public License (LGPL) or under the GNU General Public License version 2 (GPL2) and only provided that You have made, prior to any such reverse engineering permitted under this sentence, unsuccessful prior reasonable good faith efforts to debug such modifications using techniques other than the reverse engineering of the Software.</p>\n\n<p>B.	Certain Third Party Files may be provided to You with the Software and licensed to You under additional terms set forth in license agreements of the third party authors of the Third Party Files and are available from Plex upon request.  Certain Third Party Files modified by Plex are provided solely for use by You except for GPL2 files.  You shall not distribute or convey the Software or distribute or convey any modified or unmodified Third Party Files to any other person or entity in any manner whatsoever, and You shall not cause the Software or any modified or unmodified Third Party Files to be made available for viewing, copying, or downloading or the like with the sole exception of GPL2 files. Plex hereby offers, for a period ending three (3) years from Your first acceptance of this Agreement, to transfer to You a copy of the complete corresponding machine-readable source code files for any LGPL or GPL2 Third Party Files that Plex supplies to You.  Only GPL2 Third Party Files may be subsequently transferred by You to a third party.</p>\n\n<p>9. Termination.  This Agreement shall continue until terminated as set forth in this section.  You may terminate this Agreement at any time. Your rights under this Agreement will terminate automatically without notice from Plex if You fail to comply with any term(s) of this Agreement, including any attempt to transfer a copy of the Software to another party except as provided in this Agreement.  Upon termination, the Agreement granted hereunder shall terminate and You shall immediately discontinue all use of the Software, but the terms of this Agreement will otherwise remain in effect.</p>\n\n<p>10. Export Law Assurances.  In connection with the Software, You agree to comply with all export laws and restrictions and regulations of the Department of Commerce, the United States Department of the Treasury Office of Foreign Assets Control ("OFAC"), or other United States or foreign agency or authority, and You agree not to export, or allow the export or re-export of, the Software in violation of any such restrictions, laws or regulations. By using the Software, You agree to the foregoing and represent and warrant that You are not located in, under the control of, or a national or resident of, any restricted country.</p>\n\n<p>11. Government Users. If the user, purchaser, or licensee of any Software is an agency, department, contractor, or other entity of any government, the use, duplication, reproduction, release, modification, disclosure, and transfer of such Software, including technical data, software, and manuals, is restricted by the terms of this Agreement.  All other use is prohibited.  No rights other than those expressly provided in this Agreement are conferred.  Software was developed fully at private expense.</p>\n\n<p>12. Miscellaneous.  No agency, partnership, joint venture, or employment is created as a result of this Agreement and You do not have any authority of any kind to bind Plex in any respect whatsoever. The failure of either party to exercise in any respect any right provided for herein shall not be deemed a waiver of any further rights hereunder.  If any provision of this Agreement is found to be unenforceable or invalid, that provision shall be limited or eliminated to the minimum extent necessary so that this Agreement shall otherwise remain in full force and effect and enforceable. This Agreement is not assignable, transferable, or sublicensable by You except with Plex\'s prior written consent. Plex may transfer, assign, or delegate this Agreement and its rights and obligations without consent.  This Agreement shall be governed by and construed in accordance with the laws of the state of California, as if made within California between two residents thereof, and the parties submit to the exclusive jurisdiction of the Superior Court of Santa Clara County and the United States District Court for the Northern District of California.  Notwithstanding the foregoing sentence, but without limiting Plex\'s right to seek injunctive or other equitable relief in any court of competent jurisdiction, any disputes arising with respect to this Agreement shall be referred to an arbitrator affiliated with the Judicial Arbitration and Mediation Services, Inc. ("JAMS").  The arbitrator shall be selected by joint agreement of the parties.  In the event the parties cannot agree on an arbitrator within thirty (30) days of the initiating party providing the other party with written notice that it plans to seek arbitration, the parties shall each select an arbitrator affiliated with JAMS, which arbitrators shall jointly select a third such arbitrator to resolve the dispute.  The written decision of the arbitrator shall be final and binding on the parties.  The arbitration proceeding shall be carried on and heard in Santa Clara County, California using the English language and pursuant to the rules of (and administered by) JAMS.  In any action or proceeding to enforce rights under this Agreement, the prevailing party will be entitled to recover costs and reasonable attorneys\' fees from the other party.  A separate written license agreement or order and signed by Plex and You or Your company, employer, or principal may state other terms and conditions that apply to You, including terms relating to price, payment, delivery, confidential information, support services, and the like.  You are solely responsible to review such terms or conditions with Your company, employer or principal.  In the event of any conflict in terms, the terms of the separate license agreement shall supersede the terms of this Agreement.  Except as stated in the preceding three sentences, both parties agree that this Agreement is the complete and exclusive statement of the mutual understanding of the parties and supersedes and cancels all previous written and oral agreements, communications, and other understandings relating to the subject matter of this Agreement.  Any modifications to this Agreement must be in a writing signed by authorized representatives of both parties and specifically referencing this paragraph of this Agreement.</p>\n'
})}),function(e,t){function _(e,t,n){this._d=e,this._isUTC=!!t,this._a=e._a||null,e._a=null,this._lang=n||!1}function D(e){var t=this._data={},n=e.years||e.y||0,r=e.months||e.M||0,i=e.weeks||e.w||0,s=e.days||e.d||0,o=e.hours||e.h||0,u=e.minutes||e.m||0,a=e.seconds||e.s||0,f=e.milliseconds||e.ms||0;this._milliseconds=f+a*1e3+u*6e4+o*36e5,this._days=s+i*7,this._months=r+n*12,t.milliseconds=f%1e3,a+=P(f/1e3),t.seconds=a%60,u+=P(a/60),t.minutes=u%60,o+=P(u/60),t.hours=o%24,s+=P(o/24),s+=i*7,t.days=s%30
,r+=P(s/30),t.months=r%12,n+=P(r/12),t.years=n,this._lang=!1}function P(e){return e<0?Math.ceil(e):Math.floor(e)}function H(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function B(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function j(e){return Object.prototype.toString.call(e)==="[object Array]"}function F(e,t){var n=Math.min(e.length,t.length),r=Math.abs
(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function I(t,n){var r,i;for(r=1;r<7;r++)t[r]=t[r]==null?r===2?1:0:t[r];return t[7]=n,i=new e(0),n?(i.setUTCFullYear(t[0],t[1],t[2]),i.setUTCHours(t[3],t[4],t[5],t[6])):(i.setFullYear(t[0],t[1],t[2]),i.setHours(t[3],t[4],t[5],t[6])),i._a=t,i}function q(e,t){var r,i,s=[];!t&&a&&(t=require("./lang/"+e));for(r=0;r<f.length;r++)t[f[r]]=t[f[r]]||o.en[f[r]];for(r=0;r<12;r++)i=n([2e3,r]),s[r]=new RegExp("^"+(t.months[r]||t.months(i
,""))+"|^"+(t.monthsShort[r]||t.monthsShort(i,"")).replace(".",""),"i");return t.monthsParse=t.monthsParse||s,o[e]=t,t}function R(e){var t=typeof e=="string"&&e||e&&e._lang||null;return t?o[t]||q(t):n}function U(e){return A[e]?"'+("+A[e]+")+'":e.replace(p,"").replace(/\\?'/g,"\\'")}function z(e){return R().longDateFormat[e]||e}function W(e){var t="var a,b;return '"+e.replace(c,U)+"';",n=Function;return new n("t","v","o","p","m",t)}function X(e){return L[e]||(L[e]=W(e)),L[e]}function V(e,t){function r
(r,i){return n[r].call?n[r](e,t):n[r][i]}var n=R(e);while(h.test(t))t=t.replace(h,z);return L[t]||(L[t]=W(t)),L[t](e,r,n.ordinal,H,n.meridiem)}function $(e){switch(e){case"DDDD":return g;case"YYYY":return y;case"S":case"SS":case"SSS":case"DDD":return m;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return b;case"Z":case"ZZ":return w;case"T":return E;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return v;default:
return new RegExp(e.replace("\\",""))}}function J(e,t,n,r){var i;switch(e){case"M":case"MM":n[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":for(i=0;i<12;i++)if(R().monthsParse[i].test(t)){n[1]=i;break}break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(n[2]=~~t);break;case"YY":t=~~t,n[0]=t+(t>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(t);break;case"a":case"A":r.isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":n[3]=~~t;break;case"m":case"mm":n[4]=~~t;break;case"s":case"ss"
:n[5]=~~t;break;case"S":case"SS":case"SSS":n[6]=~~(("0."+t)*1e3);break;case"Z":case"ZZ":r.isUTC=!0,i=(t+"").match(N),i&&i[1]&&(r.tzh=~~i[1]),i&&i[2]&&(r.tzm=~~i[2]),i&&i[0]==="+"&&(r.tzh=-r.tzh,r.tzm=-r.tzm)}}function K(e,t){var n=[0,0,1,0,0,0,0],r={tzh:0,tzm:0},i=t.match(c),s,o;for(s=0;s<i.length;s++)o=($(i[s]).exec(e)||[])[0],e=e.replace($(i[s]),""),J(i[s],o,n,r);return r.isPm&&n[3]<12&&(n[3]+=12),r.isPm===!1&&n[3]===12&&(n[3]=0),n[3]+=r.tzh,n[4]+=r.tzm,I(n,r.isUTC)}function Q(e,t){var n,r=e.match
(d)||[],i,s=99,o,u,a;for(o=0;o<t.length;o++)u=K(e,t[o]),i=V(new _(u),t[o]).match(d)||[],a=F(r,i),a<s&&(s=a,n=u);return n}function G(t){var n="YYYY-MM-DDT",r;if(S.exec(t)){for(r=0;r<4;r++)if(T[r][1].exec(t)){n+=T[r][0];break}return w.exec(t)?K(t,n+" Z"):K(t,n)}return new e(t)}function Y(e,t,n,r,i){var s=i.relativeTime[e];return typeof s=="function"?s(t||1,!!n,e,r):s.replace(/%d/i,t||1)}function Z(e,t,n){var r=i(Math.abs(e)/1e3),s=i(r/60),o=i(s/60),u=i(o/24),a=i(u/365),f=r<45&&["s",r]||s===1&&["m"]||
s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",i(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Y.apply({},f)}function et(e,t){n.fn[e]=function(e){var n=this._isUTC?"UTC":"";return e!=null?(this._d["set"+n+t](e),this):this._d["get"+n+t]()}}function tt(e){n.duration.fn[e]=function(){return this._data[e]}}function nt(e,t){n.duration.fn["as"+e]=function(){return+this/t}}var n,r="1.7.0",i=Math.round,s,o={},u="en",a=typeof module!="undefined"&&
module.exports,f="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),l=/^\/?Date\((\-?\d+)/i,c=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?)/g,h=/(LT|LL?L?L?)/g,p=/(^\[)|(\\)|\]$/g,d=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,v=/\d\d?/,m=/\d{1,3}/,g=/\d{3}/,y=/\d{1,4}/,b=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,w=/Z|[\+\-]\d\d:?\d\d/i,E=/T/i
,S=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,x="YYYY-MM-DDTHH:mm:ssZ",T=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],N=/([\+\-]|\d\d)/gi,C="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),k={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},L={},A={M:"(a=t.month()+1)",MMM:'v("monthsShort",t.month())',MMMM:'v("months",t.month())',D:"(a=t.date())"
,DDD:"(a=new Date(t.year(),t.month(),t.date()),b=new Date(t.year(),0,1),a=~~(((a-b)/864e5)+1.5))",d:"(a=t.day())",dd:'v("weekdaysMin",t.day())',ddd:'v("weekdaysShort",t.day())',dddd:'v("weekdays",t.day())',w:"(a=new Date(t.year(),t.month(),t.date()-t.day()+5),b=new Date(a.getFullYear(),0,4),a=~~((a-b)/864e5/7+1.5))",YY:"p(t.year()%100,2)",YYYY:"p(t.year(),4)",a:"m(t.hours(),t.minutes(),!0)",A:"m(t.hours(),t.minutes(),!1)",H:"t.hours()",h:"t.hours()%12||12",m:"t.minutes()",s:"t.seconds()",S:"~~(t.milliseconds()/100)"
,SS:"p(~~(t.milliseconds()/10),2)",SSS:"p(t.milliseconds(),3)",Z:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(a/60),2)+":"+p(~~a%60,2)',ZZ:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(10*a/6),4)'},O="DDD w M D d".split(" "),M="M D H h m s w".split(" ");while(O.length)s=O.pop(),A[s+"o"]=A[s]+"+o(a)";while(M.length)s=M.pop(),A[s+s]="p("+A[s]+",2)";A.DDDD="p("+A.DDD+",3)",n=function(r,i){if(r===null||r==="")return null;var s,o;return n.isMoment(r)?new _(new e(+r._d),r._isUTC,r._lang):(i?j(i)?s=Q(r,i):s=K(r,
i):(o=l.exec(r),s=r===t?new e:o?new e(+o[1]):r instanceof e?r:j(r)?I(r):typeof r=="string"?G(r):new e(r)),new _(s))},n.utc=function(e,t){return j(e)?new _(I(e,!0),!0):(typeof e=="string"&&!w.exec(e)&&(e+=" +0000",t&&(t+=" Z")),n(e,t).utc())},n.unix=function(e){return n(e*1e3)},n.duration=function(e,t){var r=n.isDuration(e),i=typeof e=="number",s=r?e._data:i?{}:e,o;return i&&(t?s[t]=e:s.milliseconds=e),o=new D(s),r&&(o._lang=e._lang),o},n.humanizeDuration=function(e,t,r){return n.duration(e,t===!0?
null:t).humanize(t===!0?!0:r)},n.version=r,n.defaultFormat=x,n.lang=function(e,t){var r;if(!e)return u;(t||!o[e])&&q(e,t);if(o[e]){for(r=0;r<f.length;r++)n[f[r]]=o[e][f[r]];n.monthsParse=o[e].monthsParse,u=e}},n.langData=R,n.isMoment=function(e){return e instanceof _},n.isDuration=function(e){return e instanceof D},n.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split
("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT"
,sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"}}),n.fn=_.prototype={clone:function(){return n(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(
){return this._d},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?!F(this._a,(this._a[7]?n.utc(this):this).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){return V(this,e?e:n.defaultFormat)},add:function(e,t){var r=t?n.duration(+t,e):n.duration(e);return B(this,r,1),this},subtract:function(
e,t){var r=t?n.duration(+t,e):n.duration(e);return B(this,r,-1),this},diff:function(e,t,r){var s=this._isUTC?n(e).utc():n(e).local(),o=(this.zone()-s.zone())*6e4,u=this._d-s._d-o,a=this.year()-s.year(),f=this.month()-s.month(),l=this.date()-s.date(),c;return t==="months"?c=a*12+f+l/30:t==="years"?c=a+(f+l/30)/12:c=t==="seconds"?u/1e3:t==="minutes"?u/6e4:t==="hours"?u/36e5:t==="days"?u/864e5:t==="weeks"?u/6048e5:u,r?c:i(c)},from:function(e,t){return n.duration(this.diff(e)).lang(this._lang).humanize
(!t)},fromNow:function(e){return this.from(n(),e)},calendar:function(){var e=this.diff(n().sod(),"days",!0),t=this.lang().calendar,r=t.sameElse,i=e<-6?r:e<-1?t.lastWeek:e<0?t.lastDay:e<1?t.sameDay:e<2?t.nextDay:e<7?t.nextWeek:r;return this.format(typeof i=="function"?i.apply(this):i)},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<n([this.year()]).zone()||this.zone()<n([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this
._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){switch(e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this
._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return n.utc([this.year(),this.month()+1,0]).date()},lang:function(e){return e===t?R(this):(this._lang=e,this)}};for(s=0;s<C.length;s++)et(C[s].toLowerCase(),C[s]);et("year","FullYear"),n.duration.fn=D.prototype={weeks:function(){return P(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=this.lang().relativeTime,r=Z(t,!e,this.lang());return e&&(r=(t<=0?
n.past:n.future).replace(/%s/i,r)),r},lang:n.fn.lang};for(s in k)k.hasOwnProperty(s)&&(nt(s,k[s]),tt(s.toLowerCase()));nt("Weeks",6048e5),a&&(module.exports=n),typeof ender=="undefined"&&(this.moment=n),typeof define=="function"&&define.amd&&define("moment",[],function(){return n})}.call(this,Date),define("plex/control/init/HandlebarsInit",["plex/control/utils/StringUtil","plex/control/utils/NumberUtil","plex/control/utils/TranscodeUtil","plex/control/utils/LocalizationUtil","hb!templates/helpers/LockableTextInput.tpl"
,"hb!templates/helpers/LockableTagInput.tpl","hb!templates/helpers/PreferenceEdit.tpl","hb!templates/helpers/SectionPathInput.tpl","hb!templates/helpers/AdaptiveChannelListItem.tpl","hb!templates/helpers/BreadcrumbMediaItem.tpl","hb!templates/helpers/EULA.tpl","handlebars","underscore","moment"],function(e,t,n,r,i,s,o,u,a,f,l){Handlebars.registerHelper("eq",function(e,t,n,r){return e===t?new Handlebars.SafeString(n):new Handlebars.SafeString(r)}),Handlebars.registerHelper("if_eq",function(e,t,n){
return e==t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("if_neq",function(e,t,n){return e!=t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("timeAgo",function(e){return moment.unix(e).fromNow()}),Handlebars.registerHelper("formatDate",function(e){return e?moment(e).format("MMM D, YYYY"):"Unknown"}),Handlebars.registerHelper("formatDateCustom",function(e,t){return e?moment(e).format(t):"Unknown"}),Handlebars.registerHelper("formatMinutes",function(e){var t=Math.round(moment.duration
(Number(e)).asMinutes());return t===1?t+" min":t+" mins"}),Handlebars.registerHelper("formatDuration",function(e){var t=moment.duration(Number(e)),n=t.seconds(),r=t.minutes(),i=t.hours(),s="";return n<10?s=":0"+n:s=":"+n,r<10&&i>0?s="0"+r+s:s=r+s,i>0&&(s=i+":"+s),s}),Handlebars.registerHelper("formatBytes",function(e){return t.formatBytes(e,2)}),Handlebars.registerHelper("formatBitrate",function(e){return t.formatBitrate(e,0)}),Handlebars.registerHelper("t",function(){var e=[].splice.call(arguments
,0,arguments.length-1);return new Handlebars.SafeString(r.t.apply(r,e))}),Handlebars.registerHelper("truncate",function(t,n){return e.truncate(t,n)}),Handlebars.registerHelper("truncateMiddle",function(t,n,r){return e.truncateMiddle(t,n,r)}),Handlebars.registerHelper("truncateTagList",function(t,n){var r="";if(typeof t!="object"||t instanceof Array){if(typeof t!="undefined"){var i=n.hash.maxTags||t.length;i>t.length&&(i=t.length);for(var s=0;s<i;s++){var o=t[s];typeof o.tag!="undefined"&&o.tag!==""&&
(r+=o.tag,s+1<i&&(r+=", "))}}return e.truncate(r,n.hash.maxLen)}return t.tag}),Handlebars.registerHelper("tags",function(e){var t="";return _.each(e,function(e){t+=e.tag+","}),t=t.slice(0,-1),t}),Handlebars.registerHelper("upper",function(e){return e.toUpperCase()}),Handlebars.registerHelper("encodeURL",function(e){return encodeURIComponent(e)}),Handlebars.registerHelper("leadingZero",function(e){return e=parseInt(e,10),e<10?"0"+e:e}),Handlebars.registerHelper("formatResolution",function(e){if(!e
)return"";var t=parseInt(e,10);return _.isNaN(t)?e.toUpperCase():e+"p"}),Handlebars.registerHelper("formatAudioCodec",function(e){return e?e==="dca"?"DTS":e.toUpperCase():""}),Handlebars.registerHelper("formatAudioChannels",function(e){return e?(e=parseInt(e,10),e<3?"Stereo":""+(e-1)+".1"):""}),Handlebars.registerHelper("formatVideoLevel",function(e){return e=parseInt(e,10),(e/10).toFixed(1)}),Handlebars.registerHelper("formatBoolean",function(e){return!e||e==0?"No":"Yes"}),Handlebars.registerHelper
("formatLabel",function(e){var t="";for(var n=0,r=e.length;n<r;n++){var i=e.charAt(n),s=i.toUpperCase();n===0?t+=s:i===s?t+=" "+s:t+=i}return t}),Handlebars.registerHelper("transcodeImage",function(e,t,r,i){return n.image(e,t,r,i)}),Handlebars.registerHelper("transcodeMediaFlag",function(e){var t=e.hash.prefix+e.hash.path+"/"+e.hash.flag+"?t="+e.hash.version;return n.image(e.hash.server,t,e.hash.width,e.hash.height)}),Handlebars.registerHelper("starRating",function(e){var t=Math.round(e/2),n="";for(
var r=0;r<5;r++)r<t?n+='<i class="glyphicon star"></i>':n+='<i class="glyphicon dislikes"></i>';return n}),Handlebars.registerHelper("lockableTextInput",function(e){return e.hash.type=e.hash.type||"text",new Handlebars.SafeString(i(e.hash))}),Handlebars.registerHelper("lockableTagInput",function(e){return new Handlebars.SafeString(s(e.hash))}),Handlebars.registerHelper("eachKeyValue",function(e,t){var n=t.fn,r=t.inverse,i="";if(e&&!_.isEmpty(e)){var s=_.map(e,function(e,t){return n({key:t,value:e
})});i=s.join("")}else i=r(this);return i}),Handlebars.registerHelper("partial",function(e,t){var n=Handlebars.partials[e],r=t.hash.context?_.extend({},t.hash.context,t.hash):_.extend({},this,t.hash);return new Handlebars.SafeString(n(r))}),Handlebars.registerPartial("preference",o),Handlebars.registerPartial("sectionPathInput",u),Handlebars.registerPartial("adaptiveChannelListItem",a),Handlebars.registerPartial("breadcrumbMediaItem",f),Handlebars.registerPartial("EULA",l)});var SM2_DEFER=!0;define
("soundmanagerdefer",function(){}),function(e){function n(t,n){function Yt(e){return function(t){var n=this._t;return!n||!n._a?null:e.call(this,t)}}this.flashVersion=8,this.debugMode=!1,this.debugFlash=!1,this.useConsole=!0,this.consoleOnly=!0,this.waitForWindowLoad=!1,this.bgColor="#ffffff",this.useHighPerformance=!1,this.flashPollingInterval=null,this.html5PollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,this.useHTML5Audio=!0,this
.html5Test=/^(probably|maybe)$/i,this.preferFlash=!0,this.noSWFCache=!1,this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions=
{autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration
:null},this.movieID="sm2-container",this.id=n||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20120318",this.version=null,this.movieURL=null,this.url=t||null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData
:!1,movieStar:!1},this.sandbox={},this.hasHTML5=function(){try{return typeof Audio!="undefined"&&typeof (new Audio).canPlayType!="undefined"}catch(e){return!1}}(),this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,i=this,s=null,o="soundManager",u=o+"::",a="HTML5::",f,l=navigator.userAgent,c=e,h=c.location.href.toString(),p=document,d,v,m,g=[],y=!0,b,w=!1,E=!1,S=!1,x=!1,T=!1,N,C=0,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V=["log","info","warn","error"],$=8,J,K,Q,G=
null,Y=null,Z,et,tt,nt,rt,it,st,ot,ut,at=!1,ft=!1,lt,ct,ht,pt=0,dt=null,vt,mt=null,gt,yt,bt,wt,Et,St,xt,Tt,Nt=Array.prototype.slice,Ct=!1,kt,Lt,At,Ot,Mt,_t=l.match(/(ipad|iphone|ipod)/i),Dt=l.match(/firefox/i),Pt=l.match(/droid/i),Ht=l.match(/msie/i),Bt=l.match(/webkit/i),jt=l.match(/safari/i)&&!l.match(/chrome/i),Ft=l.match(/opera/i),It=l.match(/(mobile|pre\/|xoom)/i)||_t,qt=!h.match(/usehtml5audio/i)&&!h.match(/sm2\-ignorebadua/i)&&jt&&!l.match(/silk/i)&&l.match(/OS X 10_6_([3-7])/i),Rt=typeof 
console!="undefined"&&typeof console.log!="undefined",Ut=typeof p.hasFocus!="undefined"?p.hasFocus():null,zt=jt&&typeof p.hasFocus=="undefined",Wt=!zt,Xt=/(mp3|mp4|mpa)/i,Vt="about:blank",$t=p.location?p.location.protocol.match(/http/i):null,Jt=$t?"":"http://",Kt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,Qt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],Gt=new RegExp("\\.("+Qt.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i
,this.useAltURL=!$t,this._global_a=null,nt={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},It&&(i.useHTML5Audio=!0,i.preferFlash=!1,_t&&(i.ignoreFlash=!0,Ct=!0)),this.ok=function(){return mt?S&&!x:i.useHTML5Audio&&i.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return f(e)||p[e]||c[e]},this.createSound=function(
e){function f(){return o=it(o),i.sounds[a.id]=new r(a),i.soundIDs.push(a.id),i.sounds[a.id]}var t,n,o=null,u=null,a=null;return!S||!i.ok()?(ot(n),!1):(arguments.length===2&&(e={id:arguments[0],url:arguments[1]}),o=L(e),o.url=vt(o.url),a=o,ut(a.id,!0)?i.sounds[a.id]:(yt(a)?(u=f(),u._setup_html5(a)):(m>8&&(a.isMovieStar===null&&(a.isMovieStar=a.serverURL||(a.type?a.type.match(Kt):!1)||a.url.match(Gt)),a.isMovieStar&&a.usePeakData&&(a.usePeakData=!1)),a=st(a,t),u=f(),m===8?s._createSound(a.id,a.loops||1
,a.usePolicyFile):(s._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(u.connected=!0,a.onconnect&&a.onconnect.apply(u))),!a.serverURL&&(a.autoLoad||a.autoPlay)&&u.load(a)),!a.serverURL&&a.autoPlay&&u.play(),u))},this.destroySound=function(e,t){if(!ut(e))return!1;var n=i.sounds[e],r;n._iO={},n.stop(),n.unload();for(r=0;r<i.soundIDs.length;r++
)if(i.soundIDs[r]===e){i.soundIDs.splice(r,1);break}return t||n.destruct(!0),n=null,delete i.sounds[e],!0},this.load=function(e,t){return ut(e)?i.sounds[e].load(t):!1},this.unload=function(e){return ut(e)?i.sounds[e].unload():!1},this.onPosition=function(e,t,n,r){return ut(e)?i.sounds[e].onposition(t,n,r):!1},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,n){return ut(e)?i.sounds[e].clearOnPosition(t,n):!1},this.play=function(e,t){return!S||!i.ok()?(ot(o+".play(): "+Z(S?"notOK"
:"notReady")),!1):ut(e)?i.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url?(t.id=e,i.createSound(t).play()):!1)},this.start=this.play,this.setPosition=function(e,t){return ut(e)?i.sounds[e].setPosition(t):!1},this.stop=function(e){return ut(e)?i.sounds[e].stop():!1},this.stopAll=function(){var e;for(e in i.sounds)i.sounds.hasOwnProperty(e)&&i.sounds[e].stop()},this.pause=function(e){return ut(e)?i.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=i.soundIDs.length-1;e>=0;e--)
i.sounds[i.soundIDs[e]].pause()},this.resume=function(e){return ut(e)?i.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=i.soundIDs.length-1;e>=0;e--)i.sounds[i.soundIDs[e]].resume()},this.togglePause=function(e){return ut(e)?i.sounds[e].togglePause():!1},this.setPan=function(e,t){return ut(e)?i.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return ut(e)?i.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;typeof e!="string"&&(e=null);if(!e){for(t=i.soundIDs.length-1;t>=0;
t--)i.sounds[i.soundIDs[t]].mute();return i.muted=!0,!0}return ut(e)?i.sounds[e].mute():!1},this.muteAll=function(){i.mute()},this.unmute=function(e){var t;typeof e!="string"&&(e=null);if(!e){for(t=i.soundIDs.length-1;t>=0;t--)i.sounds[i.soundIDs[t]].unmute();return i.muted=!1,!0}return ut(e)?i.sounds[e].unmute():!1},this.unmuteAll=function(){i.unmute()},this.toggleMute=function(e){return ut(e)?i.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return s&&m!==8&&(e=parseInt(s._getMemoryUse
(),10)),e},this.disable=function(e){var t;typeof e=="undefined"&&(e=!1);if(x)return!1;x=!0;for(t=i.soundIDs.length-1;t>=0;t--)J(i.sounds[i.soundIDs[t]]);return k(e),Tt.remove(c,"load",M),!0},this.canPlayMIME=function(e){var t;return i.hasHTML5&&(t=bt({type:e})),!mt||t?t:e&&i.ok()?!!((m>8?e.match(Kt):null)||e.match(i.mimePattern)):null},this.canPlayURL=function(e){var t;return i.hasHTML5&&(t=bt({url:e})),!mt||t?t:e&&i.ok()?!!e.match(i.filePattern):null},this.canPlayLink=function(e){return typeof e
.type!="undefined"&&e.type&&i.canPlayMIME(e.type)?!0:i.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw new Error(o+".getSoundById(): sID is null/undefined");var n=i.sounds[e];return n},this.onready=function(e,t){var n="onready";if(e&&e instanceof Function)return t||(t=c),A(n,e,t),O(),!0;throw Z("needFunction",n)},this.ontimeout=function(e,t){var n="ontimeout";if(e&&e instanceof Function)return t||(t=c),A(n,e,t),O({type:n}),!0;throw Z("needFunction",n)},this._writeDebug=function(e,
t,n){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(){var e,t;for(e=i.soundIDs.length-1;e>=0;e--)i.sounds[i.soundIDs[e]].destruct();try{Ht&&(Y=s.innerHTML),G=s.parentNode.removeChild(s)}catch(n){}Y=G=mt=null,i.enabled=q=S=at=ft=w=E=x=i.swfLoaded=!1,i.soundIDs=[],i.sounds={},s=null;for(e in g)if(g.hasOwnProperty(e))for(t=g[e].length-1;t>=0;t--)g[e][t].fired=!1;c.setTimeout(i.beginDelayedInit,20)},this.getMoviePercent=function(){return s&&typeof s.PercentLoaded!="undefined"?
s.PercentLoaded():null},this.beginDelayedInit=function(){T=!0,F(),setTimeout(function(){return ft?!1:(U(),j(),ft=!0,!0)},20),_()},this.destruct=function(){i.disable(!0)},r=function(e){var t=this,n,r,o,u,a,f,l=!1,c=[],h=0,p,d,v=null,g;g={duration:null,time:null},this.sID=e.id,this.url=e.url,this.options=L(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){},this
.load=function(e){var n=null,r;typeof e!="undefined"?(t._iO=L(e,t.options),t.instanceOptions=t._iO):(e=t.options,t._iO=e,t.instanceOptions=t._iO,v&&v!==t.url&&(t._iO.url=t.url,t.url=null)),t._iO.url||(t._iO.url=t.url),t._iO.url=vt(t._iO.url);if(t._iO.url===t.url&&t.readyState!==0&&t.readyState!==2)return t.readyState===3&&t._iO.onload&&t._iO.onload.apply(t,[!!t.duration]),t;r=t._iO,v=t.url,t.loaded=!1,t.readyState=1,t.playState=0;if(yt(r))n=t._setup_html5(r),n._called_load||(t._html5_canplay=!1,t
._a.autobuffer="auto",t._a.preload="auto",n.load(),n._called_load=!0,r.autoPlay&&t.play());else try{t.isHTML5=!1,t._iO=st(it(r)),r=t._iO,m===8?s._load(t.sID,r.url,r.stream,r.autoPlay,r.whileloading?1:0,r.loops||1,r.usePolicyFile):s._load(t.sID,r.url,!!r.stream,!!r.autoPlay,r.loops||1,!!r.autoLoad,r.usePolicyFile)}catch(i){z({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return t},this.unload=function(){return t.readyState!==0&&(t.isHTML5?(u(),t._a&&(t._a.pause(),Et(t._a))):m===8?s._unload(t.sID,Vt)
:s._unload(t.sID),n()),t},this.destruct=function(e){t.isHTML5?(u(),t._a&&(t._a.pause(),Et(t._a),Ct||o(),t._a._t=null,t._a=null)):(t._iO.onfailure=null,s._destroySound(t.sID)),e||i.destroySound(t.sID,!0)},this.play=function(e,n){var r,i,o,u;n=n===undefined?!0:n,e||(e={}),t._iO=L(e,t._iO),t._iO=L(t._iO,t.options),t._iO.url=vt(t._iO.url),t.instanceOptions=t._iO;if(t._iO.serverURL&&!t.connected)return t.getAutoPlay()||t.setAutoPlay(!0),t;yt(t._iO)&&(t._setup_html5(t._iO),a());if(t.playState===1&&!t.paused
){i=t._iO.multiShot;if(!i)return t}if(!t.loaded)if(t.readyState===0)t.isHTML5||(t._iO.autoPlay=!0),t.load(t._iO);else if(t.readyState===2)return t;!t.isHTML5&&m===9&&t.position>0&&t.position===t.duration&&(e.position=0);if(t.paused&&t.position&&t.position>0)t.resume();else{t._iO=L(e,t._iO);if(t._iO.from!==null&&t._iO.to!==null&&t.instanceCount===0&&t.playState===0&&!t._iO.serverURL){u=function(){t._iO=L(e,t._iO),t.play(t._iO)};if(t.isHTML5&&!t._html5_canplay)return t.load({_oncanplay:u}),!1;if(!t
.isHTML5&&!t.loaded&&(!t.readyState||t.readyState!==2))return t.load({onload:u}),!1;t._iO=d()}(!t.instanceCount||t._iO.multiShotEvents||!t.isHTML5&&m>8&&!t.getAutoPlay())&&t.instanceCount++,t.playState===0&&t._iO.onposition&&f(t),t.playState=1,t.paused=!1,t.position=typeof t._iO.position!="undefined"&&!isNaN(t._iO.position)?t._iO.position:0,t.isHTML5||(t._iO=st(it(t._iO))),t._iO.onplay&&n&&(t._iO.onplay.apply(t),l=!0),t.setVolume(t._iO.volume,!0),t.setPan(t._iO.pan,!0),t.isHTML5?(a(),o=t._setup_html5
(),t.setPosition(t._iO.position),o.play()):s._start(t.sID,t._iO.loops||1,m===9?t._iO.position:t._iO.position/1e3)}return t},this.start=this.play,this.stop=function(e){var n=t._iO,r;return t.playState===1&&(t._onbufferchange(0),t._resetOnPosition(0),t.paused=!1,t.isHTML5||(t.playState=0),p(),n.to&&t.clearOnPosition(n.to),t.isHTML5?t._a&&(r=t.position,t.setPosition(0),t.position=r,t._a.pause(),t.playState=0,t._onTimer(),u()):(s._stop(t.sID,e),n.serverURL&&t.unload()),t.instanceCount=0,t._iO={},n.onstop&&
n.onstop.apply(t)),t},this.setAutoPlay=function(e){t._iO.autoPlay=e,t.isHTML5||(s._setAutoPlay(t.sID,e),e&&!t.instanceCount&&t.readyState===1&&t.instanceCount++)},this.getAutoPlay=function(){return t._iO.autoPlay},this.setPosition=function(e){e===undefined&&(e=0);var n,r,i,o=t.isHTML5?Math.max(e,0):Math.min(t.duration||t._iO.duration,Math.max(e,0));n=t.position,t.position=o,i=t.position/1e3,t._resetOnPosition(t.position),t._iO.position=o;if(!t.isHTML5)r=m===9?t.position:i,t.readyState&&t.readyState!==2&&
s._setPosition(t.sID,r,t.paused||!t.playState);else if(t._a&&t._html5_canplay&&t._a.currentTime!==i)try{t._a.currentTime=i,(t.playState===0||t.paused)&&t._a.pause()}catch(u){}return t.isHTML5&&t.paused&&t._onTimer(!0),t},this.pause=function(e){return t.paused||t.playState===0&&t.readyState!==1?t:(t.paused=!0,t.isHTML5?(t._setup_html5().pause(),u()):(e||e===undefined)&&s._pause(t.sID),t._iO.onpause&&t._iO.onpause.apply(t),t)},this.resume=function(){var e=t._iO;return t.paused?(t.paused=!1,t.playState=1
,t.isHTML5?(t._setup_html5().play(),a()):(e.isMovieStar&&!e.serverURL&&t.setPosition(t.position),s._pause(t.sID)),!l&&e.onplay?(e.onplay.apply(t),l=!0):e.onresume&&e.onresume.apply(t),t):t},this.togglePause=function(){return t.playState===0?(t.play({position:m===9&&!t.isHTML5?t.position:t.position/1e3}),t):(t.paused?t.resume():t.pause(),t)},this.setPan=function(e,n){return typeof e=="undefined"&&(e=0),typeof n=="undefined"&&(n=!1),t.isHTML5||s._setPan(t.sID,e),t._iO.pan=e,n||(t.pan=e,t.options.pan=
e),t},this.setVolume=function(e,n){return typeof e=="undefined"&&(e=100),typeof n=="undefined"&&(n=!1),t.isHTML5?t._a&&(t._a.volume=Math.max(0,Math.min(1,e/100))):s._setVolume(t.sID,i.muted&&!t.muted||t.muted?0:e),t._iO.volume=e,n||(t.volume=e,t.options.volume=e),t},this.mute=function(){return t.muted=!0,t.isHTML5?t._a&&(t._a.muted=!0):s._setVolume(t.sID,0),t},this.unmute=function(){t.muted=!1;var e=typeof t._iO.volume!="undefined";return t.isHTML5?t._a&&(t._a.muted=!1):s._setVolume(t.sID,e?t._iO
.volume:t.options.volume),t},this.toggleMute=function(){return t.muted?t.unmute():t.mute()},this.onPosition=function(e,n,r){return c.push({position:parseInt(e,10),method:n,scope:typeof r!="undefined"?r:t,fired:!1}),t},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var n;e=parseInt(e,10);if(isNaN(e))return!1;for(n=0;n<c.length;n++)e===c[n].position&&(!t||t===c[n].method)&&(c[n].fired&&h--,c.splice(n,1))},this._processOnPosition=function(){var e,n,r=c.length;if(!r||!t.playState||
h>=r)return!1;for(e=r-1;e>=0;e--)n=c[e],!n.fired&&t.position>=n.position&&(n.fired=!0,h++,n.method.apply(n.scope,[n.position]));return!0},this._resetOnPosition=function(e){var t,n,r=c.length;if(!r)return!1;for(t=r-1;t>=0;t--)n=c[t],n.fired&&e<=n.position&&(n.fired=!1,h--);return!0},d=function(){var e=t._iO,n=e.from,r=e.to,i,s;return s=function(){t.clearOnPosition(r,s),t.stop()},i=function(){r!==null&&!isNaN(r)&&t.onPosition(r,s)},n!==null&&!isNaN(n)&&(e.position=n,e.multiShot=!1,i()),e},f=function(
){var e,n=t._iO.onposition;if(n)for(e in n)n.hasOwnProperty(e)&&t.onPosition(parseInt(e,10),n[e])},p=function(){var e,n=t._iO.onposition;if(n)for(e in n)n.hasOwnProperty(e)&&t.clearOnPosition(parseInt(e,10))},a=function(){t.isHTML5&&lt(t)},u=function(){t.isHTML5&&ct(t)},n=function(){c=[],h=0,l=!1,t._hasTimer=null,t._a=null,t._html5_canplay=!1,t.bytesLoaded=null,t.bytesTotal=null,t.duration=t._iO&&t._iO.duration?t._iO.duration:null,t.durationEstimate=null,t.eqData=[],t.eqData.left=[],t.eqData.right=
[],t.failures=0,t.isBuffering=!1,t.instanceOptions={},t.instanceCount=0,t.loaded=!1,t.metadata={},t.readyState=0,t.muted=!1,t.paused=!1,t.peakData={left:0,right:0},t.waveformData={left:[],right:[]},t.playState=0,t.position=null},n(),this._onTimer=function(e){var n,r=!1,i,s={};if(t._hasTimer||e)return t._a&&(e||(t.playState>0||t.readyState===1)&&!t.paused)?(n=t._get_html5_duration(),n!==g.duration&&(g.duration=n,t.duration=n,r=!0),t.durationEstimate=t.duration,i=t._a.currentTime*1e3||0,i!==g.time&&
(g.time=i,r=!0),(r||e)&&t._whileplaying(i,s,s,s,s),r):!1},this._get_html5_duration=function(){var e=t._iO,n=t._a?t._a.duration*1e3:e?e.duration:undefined,r=n&&!isNaN(n)&&n!==Infinity?n:e?e.duration:null;return r},this._setup_html5=function(e){var s=L(t._iO,e),o=decodeURI,u=Ct?i._global_a:t._a,a=o(s.url),f=u&&u._t?u._t.instanceOptions:null;if(u){if(u._t){if(!Ct&&a===o(v))return u;if(Ct&&f.url===s.url&&(!v||v===f.url))return u}Ct&&u._t&&u._t.playState&&s.url!==f.url&&u._t.stop(),n(),u.src=s.url,t.url=
s.url,v=s.url,u._called_load=!1}else u=new Audio(s.url),u._called_load=!1,Pt&&(u._called_load=!0),Ct&&(i._global_a=u);return t.isHTML5=!0,t._a=u,u._t=t,r(),u.loop=s.loops>1?"loop":"",s.autoLoad||s.autoPlay?t.load():(u.autobuffer=!1,u.preload="none"),u.loop=s.loops>1?"loop":"",u},r=function(){function n(e,n,r){return t._a?t._a.addEventListener(e,n,r||!1):null}if(t._a._added_events)return!1;var e;t._a._added_events=!0;for(e in Ot)Ot.hasOwnProperty(e)&&n(e,Ot[e]);return!0},o=function(){function n(e,
n,r){return t._a?t._a.removeEventListener(e,n,r||!1):null}var e;t._a._added_events=!1;for(e in Ot)Ot.hasOwnProperty(e)&&n(e,Ot[e])},this._onload=function(e){var n,r=!!e;return t.loaded=r,t.readyState=r?3:2,t._onbufferchange(0),t._iO.onload&&t._iO.onload.apply(t,[r]),!0},this._onbufferchange=function(e){return t.playState===0?!1:e&&t.isBuffering||!e&&!t.isBuffering?!1:(t.isBuffering=e===1,t._iO.onbufferchange&&t._iO.onbufferchange.apply(t),!0)},this._onsuspend=function(){return t._iO.onsuspend&&t.
_iO.onsuspend.apply(t),!0},this._onfailure=function(e,n,r){t.failures++,t._iO.onfailure&&t.failures===1&&t._iO.onfailure(t,e,n,r)},this._onfinish=function(){var e=t._iO.onfinish;t._onbufferchange(0),t._resetOnPosition(0),t.instanceCount&&(t.instanceCount--,t.instanceCount||(p(),t.playState=0,t.paused=!1,t.instanceCount=0,t.instanceOptions={},t._iO={},u()),(!t.instanceCount||t._iO.multiShotEvents)&&e&&e.apply(t))},this._whileloading=function(e,n,r,i){var s=t._iO;t.bytesLoaded=e,t.bytesTotal=n,t.duration=
Math.floor(r),t.bufferLength=i,s.isMovieStar?(t.durationEstimate=t.duration,t.readyState!==3&&s.whileloading&&s.whileloading.apply(t)):(s.duration?t.durationEstimate=t.duration>s.duration?t.duration:s.duration:t.durationEstimate=parseInt(t.bytesTotal/t.bytesLoaded*t.duration,10),t.durationEstimate===undefined&&(t.durationEstimate=t.duration),t.readyState!==3&&s.whileloading&&s.whileloading.apply(t))},this._whileplaying=function(e,n,r,i,s){var o=t._iO,u;return isNaN(e)||e===null?!1:(t.position=e,t
._processOnPosition(),!t.isHTML5&&m>8&&(o.usePeakData&&typeof n!="undefined"&&n&&(t.peakData={left:n.leftPeak,right:n.rightPeak}),o.useWaveformData&&typeof r!="undefined"&&r&&(t.waveformData={left:r.split(","),right:i.split(",")}),o.useEQData&&typeof s!="undefined"&&s&&s.leftEQ&&(u=s.leftEQ.split(","),t.eqData=u,t.eqData.left=u,typeof s.rightEQ!="undefined"&&s.rightEQ&&(t.eqData.right=s.rightEQ.split(",")))),t.playState===1&&(!t.isHTML5&&m===8&&!t.position&&t.isBuffering&&t._onbufferchange(0),o.whileplaying&&
o.whileplaying.apply(t)),!0)},this._onmetadata=function(e,n){var r={},i,s;for(i=0,s=e.length;i<s;i++)r[e[i]]=n[i];t.metadata=r,t._iO.onmetadata&&t._iO.onmetadata.apply(t)},this._onid3=function(e,n){var r=[],i,s;for(i=0,s=e.length;i<s;i++)r[e[i]]=n[i];t.id3=L(t.id3,r),t._iO.onid3&&t._iO.onid3.apply(t)},this._onconnect=function(e){e=e===1,t.connected=e,e&&(t.failures=0,ut(t.sID)&&(t.getAutoPlay()?t.play(undefined,t.getAutoPlay()):t._iO.autoLoad&&t.load()),t._iO.onconnect&&t._iO.onconnect.apply(t,[e
]))},this._ondataerror=function(e){t.playState>0&&t._iO.ondataerror&&t._iO.ondataerror.apply(t)}},R=function(){return p.body||p._docElement||p.getElementsByTagName("div")[0]},f=function(e){return p.getElementById(e)},L=function(e,t){var n={},r,s,o;for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);s=typeof t=="undefined"?i.defaultOptions:t;for(o in s)s.hasOwnProperty(o)&&typeof n[o]=="undefined"&&(n[o]=s[o]);return n},Tt=function(){function n(t){var n=Nt.call(t),r=n.length;return e?(n[1]="on"+n[1],r>3&&
n.pop()):r===3&&n.push(!1),n}function r(n,r){var i=n.shift(),s=[t[r]];e?i[s](n[0],n[1]):i[s].apply(i,n)}function i(){r(n(arguments),"add")}function s(){r(n(arguments),"remove")}var e=c.attachEvent,t={add:e?"attachEvent":"addEventListener",remove:e?"detachEvent":"removeEventListener"};return{add:i,remove:s}}(),Ot={abort:Yt(function(){}),canplay:Yt(function(){var e=this._t,t;if(e._html5_canplay)return!0;e._html5_canplay=!0,e._onbufferchange(0),t=isNaN(e.position)?null:e.position/1e3;if(e.position&&
this.currentTime!==t)try{this.currentTime=t}catch(n){}e._iO._oncanplay&&e._iO._oncanplay()}),load:Yt(function(){var e=this._t;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesTotal,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),ended:Yt(function(){var e=this._t;e._onfinish()}),error:Yt(function(){this._t._onload(!1)}),loadeddata:Yt(function(){var e=this._t,t=e.bytesTotal||1;!e._loaded&&!jt&&(e.duration=e._get_html5_duration(),e._whileloading(t,t,e._get_html5_duration()),e._onload(!0
))}),loadedmetadata:Yt(function(){}),loadstart:Yt(function(){this._t._onbufferchange(1)}),play:Yt(function(){this._t._onbufferchange(0)}),playing:Yt(function(){this._t._onbufferchange(0)}),progress:Yt(function(e){var t=this._t,n,r,i,s=0,o=e.type==="progress",u=e.target.buffered,a=e.loaded||0,f=e.total||1;if(t.loaded)return!1;if(u&&u.length){for(n=u.length-1;n>=0;n--)s=u.end(n)-u.start(n);a=s/e.target.duration}isNaN(a)||(t._onbufferchange(0),t._whileloading(a,f,t._get_html5_duration()),a&&f&&a===f&&
Ot.load.call(this,e))}),ratechange:Yt(function(){}),suspend:Yt(function(e){var t=this._t;Ot.progress.call(this,e),t._onsuspend()}),stalled:Yt(function(){}),timeupdate:Yt(function(){this._t._onTimer()}),waiting:Yt(function(){var e=this._t;e._onbufferchange(1)})},yt=function(e){return!e.serverURL&&(e.type?bt({type:e.type}):bt({url:e.url})||i.html5Only)},Et=function(e){e&&(e.src=Dt?"":Vt)},bt=function(e){function f(e){return i.preferFlash&&kt&&!i.ignoreFlash&&typeof i.flash[e]!="undefined"&&i.flash[
e]}if(!i.useHTML5Audio||!i.hasHTML5)return!1;var t=e.url||null,n=e.type||null,r=i.audioFormats,s,o,u,a;if(n&&typeof i.html5[n]!="undefined")return i.html5[n]&&!f(n);if(!wt){wt=[];for(a in r)r.hasOwnProperty(a)&&(wt.push(a),r[a].related&&(wt=wt.concat(r[a].related)));wt=new RegExp("\\.("+wt.join("|")+")(\\?.*)?$","i")}u=t?t.toLowerCase().match(wt):null;if(!u||!u.length){if(!n)return!1;o=n.indexOf(";"),u=(o!==-1?n.substr(0,o):n).substr(6)}else u=u[1];return u&&typeof i.html5[u]!="undefined"?i.html5
[u]&&!f(u):(n="audio/"+u,s=i.html5.canPlayType({type:n}),i.html5[u]=s,s&&i.html5[n]&&!f(n))},xt=function(){function o(t){var n,r,s,o=!1;if(!e||typeof e.canPlayType!="function")return!1;if(t instanceof Array){for(r=0,s=t.length;r<s&&!o;r++)if(i.html5[t[r]]||e.canPlayType(t[r]).match(i.html5Test))o=!0,i.html5[t[r]]=!0,i.flash[t[r]]=!!(i.preferFlash&&kt&&t[r].match(Xt));return o}return n=e&&typeof e.canPlayType=="function"?e.canPlayType(t):!1,!!n&&!!n.match(i.html5Test)}if(!i.useHTML5Audio||typeof Audio=="undefined"
)return!1;var e=typeof Audio!="undefined"?Ft?new Audio(null):new Audio:null,t,n={},r,s;r=i.audioFormats;for(t in r)if(r.hasOwnProperty(t)){n[t]=o(r[t].type),n["audio/"+t]=n[t],i.preferFlash&&!i.ignoreFlash&&t.match(Xt)?i.flash[t]=!0:i.flash[t]=!1;if(r[t]&&r[t].related)for(s=r[t].related.length-1;s>=0;s--)n["audio/"+r[t].related[s]]=n[t],i.html5[r[t].related[s]]=n[t],i.flash[r[t].related[s]]=n[t]}return n.canPlayType=e?o:null,i.html5=L(i.html5,n),!0},B={},Z=function(){},it=function(e){return m===8&&
e.loops>1&&e.stream&&(e.stream=!1),e},st=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0),e},ot=function(e){},d=function(){return!1},J=function(e){var t;for(t in e)e.hasOwnProperty(t)&&typeof e[t]=="function"&&(e[t]=d);t=null},K=function(e){typeof e=="undefined"&&(e=!1),(x||e)&&i.disable(e)},Q=function(e){var t=null,n;if(e)if(e.match(/\.swf(\?.*)?$/i)){t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4);if(t)return e}else e.lastIndexOf
("/")!==e.length-1&&(e+="/");return n=(e&&e.lastIndexOf("/")!==-1?e.substr(0,e.lastIndexOf("/")+1):"./")+i.movieURL,i.noSWFCache&&(n+="?ts="+(new Date).getTime()),n},P=function(){m=parseInt(i.flashVersion,10),m!==8&&m!==9&&(i.flashVersion=m=$);var e=i.debugMode||i.debugFlash?"_debug.swf":".swf";i.useHTML5Audio&&!i.html5Only&&i.audioFormats.mp4.required&&m<9&&(i.flashVersion=m=9),i.version=i.versionNumber+(i.html5Only?" (HTML5-only mode)":m===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),m>8?(i.defaultOptions=
L(i.defaultOptions,i.flash9Options),i.features.buffering=!0,i.defaultOptions=L(i.defaultOptions,i.movieStarOptions),i.filePatterns.flash9=new RegExp("\\.(mp3|"+Qt.join("|")+")(\\?.*)?$","i"),i.features.movieStar=!0):i.features.movieStar=!1,i.filePattern=i.filePatterns[m!==8?"flash9":"flash8"],i.movieURL=(m===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),i.features.peakData=i.features.waveformData=i.features.eqData=m>8},W=function(e,t){if(!s)return!1;s._setPolling(e,t)},X=function(
){i.debugURLParam.test(h)&&(i.debugMode=!0)},ut=this.getSoundById,tt=function(){var e=[];return i.debugMode&&e.push(nt.sm2Debug),i.debugFlash&&e.push(nt.flashDebug),i.useHighPerformance&&e.push(nt.highPerf),e.join(" ")},et=function(){var e=Z("fbHandler"),t=i.getMoviePercent(),n=nt,r={type:"FLASHBLOCK"};if(i.html5Only)return!1;i.ok()?i.oMC&&(i.oMC.className=[tt(),n.swfDefault,n.swfLoaded+(i.didFlashBlock?" "+n.swfUnblocked:"")].join(" ")):(mt&&(i.oMC.className=tt()+" "+n.swfDefault+" "+(t===null?n
.swfTimedout:n.swfError)),i.didFlashBlock=!0,O({type:"ontimeout",ignoreInit:!0,error:r}),z(r))},A=function(e,t,n){typeof g[e]=="undefined"&&(g[e]=[]),g[e].push({method:t,scope:n||null,fired:!1})},O=function(e){e||(e={type:"onready"});if(!S&&e&&!e.ignoreInit)return!1;if(e.type==="ontimeout"&&i.ok())return!1;var t={success:e&&e.ignoreInit?i.ok():!x},n=e&&e.type?g[e.type]||[]:[],r=[],s,o,u=[t],a=mt&&i.useFlashBlock&&!i.ok();e.error&&(u[0].error=e.error);for(s=0,o=n.length;s<o;s++)n[s].fired!==!0&&r.
push(n[s]);if(r.length)for(s=0,o=r.length;s<o;s++)r[s].scope?r[s].method.apply(r[s].scope,u):r[s].method.apply(this,u),a||(r[s].fired=!0);return!0},M=function(){c.setTimeout(function(){i.useFlashBlock&&et(),O(),i.onload instanceof Function&&i.onload.apply(c),i.waitForWindowLoad&&Tt.add(c,"load",M)},1)},Lt=function(){if(kt!==undefined)return kt;var e=!1,t=navigator,n=t.plugins,r,i,s,o=c.ActiveXObject;if(n&&n.length)i="application/x-shockwave-flash",s=t.mimeTypes,s&&s[i]&&s[i].enabledPlugin&&s[i].enabledPlugin
.description&&(e=!0);else if(typeof o!="undefined"){try{r=new o("ShockwaveFlash.ShockwaveFlash")}catch(u){}e=!!r}return kt=e,e},gt=function(){var e,t,n=_t&&!!l.match(/os (1|2|3_0|3_1)/i);if(n)return i.hasHTML5=!1,i.html5Only=!0,i.oMC&&(i.oMC.style.display="none"),!1;if(!i.useHTML5Audio)return!0;if(!i.html5||!i.html5.canPlayType)return i.hasHTML5=!1,!0;i.hasHTML5=!0;if(qt&&Lt())return!0;for(t in i.audioFormats)i.audioFormats.hasOwnProperty(t)&&(i.audioFormats[t].required&&!i.html5.canPlayType(i.audioFormats
[t].type)||i.flash[t]||i.flash[i.audioFormats[t].type])&&(e=!0);return i.ignoreFlash&&(e=!1),i.html5Only=i.hasHTML5&&i.useHTML5Audio&&!e,!i.html5Only},vt=function(e){var t,n,r=0;if(e instanceof Array){for(t=0,n=e.length;t<n;t++)if(e[t]instanceof Object){if(i.canPlayMIME(e[t].type)){r=t;break}}else if(i.canPlayURL(e[t])){r=t;break}return e[r].url&&(e[r]=e[r].url),e[r]}return e},lt=function(t){t._hasTimer||(t._hasTimer=!0,!It&&i.html5PollingInterval&&(dt===null&&pt===0&&(dt=e.setInterval(ht,i.html5PollingInterval
)),pt++))},ct=function(e){e._hasTimer&&(e._hasTimer=!1,!It&&i.html5PollingInterval&&pt--)},ht=function(){var t;if(dt!==null&&!pt)return e.clearInterval(dt),dt=null,!1;for(t=i.soundIDs.length-1;t>=0;t--)i.sounds[i.soundIDs[t]].isHTML5&&i.sounds[i.soundIDs[t]]._hasTimer&&i.sounds[i.soundIDs[t]]._onTimer()},z=function(e){e=typeof e!="undefined"?e:{},i.onerror instanceof Function&&i.onerror.apply(c,[{type:typeof e.type!="undefined"?e.type:null}]),typeof e.fatal!="undefined"&&e.fatal&&i.disable()},At=
function(){if(!qt||!Lt())return!1;var e=i.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n))if(n==="mp3"||n==="mp4"){i.html5[n]=!1;if(e[n]&&e[n].related)for(t=e[n].related.length-1;t>=0;t--)i.html5[e[n].related[t]]=!1}},this._setSandboxType=function(e){},this._externalInterfaceOK=function(e,t){if(i.swfLoaded)return!1;var n,r=(new Date).getTime();i.swfLoaded=!0,zt=!1,qt&&At(),Ht?setTimeout(v,100):v()},U=function(e,t){function n(){}function C(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(w&&
E)return!1;if(i.html5Only)return P(),n(),i.oMC=f(i.movieID),v(),w=!0,E=!0,!1;var r=t||i.url,s=i.altURL||r,o="JS/Flash audio component (SoundManager 2)",u,a,c=R(),h,d,m,g=tt(),y,b,S,x=null,T=null,N=p.getElementsByTagName("html")[0];T=N&&N.dir&&N.dir.match(/rtl/i),e=typeof e=="undefined"?i.id:e,P(),i.url=Q($t?r:s),t=i.url,i.wmode=!i.wmode&&i.useHighPerformance?"transparent":i.wmode,i.wmode!==null&&(l.match(/msie 8/i)||!Ht&&!i.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(i.wmode=null
),u={name:e,id:e,src:t,quality:"high",allowScriptAccess:i.allowScriptAccess,bgcolor:i.bgColor,pluginspage:Jt+"www.macromedia.com/go/getflashplayer",title:o,type:"application/x-shockwave-flash",wmode:i.wmode,hasPriority:"true"},x!==null&&(u.width=x,u.height=x),i.debugFlash&&(u.FlashVars="debug=1"),i.wmode||delete u.wmode;if(Ht)a=p.createElement("div"),d=['<object id="'+e+'" data="'+t+'" type="'+u.type+'" title="'+u.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Jt+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+
u.width+'" height="'+u.height+'">',C("movie",t),C("AllowScriptAccess",i.allowScriptAccess),C("quality",u.quality),i.wmode?C("wmode",i.wmode):"",C("bgcolor",i.bgColor),C("hasPriority","true"),i.debugFlash?C("FlashVars",u.FlashVars):"","</object>"].join("");else{a=p.createElement("embed");for(h in u)u.hasOwnProperty(h)&&a.setAttribute(h,u[h])}X(),g=tt(),c=R();if(c){i.oMC=f(i.movieID)||p.createElement("div");if(!i.oMC.id){i.oMC.id=i.movieID,i.oMC.className=nt.swfDefault+" "+g,y=null,m=null,i.useFlashBlock||
(i.useHighPerformance?y={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(y={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},T&&(y.left=Math.abs(parseInt(y.left,10))+"px"))),Bt&&(i.oMC.style.zIndex=1e4);if(!i.debugFlash)for(b in y)y.hasOwnProperty(b)&&(i.oMC.style[b]=y[b]);try{Ht||i.oMC.appendChild(a),c.appendChild(i.oMC),Ht&&(m=i.oMC.appendChild(p.createElement("div")),m.className=nt.swfBox,m.innerHTML=d),E=!0}catch(k){throw new Error
(Z("domError")+" \n"+k.toString())}}else S=i.oMC.className,i.oMC.className=(S?S+" ":nt.swfDefault)+(g?" "+g:""),i.oMC.appendChild(a),Ht&&(m=i.oMC.appendChild(p.createElement("div")),m.className=nt.swfBox,m.innerHTML=d),E=!0}return w=!0,n(),!0},j=function(){return i.html5Only?(U(),!1):s?!1:(s=i.getMovie(i.id),s||(G?(Ht?i.oMC.innerHTML=Y:i.oMC.appendChild(G),G=null,w=!0):U(i.id,i.url),s=i.getMovie(i.id)),i.oninitmovie instanceof Function&&setTimeout(i.oninitmovie,1),!0)},_=function(){setTimeout(D,1e3
)},D=function(){if(at)return!1;at=!0,Tt.remove(c,"load",_);if(zt&&!Ut)return!1;var e;S||(e=i.getMoviePercent()),setTimeout(function(){e=i.getMoviePercent(),!S&&Wt&&(e===null?i.useFlashBlock||i.flashLoadTimeout===0?i.useFlashBlock&&et():K(!0):i.flashLoadTimeout!==0&&K(!0))},i.flashLoadTimeout)},H=function(){function e(){Tt.remove(c,"focus",H),Tt.remove(c,"load",H)}return Ut||!zt?(e(),!0):(Wt=!0,Ut=!0,jt&&zt&&Tt.remove(c,"mousemove",H),at=!1,e(),!0)},Mt=function(){var e,t=[];if(i.useHTML5Audio&&i.hasHTML5
)for(e in i.audioFormats)i.audioFormats.hasOwnProperty(e)&&t.push(e+": "+i.html5[e]+(!i.html5[e]&&kt&&i.flash[e]?" (using flash)":i.preferFlash&&i.flash[e]&&kt?" (preferring flash)":i.html5[e]?"":" ("+(i.audioFormats[e].required?"required, ":"")+"and no flash support)"))},k=function(e){if(S)return!1;if(i.html5Only)return S=!0,M(),!0;var t=i.useFlashBlock&&i.flashLoadTimeout&&!i.getMoviePercent(),n;return t||(S=!0,x&&(n={type:!kt&&mt?"NO_FLASH":"INIT_TIMEOUT"})),x||e?(i.useFlashBlock&&i.oMC&&(i.oMC
.className=tt()+" "+(i.getMoviePercent()===null?nt.swfTimedout:nt.swfError)),O({type:"ontimeout",error:n}),z(n),!1):i.waitForWindowLoad&&!T?(Tt.add(c,"load",M),!1):(M(),!0)},v=function(){function e(){Tt.remove(c,"load",i.beginDelayedInit)}if(S)return!1;if(i.html5Only)return S||(e(),i.enabled=!0,k()),!0;j();try{s._externalInterfaceTest(!1),W(!0,i.flashPollingInterval||(i.useHighPerformance?10:50)),i.debugMode||s._disableDebug(),i.enabled=!0,i.html5Only||Tt.add(c,"unload",d)}catch(t){return z({type
:"JS_TO_FLASH_EXCEPTION",fatal:!0}),K(!0),k(),!1}return k(),e(),!0},F=function(){return q?!1:(q=!0,X(),!kt&&i.hasHTML5&&(i.useHTML5Audio=!0,i.preferFlash=!1),xt(),i.html5.usingFlash=gt(),mt=i.html5.usingFlash,Mt(),!kt&&mt&&(i.flashLoadTimeout=1),p.removeEventListener&&p.removeEventListener("DOMContentLoaded",F,!1),j(),!0)},St=function(){return p.readyState==="complete"&&(F(),p.detachEvent("onreadystatechange",St)),!0},I=function(){T=!0,Tt.remove(c,"load",I)},Lt(),Tt.add(c,"focus",H),Tt.add(c,"load"
,H),Tt.add(c,"load",_),Tt.add(c,"load",I),jt&&zt&&Tt.add(c,"mousemove",H),p.addEventListener?p.addEventListener("DOMContentLoaded",F,!1):p.attachEvent?p.attachEvent("onreadystatechange",St):z({type:"NO_DOM2_EVENTS",fatal:!0}),p.readyState==="complete"&&setTimeout(F,100)}var t=null;if(typeof SM2_DEFER=="undefined"||!SM2_DEFER)t=new n;e.SoundManager=n,e.soundManager=t}(window),define("soundmanager",function(){}),define("plex/control/init/SoundManagerInit",["soundmanager"],function(){soundManager=new 
SoundManager,soundManager.url="swf/soundmanager",soundManager.preferFlash=!0,soundManager.flashVersion=9,soundManager.flashLoadTimeout=0,soundManager.useFastPolling=!0,soundManager.useHighPerformance=!0,soundManager.beginDelayedInit()}),define("plex/control/commands/ShowLoadingCommand",["plex/control/Dispatcher","plex/model/AppModel"],function(e,t){function r(e){n<0&&(n=0),e===!0?(n===0&&t.set({loading:!0}),n++):(n--,n===0&&t.set({loading:!1}))}var n=0;e.on("command:ShowLoading",r)}),define("plex/model/UpdateHistoryModel"
,["plex/model/BaseModel","jquery","moment"],function(e,t){var n=e.extend({parse:function(e){var n=t.xml2json(e)||e,r={summary:n.summary,name:n.name,time:moment(n.subtitle,"YYYY-MM-DD HH:mm:ss").toDate()};return r}});return n}),define("plex/model/collections/UpdateHistoryCollection",["plex/model/collections/BaseCollection","plex/model/UpdateHistoryModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:"/system/appstore/history",initialize:function(e,t){this.server=t.server},parse:function(e)
{return n.xml2json(e).Directory}});return r}),define("plex/control/commands/CheckForUpdatesCommand",["plex/control/Dispatcher","plex/model/AppModel","plex/model/collections/UpdateHistoryCollection","jquery","xml2json"],function(e,t,n,r){function s(){var n="/system/appstore/updates",i=t.get("primaryServer");return e.trigger("command:ShowLoading",!0),r.ajax(i.getAjaxOptions(n)).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(e){var n=r.xml2json(e)||e;if(n.Directory){var i=n.Directory
[0].summary.split("\n");_.indexOf(i,"WebClient")>=0?t.set("updateStatus","download"):t.set("updateStatus","latest")}else t.set("updateStatus","latest")})}function o(){var e=new n([],{server:t.get("primaryServer")}),r={"X-Plex-Container-Start":"0","X-Plex-Container-Size":i?"40":"1"};e.on("reset",function(e){if(e.length===0)return;if(!i)i=e.first().get("time");else{var n=e.where({name:"WebClient"});n.length>0&&n[0].get("time")>i&&t.set("updateStatus","reload")}}),e.fetch({headers:r,hideLoadingAlert
:!0})}function u(e){if(t.get("updateStatus")=="download")return;if(t.get("primaryServer").get("shared"))return;e?s().done(o):o()}var i=null;e.on("command:CheckForUpdates",u)}),define("plex/control/commands/InstallUpdateCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery"],function(e,t,n,r){function i(){var i=n.get("primaryServer"),s="/system/appstore/apps/com.plexapp.plugins.webclient/update";e.trigger("command:ShowLoading",!0),r.ajax(i.getAjaxOptions
(s)).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(e){window.location.reload(!0)}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem installing the update.")})})}e.on("command:InstallUpdate",i)}),define("plex/control/commands/SignOutCommand",["plex/control/Dispatcher"],function(e){function t(){window.sessionStorage&&window.sessionStorage.clear(),window.localStorage&&window.localStorage.removeItem("myPlexAuthToken"),window.location.reload(!0)}e.
on("command:SignOut",t)}),define("plex/control/commands/myplex/SignInCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery","xml2json"],function(e,t,n,r){function i(r,i){e.trigger("command:ShowLoading",!0),n.get("myPlex").signIn(r.username,r.password,r.rememberMe).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(){n.fetchEverything(r.silent).always(function(){i&&i()})}).fail(function(e){var r=t.t("There was a problem signing in to myPlex."
);e.status===401&&(r=t.t("The username or password is incorrect.")),n.set("alert",{status:"error",message:r}),i&&i()})}e.on("command:SignIn",i)}),define("plex/control/commands/myplex/PublishServerCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel"],function(e,t,n){function r(e,r,i){var s=e.get("preferences"),o=s.get("PublishServerOnPlexOnlineKey");o.save({PublishServerOnPlexOnlineKey:r},{hideLoadingAlert:!0}).done(function(){i()}).fail(function(){var e=
t.t("There was a problem publishing your server.");r||(e=t.t("There was a problem unpublishing your server.")),n.set("alert",{status:"error",message:e})})}e.on("command:PublishServer",r)}),define("plex/control/commands/myplex/ServerSignInCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery","xml2json"],function(e,t,n,r){function i(e,i,s){e.signedIn=!0,e.set({username:"",password:""}),e.save(i).done(function(e){var i=r.xml2json(e)||e;i&&i.signInState==="invalid"?
n.set("alert",{status:"error",message:t.t("The username or password is incorrect.")}):s()}).fail(function(e){this.signedIn=!1;var r=t.t("There was a problem signing in to myPlex.");e.status===401&&(r=t.t("The username or password is incorrect.")),n.set("alert",{status:"error",message:r})})}e.on("command:ServerSignIn",i)}),define("plex/control/commands/myplex/ServerSignOutCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel"],function(e,t,n){function r(e,r
){e.destroy().done(r).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem signing out of myPlex.")})})}e.on("command:ServerSignOut",r)}),define("plex/control/commands/myplex/ServerSignUpCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery","xml2json"],function(e,t,n,r){function i(e,i,s){e.signedIn=!1,e.set({username:"",email:"",password:""}),e.save(i).done(function(e){var i=r.xml2json(e)||e;if(i&&i.signInState==="invalid"
){var o=t.t("The username or password is invalid.");i.Error&&(_.isArray(i.Error)||(i.Error=[i.Error]),o="<ul>",_.each(i.Error,function(e){o+="<li>"+e.error+"</li>"}),o+="</ul>"),n.set("alert",{status:"error",message:o})}else s()}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem signing up for a myPlex account.")})})}e.on("command:ServerSignUp",i)}),define("plex/control/commands/myplex/ShareCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel"
,"jquery"],function(e,t,n,r){function i(i,s,o,u,a){var f=n.get("myPlex"),l=i.get("url");if(!l){n.set("alert",{status:"error",message:t.t("This media item does not have a valid url.")});return}var c=[],h={url:l,message:o};e.trigger("command:ShowLoading",!0),_.each(s,function(e){var t="/pms/social/networks/"+e+"/share?"+r.param(h),n=_.extend({type:"POST"},f.getAjaxOptions(t));c.push(r.ajax(n))}),r.when.apply(r,c).always(function(){e.trigger("command:ShowLoading",!1)}).done(u).fail(function(){a(),n.
set("alert",{status:"error",message:t.t("There was a problem sharing this media item.")})})}e.on("command:Share",i)}),define("plex/control/commands/myplex/RecommendCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery"],function(e,t,n,r){function i(i,s,o,u,a){var f=n.get("myPlex"),l=i.get("url");if(!l){n.set("alert",{status:"error",message:t.t("This media item does not have a valid url.")});return}var c=[],h={url:l,message:o};e.trigger("command:ShowLoading"
,!0),_.each(s,function(e){var t="/pms/playlists/"+e+"/items?"+r.param(h),n=_.extend({type:"POST"},f.getAjaxOptions(t));c.push(r.ajax(n))}),r.when.apply(r,c).always(function(){e.trigger("command:ShowLoading",!1)}).done(u).fail(function(){a(),n.set("alert",{status:"error",message:t.t("There was a problem recommending this media item.")})})}e.on("command:Recommend",i)}),define("plex/control/commands/library/StartLibraryScanCommand",["plex/control/Dispatcher","jquery"],function(e,t){function n(e,n,r)
{n=n?n.id:"all",r||(r={});var i={};r.force&&(i.force=1),r.turbo&&(i.turbo=1),r.deep&&(i.deep=1);var s="/library/sections/"+n+"/refresh",o=_.extend({data:i},e.getAjaxOptions(s));t.ajax(o)}e.on("command:StartLibraryScan",n)}),define("plex/control/commands/library/StopLibraryScanCommand",["plex/control/Dispatcher","jquery"],function(e,t){function n(e,n){var r="/library/sections/"+n.id+"/refresh",i=_.extend({type:"DELETE"},e.getAjaxOptions(r));t.ajax(i)}e.on("command:StopLibraryScan",n)}),define("plex/control/commands/library/StartMediaAnalysisCommand"
,["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery"],function(e,t,n,r){function i(e,i){var s="/library/sections/"+i.id+"/analyze",o=_.extend({type:"PUT"},e.getAjaxOptions(s));r.ajax(o).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem trying to start media analysis in {1}.",i.get("title"))})})}e.on("command:StartMediaAnalysis",i)}),define("plex/control/commands/library/OptimizeLibraryCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil"
,"plex/model/AppModel","jquery"],function(e,t,n,r){function i(i,s){var o=i.get("friendlyName")||i.get("name"),u="/library/optimize",a=_.extend({type:"PUT"},i.getAjaxOptions(u));e.trigger("command:ShowLoading",!0),r.ajax(a).always(function(){e.trigger("command:ShowLoading",!1),s()}).done(function(){n.set("alert",{status:"success",message:t.t("The database for {1} was optimized.",o)})}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem optimizing the database for {1}.",
o)})})}e.on("command:OptimizeLibrary",i)}),define("plex/control/commands/library/CleanBundlesCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery"],function(e,t,n,r){function i(i,s){var o=i.get("friendlyName")||i.get("name"),u="/library/clean/bundles",a=_.extend({type:"PUT"},i.getAjaxOptions(u));e.trigger("command:ShowLoading",!0),r.ajax(a).always(function(){e.trigger("command:ShowLoading",!1),s()}).done(function(){n.set("alert",{status:"success"
,message:t.t("Unused bundles for {1} are being removed.",o)})}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem removing unused bundles for {1}.",o)})})}e.on("command:CleanBundles",i)}),define("plex/control/commands/library/EmptyTrashCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery"],function(e,t,n,r){function i(e,i){var s="/library/sections/"+i.id+"/emptyTrash",o=_.extend({type:"PUT"},e.getAjaxOptions(s));r.ajax
(o).done(function(){n.set("alert",{status:"success",message:t.t("The trash for {1} was emptied.",i.get("title"))})}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem emptying the trash for {1}.",i.get("title"))})})}e.on("command:EmptyTrash",i)}),define("hb!templates/modals/ConfirmModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon circle-exclamation-mark"></i> '
,u=n.title,o=u||t.title,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"title",{hash:{}})),s+=h(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">',u=n.message,o=u||t.message,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"message",{hash:{}})),s+=h(o)+'</div>\n\n<div class="modal-footer pull-center">\n	<button class="btn btn-large btn-primary yes-btn">Yes</button>\n	<button class="btn btn-large btn-inverse no-btn">No</button>\n</div>\n',s})}),define("plex/view/modals/ConfirmModal"
,["hb!templates/modals/ConfirmModal.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({className:"modal modal-small confirm-modal fade",title:null,message:null,events:{hidden:"onClose","click .no-btn":"onNo","click .yes-btn":"onYes"},initialize:function(e){this.title=e.title,this.message=e.message},render:function(){return this.$el.html(e({title:this.title,message:this.message})).modal(),this},onClose:function(e){t.trigger("destroy:modal",this)},onNo:function(e){
e.preventDefault(),this.trigger("no"),this.$el.modal("hide")},onYes:function(e){e.preventDefault(),this.trigger("yes"),this.$el.modal("hide")}});return r}),define("plex/control/commands/library/DeleteSectionCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/modals/ConfirmModal"],function(e,t,n,r){function i(e){var i=new r({title:t.t("Delete Section"),message:t.t("Are you sure you want to delete {1}? This cannot be undone.",e.get("title"))});
i.on("yes",function(){e.destroy({wait:!0})}),n.set("modal",i)}e.on("command:DeleteSection",i)}),define("plex/control/commands/media/DeleteMediaCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/modals/ConfirmModal"],function(e,t,n,r){function i(i){var s=new r({title:t.t("Delete Media"),message:t.t("Are you sure you want to delete {1}? This media will be deleted from your filesystem.",i.get("title"))});s.on("yes",function(){i.destroy({wait:!0
}).done(function(){var t=i.get("type"),n,r;i.media&&(t==="episode"?r=i.media.get("episodes").length:t==="track"&&(r=i.media.get("tracks").length)),r?n=i.get("parentRatingKey"):n=i.get("grandparentRatingKey"),n?e.trigger("navigate:details",i.server.id,i.section.id,n):e.trigger("navigate:section",i.server.id,i.section.id)}).fail(function(e){var r=t.t("There was a problem deleting {1}.",i.get("title"));e.status===403&&(r=t.t('"Allow clients to delete media" must be enabled in your server preferences.'
)),n.set("alert",{status:"error",message:r})})}),n.set("modal",s)}e.on("command:DeleteMedia",i)}),define("plex/control/commands/media/RefreshMetadataCommand",["plex/control/Dispatcher","jquery"],function(e,t){function n(e){var n="/library/metadata/"+e.get("ratingKey")+"/refresh",r=_.extend({type:"PUT"},e.server.getAjaxOptions(n));t.ajax(r)}e.on("command:RefreshMetadata",n)}),define("plex/control/commands/media/MarkWatchedCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel"
,"plex/view/modals/ConfirmModal","jquery"],function(e,t,n,r,i){function s(s){var o=s.get("type"),u="/:/scrobble?key="+s.get("ratingKey")+"&identifier="+s.get("identifier"),a=function(){e.trigger("command:ShowLoading",!0),i.ajax(s.server.getAjaxOptions(u)).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(){if(o==="show"||o==="season"){s.set("unviewedLeafCount",0),s.set("viewedLeafCount",s.get("leafCount"));if(o==="show"){var e=s.get("seasons");e.each(function(e){e.set("unviewedLeafCount"
,0),e.set("viewedLeafCount",e.get("leafCount"))})}else{var t=s.get("episodes");t.each(function(e){e.set("viewOffset",0),e.set("viewCount",1)})}}else s.set("viewOffset",0),s.set("viewCount",1)}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem marking {1} as watched.",s.get("title"))})})};if(o==="show"||o==="season"){var f=new r({title:t.t("Mark as Watched"),message:t.t("Are you sure you want to mark all episodes as watched?")});f.on("yes",a),n.set("modal",f)}else a()
}e.on("command:MarkWatched",s)}),define("plex/control/commands/media/MarkUnwatchedCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/modals/ConfirmModal","jquery"],function(e,t,n,r,i){function s(s){var o=s.get("type"),u="/:/unscrobble?key="+s.get("ratingKey")+"&identifier="+s.get("identifier"),a=function(){e.trigger("command:ShowLoading",!0),i.ajax(s.server.getAjaxOptions(u)).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(
){if(o==="show"||o==="season"){s.set("unviewedLeafCount",s.get("leafCount")),s.set("viewedLeafCount",0);if(o==="show"){var e=s.get("seasons");e.each(function(e){e.set("unviewedLeafCount",e.get("leafCount")),e.set("viewedLeafCount",0)})}else{var t=s.get("episodes");t.each(function(e){e.set("viewOffset",0),e.set("viewCount",0)})}}else s.set("viewOffset",0),s.set("viewCount",0)}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem marking {1} as unwatched.",s.get("title"))
})})};if(o==="show"||o==="season"){var f=new r({title:t.t("Mark as Unwatched"),message:t.t("Are you sure you want to mark all episodes as unwatched?")});f.on("yes",a),n.set("modal",f)}else a()}e.on("command:MarkUnwatched",s)}),define("plex/control/commands/media/MatchUsingCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery","xml2json"],function(e,t,n,r){function i(i,s){var o={agent:s.id,manual:0},u="/library/metadata/"+i.get("ratingKey")+"/matches?"+
r.param(o);e.trigger("command:ShowLoading",!0),r.ajax(i.server.getAjaxOptions(u)).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(s){var a=r.xml2json(s)||s;if(a.SearchResult){var f=a.SearchResult;_.isArray(a.SearchResult)&&(f=a.SearchResult[0]),o={guid:f.guid,name:f.name},u="/library/metadata/"+i.get("ratingKey")+"/match?"+r.param(o);var l=_.extend({type:"PUT"},i.server.getAjaxOptions(u));r.ajax(l).done(function(){e.trigger("hide:fixMatchModal")}).fail(function(){n.set("alert"
,{status:"error",message:t.t("There was a problem matching this media.")})})}else n.set("alert",{status:"error",message:t.t("No matches were found using this agent.")})}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem looking for matches.")})})}e.on("command:MatchUsing",i)}),define("plex/control/commands/media/UnmatchCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery"],function(e,t,n,r){function i(i){var s="/library/metadata/"+
i.get("ratingKey")+"/unmatch",o=_.extend({type:"PUT"},i.server.getAjaxOptions(s));e.trigger("command:ShowLoading",!0),r.ajax(o).always(function(){e.trigger("command:ShowLoading",!1)}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem unmatching {1}.",i.get("title"))})})}e.on("command:Unmatch",i)}),define("plex/control/commands/media/SplitApartCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/modals/ConfirmModal"
,"jquery"],function(e,t,n,r,i){function s(s){var o="/library/metadata/"+s.get("ratingKey")+"/split",u=new r({title:t.t("Split Apart"),message:t.t("Are you sure you want to split apart {1}?",s.get("title"))});u.on("yes",function(){var r=_.extend({type:"PUT"},s.server.getAjaxOptions(o));e.trigger("command:ShowLoading",!0),i.ajax(r).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(){s.set("Media",s.get("Media")[0])}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem splitting {1} apart."
,s.get("title"))})})}),n.set("modal",u)}e.on("command:SplitApart",s)}),define("plex/control/commands/media/MergeCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/modals/ConfirmModal","jquery"],function(e,t,n,r,i){function s(s,o){var u="/library/metadata/"+s.get("ratingKey")+"/merge?ids=";u+=_.pluck(o,"id").join(",");var a=new r({title:t.t("Merge"),message:t.t("Are you sure you want to merge into {1}?",s.get("title"))});a.on("yes",function()
{var r=_.extend({type:"PUT"},s.server.getAjaxOptions(u));e.trigger("command:ShowLoading",!0),i.ajax(r).always(function(){e.trigger("command:ShowLoading",!1)}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem merging these items into {1}.",s.get("title"))})})}),n.set("modal",a)}e.on("command:Merge",s)}),define("plex/control/commands/media/SelectStreamCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery"],function(e,t,
n,r){function i(e){return _.isArray(e)?_.first(e):e}function s(s,o,u){var a=i(o.get("Media"));if(!a)return;var f=i(a.Part);if(!f)return;var l="/library/parts/"+f.id+"?";s==="audio"?l+="audioStreamID="+u:l+="subtitleStreamID="+u;var c=_.extend({type:"PUT"},o.server.getAjaxOptions(l));e.trigger("command:ShowLoading",!0),r.ajax(c).always(function(){e.trigger("command:ShowLoading",!1)}).done(function(){var e;s==="audio"?e=o.getStreams("2"):e=o.getStreams("3"),_.each(e,function(e){e.id!==u.toString()?delete 
e.selected:e.selected="1"}),o.trigger("change:streams")}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem selecting the stream for {1}.",o.get("title"))})})}e.on("command:SelectStream",s)}),define("plex/model/media/AlbumModel",["plex/model/media/MediaModel","plex/model/media/collections/TrackCollection"],function(e,t){var n=e.extend({constructor:function(t,r){var i=e.prototype.constructor.apply(this,arguments);if(i)return n.prototype.initialize.apply(i,arguments),i}
,initialize:function(n,r){e.prototype.initialize.apply(this,arguments);if(this.get("tracks"))return;this.set("tracks",new t([],{server:this.server,section:this.section,media:this}))},getMediaLocation:function(){var e=this.get("tracks").first();return e?e.getMediaLocation():null}});return n}),define("plex/control/commands/media/PlayTrackCommand",["plex/control/Dispatcher","plex/model/SectionModel","plex/model/media/AlbumModel"],function(e,t,n){function r(r){var i=r.get("parentRatingKey"),s=new n({
key:"/library/metadata/"+i+"/children",ratingKey:i},{server:r.server,section:r.section});r.section||(r.section=new t({key:r.get("librarySectionID")},{server:r.server}),s.section=r.section);var o=s.get("tracks");o.populate().done(function(){e.trigger("play:music",o,o.get(r.id))})}e.on("command:PlayTrack",r)}),define("plex/control/commands/channel/ChannelActionCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery","xml2json"],function(e,t,n,r){function i
(i,s,o){e.trigger("command:ShowLoading",!0),r.ajax(i.server.getAjaxOptions(s)).always(function(){e.trigger("command:ShowLoading",!1),o&&o()}).done(function(e){var t=r.xml2json(e)||e;/\/uninstall$/.test(s)?i.set("installed",0):i.set("installed",1),t.message&&n.set("alert",{status:"success",message:t.message})}).fail(function(e){n.set("alert",{status:"error",message:t.t("There was a problem trying to perform this action on {1}.",i.get("name"))})})}e.on("command:ChannelAction",i)}),define("plex/control/commands/channel/UpdateChannelCommand"
,["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","jquery","xml2json"],function(e,t,n,r){function i(i,s){var o="/system/appstore/";i.channel?o+="apps/"+i.channel.get("identifier")+"/update":o+="updates",i.silent||e.trigger("command:ShowLoading",!0),r.ajax(i.server.getAjaxOptions(o)).always(function(){i.silent||e.trigger("command:ShowLoading",!1)}).done(function(o){var u=r.xml2json(o)||o;if(u.message)i.silent||n.set("alert",{status:"success",message:u.message}
),s&&s();else if(u.Directory){var a;_.isArray(u.Directory)?a=u.Directory[0].key:a=u.Directory.key,i.silent||e.trigger("command:ShowLoading",!0),r.ajax(i.server.getAjaxOptions(a)).always(function(){i.silent||e.trigger("command:ShowLoading",!1),s&&s()}).done(function(e){var t=r.xml2json(e)||e;t.message&&!i.silent&&n.set("alert",{status:"success",message:t.message})}).fail(function(){i.silent||n.set("alert",{status:"error",message:t.t("There was a problem downloading updates.")})})}}).fail(function(
){i.silent||n.set("alert",{status:"error",message:t.t("There was a problem checking for updates.")}),s&&s()})}e.on("command:UpdateChannel",i)}),define("plex/control/commands/channel/UninstallChannelCommand",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/modals/ConfirmModal","jquery","xml2json"],function(e,t,n,r,i){function s(s,o){var u="/system/appstore/apps/"+s.get("identifier")+"/uninstall",a=new r({title:t.t("Uninstall Channel"),message:t.t("Are you sure you want to uninstall {1}?"
,s.get("title"))});a.on("yes",function(){n.set("modal",a),e.trigger("command:ShowLoading",!0),i.ajax(s.server.getAjaxOptions(u)).always(function(){e.trigger("command:ShowLoading",!1),o&&o()}).done(function(e){var t=i.xml2json(e)||e;s.set("installed",0),t.message&&n.set("alert",{status:"success",message:t.message})}).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem uninstalling {1}.",s.get("title"))})})}),n.set("modal",a)}e.on("command:UninstallChannel",s)}),define("plex/control/Commands"
,["plex/control/commands/ShowLoadingCommand","plex/control/commands/CheckForUpdatesCommand","plex/control/commands/InstallUpdateCommand","plex/control/commands/SignOutCommand","plex/control/commands/myplex/SignInCommand","plex/control/commands/myplex/PublishServerCommand","plex/control/commands/myplex/ServerSignInCommand","plex/control/commands/myplex/ServerSignOutCommand","plex/control/commands/myplex/ServerSignUpCommand","plex/control/commands/myplex/ShareCommand","plex/control/commands/myplex/RecommendCommand"
,"plex/control/commands/library/StartLibraryScanCommand","plex/control/commands/library/StopLibraryScanCommand","plex/control/commands/library/StartMediaAnalysisCommand","plex/control/commands/library/OptimizeLibraryCommand","plex/control/commands/library/CleanBundlesCommand","plex/control/commands/library/EmptyTrashCommand","plex/control/commands/library/DeleteSectionCommand","plex/control/commands/media/DeleteMediaCommand","plex/control/commands/media/RefreshMetadataCommand","plex/control/commands/media/MarkWatchedCommand"
,"plex/control/commands/media/MarkUnwatchedCommand","plex/control/commands/media/MatchUsingCommand","plex/control/commands/media/UnmatchCommand","plex/control/commands/media/SplitApartCommand","plex/control/commands/media/MergeCommand","plex/control/commands/media/SelectStreamCommand","plex/control/commands/media/PlayTrackCommand","plex/control/commands/channel/ChannelActionCommand","plex/control/commands/channel/UpdateChannelCommand","plex/control/commands/channel/UninstallChannelCommand"],function(
){}),define("plex/control/ServerNotificationStream",["plex/control/Dispatcher","plex/model/AppModel","plex/model/SectionModel","plex/model/media/MediaModel"],function(e,t,n,r){var i={},s=function(t){var s=t.resolveUrl("/:/websockets/notifications").replace(/^http/,"ws");t.get("accessToken")&&(s+="?X-Plex-Token="+encodeURIComponent(t.get("accessToken"))),this.server=t,this.socket=new WebSocket(s),this.socket.onclose=_.bind(function(n){t.set("disconnected",!0),e.trigger("show:status",t,"Connection to "+
t.get("name")+" closed"),t.trigger("websocket",{closed:!0}),delete i[t.id]},this),this.socket.onopen=_.bind(function(e){t.set("disconnected",!1),t.trigger("websocket",{opened:!0})},this),this.socket.onerror=_.bind(function(n){t.set("disconnected",!1),e.trigger("show:status",t,"Unable to receive notifications from "+t.get("name")),t.trigger("websocket",{error:!0})},this),this.socket.onmessage=_.bind(function(t){var i;try{i=JSON.parse(t.data)}catch(s){return}i.type=="preference"?_.each(i._children,
function(t){t.key=t.id,t.server=this.server,this.server.trigger("preference:change",t),e.trigger("preference:change",t)},this):i.type=="timeline"?_.each(i._children,function(t){t.server=this.server;var i={server:this.server,onlyIfCached:!0},s=new n({key:t.sectionID},i);if(!_.isEmpty(s)){t.section=i.section=s;var o=new r({ratingKey:t.itemID},i);_.isEmpty(o)||(o.set({metadataState:t.metadataState,mediaState:t.mediaState}),t.media=o,o.trigger("timeline",t));if(t.rootItemID){var u=new r({ratingKey:t.
rootItemID},i);_.isEmpty(u)||u.fetch({hideLoadingAlert:!0})}if(t.parentItemID){var a=new r({ratingKey:t.parentItemID},i);_.isEmpty(a)||a.fetch({hideLoadingAlert:!0})}s.trigger("timeline",t)}t.server.trigger("timeline",t),e.trigger("timeline",t)},this):i.type=="status"?_.each(i._children,function(t){var n=t.title+(t.description?": "+t.description:"");e.trigger("show:status",this.server,n),this.server.trigger("status",t),t.notificationName==="LIBRARY_UPDATE"&&this.server.get("sections").fetch({hideLoadingAlert
:!0})},this):i.type=="progress"&&_.each(i._children,function(t){e.trigger("show:status",this.server,t.message),this.server.trigger("status",t)},this)},this)},o=function(e){if(e.get("shared")||!e.get("isAvailable"))return;e.id in i&&(i[e.id].socket.onclose=null,i[e.id].socket.close()),window.WebSocket?i[e.id]=new s(e):e.trigger("websocket",{error:!0})};t.get("servers").on("add",o),t.get("servers").on("change:isAvailable",o),t.get("servers").on("reset",function(e){e.each(o)}),e.on("connect:websocket"
,function(e){if(e.id in i||e.id==="myPlex")return;o(e)}),e.on("timeline",function(t){var n=t.section?t.section.get("title"):"section "+t.sectionID,r=t.title||"item "+t.itemID,i="";switch(t.state){case 0:i="Created";break;case 2:i="Matching";break;case 3:i="Downloading metadata for";break;case 4:i="Loading metadata for";break;case 5:i="Finished processing";break;case 6:i="Analyzing";break;case 9:i="Deleted"}i&&e.trigger("show:status",t.server,i+" "+r+" in "+n+" on "+t.server.get("name"))})}),!function(
e){e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t)if(e.style[n]!==undefined)return t[n]}();return e&&{end:e}}()})}(window.jQuery),define("transition",function(){}),!function(e){var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=
function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.parent('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),i=r
.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})})}(window.jQuery),define("button",function(){}),!function(e){function r(){e(t).parent().removeClass("open")}var t='[data-toggle="dropdown"]',n=
function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),i,s,o;if(n.is(".disabled, :disabled"))return;return s=n.attr("data-target"),s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),i=e(s),i.length||(i=n.parent()),o=i.hasClass("open"),r(),o||i.toggleClass("open"),!1}},e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r
.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e(function(){e("html").on("click.dropdown.data-api",r),e("body").on("click.dropdown",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle)})}(window.jQuery),define("dropdown",function(){}),!function(e){function n(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),r.call(t)},500);this.$element.one(e.support.
transition.end,function(){clearTimeout(n),r.call(t)})}function r(e){this.$element.hide().trigger("hidden"),i.call(this)}function i(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),i?this.$backdrop.one
(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(s,this)):s.call(this)):t&&t()}function s(){this.$backdrop.remove(),this.$backdrop=null}function o(){var t=this;this.isShown&&this.options.keyboard?e(document).on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()}):this.isShown||e(document).off("keyup.dismiss.modal")}var t=function(t,n){this
.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this))};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open"),this.isShown=!0,o.call(this),i.call(this,function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo
(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in"),n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();var i=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,e("body").removeClass("modal-open"),o.call(this),this.$element.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?n.call(
this):r.call(this)}},e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/
,"")),s=i.data("modal")?"toggle":e.extend({},i.data(),n.data());t.preventDefault(),i.modal(s)})})}(window.jQuery),define("modal",function(){}),!function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,this.options.trigger!="manual"&&(i=this.options.trigger=="hover"?"mouseenter":"focus",s=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(i,this.options
.selector,e.proxy(this.enter,this)),this.$element.on(s,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay
.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u;if(this.hasContent(
)&&this.enabled){t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,n=/in/.test(o),t.remove().css({top:0,left:0,display:"block"}).appendTo(n?this.$element:document.body),r=this.getPosition(n),this.$element.data("tooltip-position")==="fixed"&&(r.top-=e(window).scrollTop(),r.left-=e(window).scrollLeft(),t.addClass("tooltip-fixed")),i=t[0].offsetWidth,s=t[0
].offsetHeight;switch(n?o.split(" ")[1]:o){case"bottom":u={top:r.top+r.height,left:r.left+r.width/2-i/2};break;case"top":u={top:r.top-s,left:r.left+r.width/2-i/2};break;case"left":u={top:r.top+r.height/2-s/2,left:r.left-i};break;case"right":u={top:r.top+r.height/2-s/2,left:r.left+r.width}}t.css(u).addClass(o).addClass("in")}},isHTML:function(e){return typeof e!="string"||e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var e=this
.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.isHTML(t)?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.remove()})}var t=this,n=this.tip();n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?r():n.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title"
)!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options
.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=
t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),define("tooltip",function(){}),!function(e){var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.isHTML(t)?"html"
:"text"](t),e.find(".popover-content > *")[this.isHTML(n)?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip}}),e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data
("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),define("popover",function(){}),define("plex/control/init/GlobalInit",["plex/control/init/jQueryInit"
,"plex/control/init/BackboneInit","plex/control/init/HandlebarsInit","plex/control/init/SoundManagerInit","plex/control/Commands","plex/control/ServerNotificationStream","transition","button","dropdown","modal","tooltip","popover"],function(){}),define("plex/model/media/MovieModel",["plex/model/media/MediaModel"],function(e){var t=e.extend();return t}),define("plex/model/media/EpisodeModel",["plex/model/media/MediaModel"],function(e){var t=e.extend({parse:function(t){var n=e.prototype.parse.call(
this,t);return n.watched=n.viewCount>0,n}});return t}),define("plex/model/media/collections/EpisodeCollection",["plex/model/collections/BaseCollection","plex/model/media/EpisodeModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return this.media.get("key")},initialize:function(e,t){this.server=t.server,this.section=t.section,this.media=t.media,t.url&&(this.url=t.url)},parse:function(e){var t=n.xml2json(e).Video;return t}});return r}),define("plex/model/media/SeasonModel",["plex/model/media/MediaModel"
,"plex/model/media/collections/EpisodeCollection"],function(e,t){var n=e.extend({constructor:function(t,r){var i=e.prototype.constructor.apply(this,arguments);if(i)return n.prototype.initialize.apply(i,arguments),i},initialize:function(n,r){e.prototype.initialize.apply(this,arguments);if(this.get("episodes"))return;this.set("episodes",new t([],{server:this.server,section:this.section,media:this}))},parse:function(t){var n=e.prototype.parse.call(this,t);return n.unviewedLeafCount=n.leafCount-n.viewedLeafCount
,n},getMediaLocation:function(){var e=this.get("episodes").first();return e?e.getMediaLocation():null}});return n}),define("plex/model/media/collections/SeasonCollection",["plex/model/collections/BaseCollection","plex/model/media/SeasonModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return this.media.get("key")},initialize:function(e,t){this.server=t.server,this.section=t.section,this.media=t.media},parse:function(e){var t=n.xml2json(e)||e;return _.each(t.Directory,function(
e){e.parentThumb=t.thumb}),t.Directory}});return r}),define("plex/model/media/ShowModel",["plex/model/media/MediaModel","plex/model/media/collections/SeasonCollection"],function(e,t){var n=e.extend({constructor:function(t,r){var i=e.prototype.constructor.apply(this,arguments);if(i)return n.prototype.initialize.apply(i,arguments),i},initialize:function(n,r){e.prototype.initialize.apply(this,arguments);if(this.get("seasons"))return;this.set("seasons",new t([],{server:this.server,section:this.section
,media:this}))},parse:function(t){var n=e.prototype.parse.call(this,t);return n.unviewedLeafCount=n.leafCount-n.viewedLeafCount,n},getMediaLocation:function(){var e=this.get("seasons").first();return e?e.getMediaLocation():null}});return n}),define("plex/model/media/collections/AlbumCollection",["plex/model/collections/BaseCollection","plex/model/media/AlbumModel","jquery"],function(e,t,n){var r=e.extend({model:t,url:function(){return this.media.get("key")},initialize:function(e,t){this.server=t.
server,this.section=t.section,this.media=t.media},parse:function(e){var t=n.xml2json(e).Directory;return t}});return r}),define("plex/model/media/ArtistModel",["plex/model/media/MediaModel","plex/model/media/collections/AlbumCollection"],function(e,t){var n=e.extend({constructor:function(t,r){var i=e.prototype.constructor.apply(this,arguments);if(i)return n.prototype.initialize.apply(i,arguments),i},initialize:function(n,r){e.prototype.initialize.apply(this,arguments);if(this.get("albums"))return;
this.set("albums",new t([],{server:this.server,section:this.section,media:this}))},getMediaLocation:function(){var e=this.get("albums").last();return e?e.getMediaLocation():null}});return n}),define("plex/model/media/DetailsModel",["plex/model/BaseModel","plex/model/media/MediaModel","plex/model/media/MovieModel","plex/model/media/ShowModel","plex/model/media/SeasonModel","plex/model/media/EpisodeModel","plex/model/media/ArtistModel","plex/model/media/AlbumModel","plex/model/media/TrackModel","plex/model/media/PhotoModel"
,"jquery"],function(e,t,n,r,i,s,o,u,a,f,l){var c=e.extend({idAttribute:"ratingKey",url:function(){return"/library/metadata/"+this.id+"?checkFiles=1&skipRefresh=1"},parse:function(e,c){var h=l.xml2json(e)||e,p=h.Directory||h.Video||h.Track||h.Photo||h,d={server:this.server,section:this.section},v;if(p.type){p.identifier=h.identifier,p.mediaTagPrefix=h.mediaTagPrefix,p.mediaTagVersion=h.mediaTagVersion;switch(p.type){case"movie":v=n;break;case"show":v=r;break;case"season":v=i;break;case"episode":v=
s;break;case"artist":v=o;break;case"album":v=u;break;case"track":v=a;break;case"photo":v=f;break;default:v=t}this.defaults=v.prototype.defaults,p=v.prototype.parse.call(this,p),this.set("media",new v(p,d))}return p}});return c}),define("plex/model/media/ChannelVideoModel",["plex/model/media/MediaModel","jquery"],function(e,t){var n=e.extend({idAttribute:"key",url:function(){return this.id},parse:function(e){var n=t.xml2json(e)||e,r=n.Video||{key:n.key};return r.type="channelVideo",r}});return n})
,define("plex/model/SearchProviderModel",["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute:"key",whitelistedAttrs:["key","machineIdentifier","type","title"],cacheKey:function(e){return this.server.id+"!"+e[this.idAttribute]},parse:function(e){var n=t.xml2json(e)||e;return n=_.pick(n,this.whitelistedAttrs),n}});return n}),define("plex/model/collections/SearchProviderCollection",["plex/model/collections/BaseCollection","plex/model/SearchProviderModel","jquery"],function(e,
t,n){var r=e.extend({model:t,initialize:function(e,t){this.server=t.server,this.query=t.query},url:function(){return"/system/search?query="+this.query},parse:function(e){return n.xml2json(e).Provider}});return r}),function(e,t,n){function o(e,n){var r=t.createElement(e||"div"),i;for(i in n)r[i]=n[i];return r}function u(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function f(e,t,n,r){var o=["opacity",t,~~(e*100),n,r].join("-"),u=.01+n/r*100,f=Math.max(1-(1-e)/t*(100-
u),e),l=s.substring(0,s.indexOf("Animation")).toLowerCase(),c=l&&"-"+l+"-"||"";return i[o]||(a.insertRule("@"+c+"keyframes "+o+"{"+"0%{opacity:"+f+"}"+u+"%{opacity:"+e+"}"+(u+.01)+"%{opacity:1}"+(u+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+f+"}"+"}",0),i[o]=1),o}function l(e,t){var i=e.style,s,o;if(i[t]!==n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(o=0;o<r.length;o++){s=r[o]+t;if(i[s]!==n)return s}}function c(e,t){for(var n in t)e.style[l(e,n)||n]=t[n];return e}function h(e){for(var t=1
;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]===n&&(e[i]=r[i])}return e}function p(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var r=["webkit","Moz","ms","O"],i={},s,a=function(){var e=o("style");return u(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),d={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},
v=function m(e){if(!this.spin)return new m(e);this.opts=h(e||{},m.defaults,d)};v.defaults={},h(v.prototype,{spin:function(e){this.stop();var t=this,n=t.opts,r=t.el=c(o(0,{className:n.className}),{position:"relative",zIndex:n.zIndex}),i=n.radius+n.length+n.width,u,a;e&&(e.insertBefore(r,e.firstChild||null),a=p(e),u=p(r),c(r,{left:(n.left=="auto"?a.x-u.x+(e.offsetWidth>>1):n.left+i)+"px",top:(n.top=="auto"?a.y-u.y+(e.offsetHeight>>1):n.top+i)+"px"})),r.setAttribute("aria-role","progressbar"),t.lines
(r,t.opts);if(!s){var f=0,l=n.fps,h=l/n.speed,d=(1-n.opacity)/(h*n.trail/100),v=h/n.lines;!function m(){f++;for(var e=n.lines;e;e--){var i=Math.max(1-(f+e*v)%h*d,n.opacity);t.opacity(r,n.lines-e,i,n)}t.timeout=t.el&&setTimeout(m,~~(1e3/l))}()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function i(e,r){return c(o(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background
:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*n+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.width>>1)+"px"})}var n=0,r;for(;n<t.lines;n++)r=c(o(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:s&&f(t.opacity,t.trail,n,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&u(r,c(i("#000","0 0 4px #000"),{top:"2px"})),u(e,u(r,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(
e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),!function(){function e(e,t){return o("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=c(o("group"),{behavior:"url(#default#VML)"});!l(t,"transform")&&t.adj?(a.addRule(".spin-vml","behavior:url(#default#VML)"),v.prototype.lines=function(t,n){function s(){return c(e("group",{coordsize:i+" "+i,coordorigin:-r+" "+ -r}),{width:i,height:i})}function l(t,i,o){u(a,u(c(s(),{rotation:360/n.lines*t+"deg",left:~~i}),u
(c(e("roundrect",{arcsize:1}),{width:r,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var r=n.length+n.width,i=2*r,o=-(n.width+n.length)*2+"px",a=c(s(),{position:"absolute",top:o,left:o}),f;if(n.shadow)for(f=1;f<=n.lines;f++)l(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=n.lines;f++)l(f);return u(t,a)},v.prototype.opacity=function(e,t,n,r){var i=e.firstChild;r=
r.shadow&&r.lines||0,i&&t+r<i.childNodes.length&&(i=i.childNodes[t+r],i=i&&i.firstChild,i=i&&i.firstChild,i&&(i.opacity=n))}):s=l(t,"animation")}(),e.Spinner=v}(window,document),define("spin",function(){}),define("plex/view/alerts/LoadingAlert",["plex/view/BaseView","spin"],function(e){var t=e.extend({className:"alert loading",spinner:null,initialize:function(){this.spinner=new Spinner({color:"#fff",width:3,length:5})},render:function(){return this.$el.empty(),this.$el.append(this.spinner.spin().
el),this},destroy:function(){this.spinner.stop(),e.prototype.destroy.call(this)}});return t}),define("hb!templates/alerts/Alert.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){return'\n	<i class="alert-status glyphicon ok-2"></i>\n'}function y(e,t){var r="",i,s,o;r+="\n	",i="error",f=n.status,s=f||e.status,f=n.if_eq,o=f||e.if_eq,l=c.program(4,b,t),l.hash={},l.fn=l,l.inverse=c.program(6,w,t),f&&typeof o===h?i=o.call(e,s,i,l):i=p.call(e,o,s,i,l);if(i||i===0)r+=
i;return r+="\n",r}function b(e,t){return'\n		<i class="alert-status glyphicon warning-sign"></i>\n	'}function w(e,t){return'\n		<i class="alert-status glyphicon circle-exclamation-mark"></i>\n	'}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.blockHelperMissing,d=n.helperMissing,v=void 0,m=this.escapeExpression;s+='<a class="close-btn gray" href="#"><i class="glyphicon circle-remove"></i></a>\n\n',o="success",f=n.status,u=f||t.status,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},
l.fn=l,l.inverse=c.program(3,y,i),f&&typeof a===h?o=a.call(t,u,o,l):o=p.call(t,a,u,o,l);if(o||o===0)s+=o;return s+='\n\n<div class="alert-message">\n	',f=n.message,o=f||t.message,f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+"\n</div>\n",s})}),define("plex/view/alerts/Alert",["hb!templates/alerts/Alert.tpl","plex/model/AppModel","plex/view/BaseView"],function(e,t,n){var r=n.extend({className:"alert animated-slow scaleInOut",active:!1,pending:!1,
events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialize:function(e){_.isString(e.alert)?this.alert={message:e.alert}:this.alert=e.alert},render:function(){return this.$el.html(e(this.alert)),this.animateIn(),this},animateIn:function(){setTimeout(_.bind(function(){this.active?(this.pending=!0,this.$el.css("animation-play-state","paused")):this.animateOut()},this),2e3)},animateOut:function(){this.$el.css("animation-play-state","running"),setTimeout(
_.bind(function(){this.destroy()},this),1e3)},destroy:function(){n.prototype.destroy.call(this),t.set("alert",null)},onMouseEnter:function(e){this.active=!0},onMouseLeave:function(e){this.active=!1,this.pending&&this.animateOut()},onCloseClick:function(e){e.preventDefault(),this.$el.css("opacity",0),setTimeout(_.bind(function(){this.destroy()},this),500)}});return r}),define("hb!templates/header/HeaderView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r=""
,i,s;r+='\n	<ul class="nav iconbar">\n		<li>\n			<span class="search-container">\n				<form class="search-form">\n					<input type="text" class="input-dark input-search" placeholder="',i="Search",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+" ",a=n.searchPlaceholder,i=a||e.searchPlaceholder,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"searchPlaceholder",{hash:{}})),r+=d(i)+'" autocomplete="off" spellcheck="false" value="',a=n.search,i=
a||e.search,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"search",{hash:{}})),r+=d(i)+'">\n					<i class="glyphicon search"></i>\n					<a class="clear-search-btn gray ',a=n.search,i=a||e.search,s=n.unless,f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='" href="#"><i class="glyphicon circle-remove"></i></a>\n				</form>\n			</span>\n		</li>\n\n		<li>\n			<a class="navbar-glyphicon-btn" href="#!/settings" rel="tooltip" data-tooltip-position="fixed" title="'
,i="Settings",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n				<i class="glyphicon settings"></i>\n			</a>\n		</li>\n\n		',a=n.showUpdate,i=a||e.showUpdate,s=n["if"],f=l.program(4,g,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='\n\n		<li class="dropdown">\n			<a class="dropdown-toggle navbar-glyphicon-btn account-icon-btn" href="#account-dropdown-list" data-toggle="dropdown" rel="tooltip" data-tooltip-position="fixed" title="'
,i="Account",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n				<i class="glyphicon user"></i><i class="glyphicon-caret"></i>\n			</a>\n\n			<ul class="dropdown-menu dropdown-menu-large pull-right">\n				',a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.username,s=n["if"],f=l.program(6,y,t),f.hash={},f.fn=f,f.inverse=l.program(9,w,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n			</ul>\n		</li>\n	</ul>\n",r}function m(e,t){return"hide"
}function g(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="navbar-glyphicon-btn update-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Update",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon up-arrow"></i>\n				</a>\n			</li>\n		',r}function y(e,t){var r="",i,s,o;r+='\n					<li><a href="',a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.url,typeof i===c?i=i.call(e,{hash:{}}):
i===p&&(i=h.call(e,"myPlex.url",{hash:{}})),r+=d(i)+'users/edit" target="_blank"><i class="glyphicon user"></i> ',i=15,a=n.myPlex,s=a||e.myPlex,s=s===null||s===undefined||s===!1?s:s.username,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+'</a></li>\n					<li class="divider"></li>\n\n					<li><a href="#!/friends"><i class="glyphicon parents"></i> ',i="Friends",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call
(e,"t",i,{hash:{}}):i=s,r+=d(i)+' <span class="friend-requests-badge ',a=n.friendRequestsCount,i=a||e.friendRequestsCount,s=n.unless,f=l.program(7,b,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+='">',a=n.friendRequestsCount,i=a||e.friendRequestsCount,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"friendRequestsCount",{hash:{}})),r+=d(i)+'</span></a></li>\n					<li><a href="#!/playlist/recommendations"><i class="glyphicon share-alt"></i> ',i="Recommendations"
,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a></li>\n					<li><a href="#!/playlist/queue"><i class="glyphicon justify"></i> ',i="Queue",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a></li>\n\n					<li class="divider"></li>\n					<li><a class="signout-btn" href="#"><i class="glyphicon new-window"></i> ',i="Sign Out",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t"
,i,{hash:{}}):i=s,r+=d(i)+"</a></li>\n				",r}function b(e,t){return"hide"}function w(e,t){var r="",i,s;return r+='\n					<li><a class="signin-btn" href="#!/login"><i class="glyphicon user"></i> ',i="Sign In",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a></li>\n				",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.isAuthorized,o=a||t.isAuthorized,u=n["if"],f=l.program(1,v,i),f.hash=
{},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("text!templates/tooltips/LargeTooltip.tpl",[],function(){return'<div class="tooltip tooltip-large"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),define("hb!templates/header/BreadcrumbBarView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"hide"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression
;s+='<li class="back-icon ',a=n.showBack,o=a||t.showBack,u=n.unless,f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='">\n	<a class="navbar-glyphicon-btn back-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',o="Back",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'">\n		<i class="glyphicon left-arrow"></i>\n	</a>\n</li>\n\n<li>\n	<a class="navbar-glyphicon-btn" href="#!/dashboard" rel="tooltip" data-tooltip-position="fixed" title="'
,o="Home",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'">\n		<i class="glyphicon home"></i>\n	</a>\n</li>\n\n<li class="divider"></li>\n\n<li id="server-breadcrumb" class="breadcrumb-item">\n	<a class="breadcrumb-placeholder breadcrumb-btn" href="#">\n		<i class="glyphicon more"></i>\n	</a>\n</li>\n\n<li class="divider"></li>\n\n<li id="section-breadcrumb" class="breadcrumb-item">\n	<a class="breadcrumb-placeholder breadcrumb-btn" href="#">\n		<i class="glyphicon more"></i>\n	</a>\n</li>\n'
,s})}),define("hb!templates/lists/header/ServerDropdownList.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+='\n	<a class="breadcrumb-btn split-left server-name" href="#!/servers/',a=n.activeServer,i=a||e.activeServer,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"activeServer.machineIdentifier",{hash:{}})),r+=d(i)+'">\n		',a=n.activeServer,i=a||e.activeServer,i=i===null||i===undefined||
i===!1?i:i.friendlyName,s=n["if"],f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.program(4,g,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+='\n	</a>\n\n	<a class="breadcrumb-btn split-right dropdown-toggle" href="#server-dropdown-list" data-toggle="dropdown"><i class="glyphicon-caret"></i></a>\n\n	<ul class="dropdown-menu dropdown-menu-large"></ul>\n',r}function m(e,t){var r="",i,s,o;return r+="\n			",i=15,a=n.activeServer,s=a||e.activeServer,s=s===null||s===undefined||s===!1?s:s.friendlyName,a=n
.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n		",r}function g(e,t){var r="",i,s,o;return r+="\n			",i=15,a=n.activeServer,s=a||e.activeServer,s=s===null||s===undefined||s===!1?s:s.name,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n		",r}function y(e,t){var r="",i,s;r+='\n	<a class="breadcrumb-btn server-name" href="#!/servers/',a=n.activeServer
,i=a||e.activeServer,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"activeServer.machineIdentifier",{hash:{}})),r+=d(i)+'">\n		',a=n.activeServer,i=a||e.activeServer,i=i===null||i===undefined||i===!1?i:i.friendlyName,s=n["if"],f=l.program(7,b,t),f.hash={},f.fn=f,f.inverse=l.program(9,w,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	</a>\n",r}function b(e,t){var r="",i,s,o;return r+="\n			",i=15,a=n.activeServer,s=a||e.activeServer
,s=s===null||s===undefined||s===!1?s:s.friendlyName,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n		",r}function w(e,t){var r="",i,s,o;return r+="\n			",i=15,a=n.activeServer,s=a||e.activeServer,s=s===null||s===undefined||s===!1?s:s.name,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n		",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function"
,h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.showDropdown,o=a||t.showDropdown,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(6,y,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/lists/BaseList",["plex/view/BaseView"],function(e){var t=e.extend({items:null,populated:!1,setup:function(e,t){this.items={},this.ListItem=e,this.selector=t,this.collection&&(this.addBinding(this.collection,"reset",this.reset),this.addBinding(this.collection,"add",this
.addItem),this.addBinding(this.collection,"remove",this.removeItem))},populate:function(){this.populated=!!this.collection.length,this.populated&&this.reset(this.collection)},reset:function(e){this.populated=!!e.length,this.removeAllViews(),this.items={},e.each(this.addItem,this),_.defer(_.bind(function(){this.trigger("complete")},this))},rebase:function(e){this.collection&&(this.removeBinding(this.collection,"reset",this.reset),this.removeBinding(this.collection,"add",this.addItem),this.removeBinding
(this.collection,"remove",this.removeItem)),this.collection=e,this.addBinding(e,"reset",this.reset),this.addBinding(e,"add",this.addItem),this.addBinding(e,"remove",this.removeItem),this.reset(e)},addItem:function(e,t,n){var r,i=new this.ListItem({model:e,list:this}),s=n&&typeof n.at!="undefined";this.registerView(i),this.items[e.id]=i,this.selector?r=this.$(this.selector):r=this.$el;var o=i.render().el;if(s){var u=r.children().eq(n.at);u.length?u.before(o):r.append(o)}else this.reverseItems?r.prepend
(o):r.append(o);return i},removeItem:function(e,t,n){this.removeView(this.items[e.id]),delete this.items[e.id]}});return t}),define("hb!templates/lists/header/items/ServerDropdownListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i;return r+="\n		",a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.friendlyName,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.friendlyName",{hash:{}})),r+=d(i)+"\n	",r}function m(e,t){var r=""
,i;return r+="\n		",a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.name,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.name",{hash:{}})),r+=d(i)+"\n	",r}function g(e,t){return' <i class="glyphicon ok-2"></i>'}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a href="#!/servers/',a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.machineIdentifier,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call
(t,"server.machineIdentifier",{hash:{}})),s+=d(o)+'">\n	',a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.friendlyName,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(3,m,i),o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n	",a=n.active,o=a||t.active,u=n["if"],f=l.program(5,g,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n</a>\n",s})}),define("plex/view/lists/header/items/ServerDropdownListItem",["hb!templates/lists/header/items/ServerDropdownListItem.tpl"
,"plex/model/HeaderModel","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",initialize:function(){this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({server:this.model.toJSON(),active:this.model.id===t.get("activeServer").id})),this}});return r}),define("plex/view/lists/header/ServerDropdownList",["hb!templates/lists/header/ServerDropdownList.tpl","plex/model/HeaderModel","plex/view/lists/BaseList","plex/view/lists/header/items/ServerDropdownListItem"
],function(e,t,n,r){var i=n.extend({id:"server-dropdown-list",tagName:"div",className:"breadcrumb-content dropdown",activeServer:null,initialize:function(){this.setup(r,".dropdown-menu")},render:function(){this.activeServer&&(this.removeBinding(this.activeServer,"change:name",this.render),this.removeBinding(this.activeServer,"change:friendlyName",this.render)),this.activeServer=t.get("activeServer"),this.activeServer&&(this.addBinding(this.activeServer,"change:name",this.render),this.addBinding(this
.activeServer,"change:friendlyName",this.render));var n=this.collection.filter(function(e){return e.get("isAvailable")}),r={showDropdown:n.length>1,activeServer:this.activeServer.toJSON()};return this.$el.html(e(r)),this.populate(this.collection),this},addItem:function(e,t,r){e.get("isAvailable")?n.prototype.addItem.apply(this,arguments):this.addBinding(e,"change:isAvailable",this.onServerAvailableChange)},onServerAvailableChange:function(e,t){this.render()}});return i}),define("hb!templates/lists/header/SectionDropdownList.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s,o;r+='\n	<a class="breadcrumb-btn split-left" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/sections/",a=n.activeSection,i=a||e.activeSection,i=i===null||i===undefined||i===!1?i:i.key,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"activeSection.key",{hash:{}})),r+=d(i)+'">\n		',a=n.activeSection,i=a||e.activeSection
,i=i===null||i===undefined||i===!1?i:i.refreshing,s=n["if"],f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.program(4,g,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n\n		",i=15,a=n.activeSection,s=a||e.activeSection,s=s===null||s===undefined||s===!1?s:s.title,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+'\n	</a>\n	<a class="breadcrumb-btn split-right dropdown-toggle" href="#section-dropdown-list" data-toggle="dropdown"><i class="glyphicon-caret"></i></a>\n\n	<ul class="dropdown-menu dropdown-menu-large"></ul>\n'
,r}function m(e,t){return'\n			<div class="spinner-container"></div>\n		'}function g(e,t){var r="",i;return r+='\n			<i class="plex-icon-section-mini plex-icon-',a=n.activeSection,i=a||e.activeSection,i=i===null||i===undefined||i===!1?i:i.type,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"activeSection.type",{hash:{}})),r+=d(i)+'-mini"></i>\n		',r}function y(e,t){var r="",i,s,o;r+='\n	<a class="breadcrumb-btn" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:
{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/sections/",a=n.activeSection,i=a||e.activeSection,i=i===null||i===undefined||i===!1?i:i.key,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"activeSection.key",{hash:{}})),r+=d(i)+'">\n		',a=n.activeSection,i=a||e.activeSection,i=i===null||i===undefined||i===!1?i:i.refreshing,s=n["if"],f=l.program(7,b,t),f.hash={},f.fn=f,f.inverse=l.program(9,w,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n\n		",i=15,a=n.activeSection,s=a||e.activeSection
,s=s===null||s===undefined||s===!1?s:s.title,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n	</a>\n",r}function b(e,t){return'\n			<div class="spinner-container"></div>\n		'}function w(e,t){var r="",i;return r+='\n			<i class="plex-icon-section-mini plex-icon-',a=n.activeSection,i=a||e.activeSection,i=i===null||i===undefined||i===!1?i:i.type,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"activeSection.type",{hash
:{}})),r+=d(i)+'-mini"></i>\n		',r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.showDropdown,o=a||t.showDropdown,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(6,y,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("hb!templates/lists/header/items/SectionDropdownListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return'\n		<div class="spinner-container"></div>\n	'
}function m(e,t){var r="",i;return r+='\n		<i class="plex-icon-section-mini plex-icon-',a=n.section,i=a||e.section,i=i===null||i===undefined||i===!1?i:i.type,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"section.type",{hash:{}})),r+=d(i)+'-mini plex-icon-dark"></i>\n	',r}function g(e,t){return' <i class="glyphicon ok-2"></i>'}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a href="#!/servers/',a=n.serverID,o=a||t.serverID,typeof 
o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"serverID",{hash:{}})),s+=d(o)+"/sections/",a=n.section,o=a||t.section,o=o===null||o===undefined||o===!1?o:o.key,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"section.key",{hash:{}})),s+=d(o)+'">\n	',a=n.section,o=a||t.section,o=o===null||o===undefined||o===!1?o:o.refreshing,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(3,m,i),o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n	&nbsp;",a=n.section,o=a||t.section,o=o===null||o===undefined||
o===!1?o:o.title,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"section.title",{hash:{}})),s+=d(o)+"\n\n	",a=n.active,o=a||t.active,u=n["if"],f=l.program(5,g,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n</a>\n",s})}),define("plex/view/lists/header/items/SectionDropdownListItem",["hb!templates/lists/header/items/SectionDropdownListItem.tpl","plex/model/HeaderModel","plex/view/BaseView","jquery","spin"],function(e,t,n,r){var i=n.extend({tagName:"li",spinner
:null,spinnerContainer:null,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},initialize:function(){var e={lines:9,radius:2,width:2,length:3,zIndex:1,left:0,top:0};this.darkSpinner=new Spinner(_.extend({color:"#333"},e)),this.lightSpinner=new Spinner(_.extend({color:"#fff"},e)),this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({serverID:this.model.server.id,section:this.model.toJSON(),active:this.model.id===t.get("activeSection").id})),this.model
.get("refreshing")?(this.spinnerContainer=this.$(".spinner-container")[0],this.darkSpinner.spin(this.spinnerContainer)):this.spinnerContainer=null,this},onMouseEnter:function(e){var t=r(e.target).find("i");t.length?t.removeClass("plex-icon-dark"):r(e.target).closest("i").removeClass("plex-icon-dark"),this.spinnerContainer&&(this.darkSpinner.stop(),this.lightSpinner.spin(this.spinnerContainer))},onMouseLeave:function(e){var t=r(e.target).find("i");t.length?t.addClass("plex-icon-dark"):r(e.target).
closest("i").addClass("plex-icon-dark"),this.spinnerContainer&&(this.lightSpinner.stop(),this.darkSpinner.spin(this.spinnerContainer))}});return i}),define("plex/view/lists/header/SectionDropdownList",["hb!templates/lists/header/SectionDropdownList.tpl","plex/model/HeaderModel","plex/view/lists/BaseList","plex/view/lists/header/items/SectionDropdownListItem","spin"],function(e,t,n,r){var i=n.extend({id:"section-dropdown-list",tagName:"div",className:"breadcrumb-content dropdown",activeServer:null
,activeSection:null,spinner:null,initialize:function(){this.spinner=new Spinner({color:"#fff",lines:9,radius:2,width:2,length:3,zIndex:1,left:0,top:0}),this.setup(r,".dropdown-menu")},render:function(n){this.activeSection&&(this.removeBinding(this.activeSection,"change:title",this.onChange),this.removeBinding(this.activeSection,"change:refreshing",this.onChange)),this.activeServer=t.get("activeServer"),this.activeSection=t.get("activeSection"),this.addBinding(this.activeSection,"change:title",this
.onChange),this.addBinding(this.activeSection,"change:refreshing",this.onChange);var r={serverID:this.activeServer.id,showDropdown:this.collection.length>1,activeSection:this.activeSection.toJSON()};return this.$el.html(e(r)),this.activeSection.get("refreshing")&&this.spinner.spin(this.$(".spinner-container")[0]),n||this.populate(this.collection),this},reset:function(e){this.render(!0),n.prototype.reset.call(this,e)},onChange:function(){this.render()}});return i}),define("plex/view/header/BreadcrumbBarView"
,["hb!templates/header/BreadcrumbBarView.tpl","text!templates/tooltips/LargeTooltip.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView","plex/view/lists/header/ServerDropdownList","plex/view/lists/header/SectionDropdownList","jquery"],function(e,t,n,r,i,s,o,u){var a=i.extend({tagName:"ul",className:"breadcrumbbar nav",animationDuration:300,events:{"click .back-icon-btn":"onBackClick","click .breadcrumb-placeholder":"onPlaceholderClick","mouseenter .breadcrumb-item.collapsed"
:"onCollapsedBreadcrumbMouseOver"},initialize:function(){this.addBinding(n,"change:language",this.onLanguageChange),this.resizeThrottle=_.throttle(_.bind(this.resize,this),this.animationDuration),u(window).on("resize",this.resizeThrottle)},render:function(){return this.$el.html(e({showBack:this.model.get("showBack")})),this.$el.tooltip({selector:".navbar-glyphicon-btn",placement:"bottom",template:t}),this.bindView(),this.delegateEvents(),this},resize:function(){var e=this.$el.parent(),t=e.width()-
e.find(".iconbar").innerWidth();if(!t)return;if(this.$(".breadcrumb-item.animating").length){_.delay(_.bind(this.resize,this),this.animationDuration);return}var n=this.$(".breadcrumb-item").get(),r=this.$(".breadcrumb-item.collapsed,.breadcrumb-item.expanded,.breadcrumb-item.animating").get(),i=this.$el.outerWidth(),s=this.getMaxWidth(i,r),o=s>t;o||n.reverse();for(var a=0,f=n.length;a<f;a++){var l=u(n[a]),c=l.hasClass("collapsed"),h=l.find(".breadcrumb-content").outerWidth(),p=l.find(".breadcrumb-placeholder"
).outerWidth(),d=h-p;if(o){if(!!c)continue;r.push(l[0]),this.collapse(l),i-=d;if(this.getMaxWidth(i,r)<t)break}else{if(!c)continue;r.splice(_.indexOf(r,l[0]),1);if(!(this.getMaxWidth(i+d,r)<t))break;this.expand(l),i+=d}}},getMaxWidth:function(e,t){var n=0;for(var r=0,i=t.length;r<i;r++){var s=u(t[r]),o=s.find(".breadcrumb-content").outerWidth(),a=s.find(".breadcrumb-placeholder").outerWidth(),f=o-a;f>n&&(n=f)}return e+n},collapse:function(e){var t=e.find(".breadcrumb-content").outerWidth(),n=e.find
(".breadcrumb-placeholder").outerWidth(),r=_.bind(function(){e.removeClass("animating"),e.addClass("collapsed")},this);e.addClass("animating"),e.removeClass("collapsed"),e.removeClass("expanded"),e.find(".dropdown").removeClass("open"),e.stop().animate({width:n},this.animationDuration,r)},expand:function(e,t){var n=e.find(".breadcrumb-content").outerWidth(),r=e.find(".breadcrumb-placeholder").outerWidth(),i=_.bind(function(){e.removeClass("animating"),t&&e.addClass("expanded")},this);e.addClass("animating"
),e.removeClass("expanded"),e.removeClass("collapsed"),e.stop().animate({width:n},this.animationDuration,i)},bindings:{".back-icon":{modelAttr:"showBack",format:function(e,t){t?e.removeClass("hide"):e.addClass("hide")}},"#server-breadcrumb":{modelAttr:"activeServer",format:function(e,t){this.serverList&&this.removeView(this.serverList),t?(this.serverList=this.registerView(new s({collection:r.get("servers")})),e.append(this.serverList.render().el),e.css("width","auto"),e.removeClass("hide"),e.prev
().removeClass("hide")):(e.removeClass("expanded collapsed animating"),e.addClass("hide"),e.prev().addClass("hide")),this.resizeThrottle()}},"#section-breadcrumb":{modelAttr:"activeSection",format:function(e,t){var n=this.model.get("activeServer");this.sectionList&&this.removeView(this.sectionList),t?(this.sectionList=this.registerView(new o({collection:n.get("sections")})),e.append(this.sectionList.render().el),e.css("width","auto"),e.removeClass("hide"),e.prev().removeClass("hide")):(e.removeClass
("expanded collapsed animating"),e.addClass("hide"),e.prev().addClass("hide")),this.resizeThrottle()}},".media-breadcrumb":{modelAttr:"activeMedia",format:function(e,t){var n=this.model.get("activeServer"),r=this.model.get("activeSection");e.each(function(){var e=u(this),t=e.prev();e.remove(),t.remove()});if(t){var i=u(Handlebars.partials.breadcrumbMediaItem({server:n.toJSON(),section:r.toJSON(),media:t.toJSON()},this));this.$("#section-breadcrumb").after(i)}this.resizeThrottle()}},"#channel-breadcrumb"
:{modelAttr:"activeChannel",format:function(e,t){var n=this.model.get("activeServer"),r=this.model.get("activeSection");e.each(function(){var e=u(this),t=e.prev();e.remove(),t.remove()});if(t){var i=u(Handlebars.partials.breadcrumbMediaItem({server:n.toJSON(),channel:t.toJSON()},this));this.$("#section-breadcrumb").after(i)}this.resizeThrottle()}},".channel-media-breadcrumb":{modelAttr:"activeChannelMedia",format:function(e,t){var n=this.model.get("activeServer"),r=this.model.get("activeSection")
;e.each(function(){var e=u(this),t=e.prev();e.remove(),t.remove()});if(t){var i=u(Handlebars.partials.breadcrumbMediaItem({server:n.toJSON(),channelKey:t.channel.id,channelID:t.channel.get("identifier"),channelMedia:t.toJSON()},this));this.$("#channel-breadcrumb").after(i)}this.resizeThrottle()}}},onLanguageChange:function(){this.removeAllViews(),this.render()},onBackClick:function(e){e.preventDefault(),n.trigger("navigate:back")},onPlaceholderClick:function(e){e.preventDefault(),this.$(".breadcrumb-item.animating, .breadcrumb-item.expanded"
).each(_.bind(function(e,t){this.collapse(u(t))},this)),this.expand(u(e.currentTarget).closest(".breadcrumb-item"),!0)},onCollapsedBreadcrumbMouseOver:function(e){this.$(".breadcrumb-item.animating, .breadcrumb-item.expanded").each(_.bind(function(e,t){this.collapse(u(t))},this)),this.expand(u(e.currentTarget),!0)},onCollapsedBreadcrumbMouseOut:function(e){this.collapse(u(e.currentTarget))}});return a}),define("plex/view/header/HeaderView",["hb!templates/header/HeaderView.tpl","text!templates/tooltips/LargeTooltip.tpl"
,"plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/control/utils/StringUtil","plex/model/AppModel","plex/model/HeaderModel","plex/view/BaseView","plex/view/header/BreadcrumbBarView","jquery"],function(e,t,n,r,i,s,o,u,a,f){var l=u.extend({className:"navbar navbar-fixed-top",searchTimeout:null,events:{"focus .input-search":"onSearchFocus","blur .input-search":"onSearchBlur","keyup .input-search":"onSearchKeyUp","submit .search-form":"onSearchSubmit","click .clear-search-btn":"onClearSearchClick"
,"click .update-btn":"onUpdateClick","click .account-icon-btn":"onAccountClick","click .signout-btn":"onSignOutClick"},initialize:function(){var e=s.get("friendRequests");this.addBinding(n,"change:language",this.onChange),this.addBinding(s,"change:isAuthorized",this.onChange),this.addBinding(s,"change:updateStatus",this.onChange),this.addBinding(s.get("myPlex"),"change:username",this.onChange),this.addBinding(o,"change:activeSection",this.onSectionChange),this.addBinding(o,"change:activeMedia",this
.onSectionChange),this.addBinding(o,"change:activeChannel",this.onSectionChange),this.addBinding(n,"reset:filter",this.onSearchReset),this.addBinding(e,"reset",this.onFriendRequestsReset),this.breadcrumbBar=new a({model:o})},render:function(){var n=o.get("activeSection"),r=o.get("activeMedia"),u=o.get("activeChannel"),a=s.get("updateStatus");this.inSection=n&&!r&&!u;var f={search:o.get("activeSearch"),searchPlaceholder:this.inSection?i.truncate(n.get("title"),10):"",isAuthorized:s.get("isAuthorized"
),showUpdate:a==="download"||a==="reload",myPlex:s.get("myPlex").toJSON(),friendRequestsCount:s.get("friendRequests").length};this.inSection&&(f.search=n.get("media").search),this.$el.html(e(f)),this.$el.prepend(this.breadcrumbBar.render().el),this.$el.tooltip({selector:".navbar-glyphicon-btn",placement:"bottom",template:t});if(f.search&&!this.inSection){var l=this.$(".input-search");l.focus(),l.val(""),l.val(f.search)}return this},searchAll:function(){var e=this.$(".input-search").val();e.length>2&&
n.trigger("navigate:search",e)},searchSection:function(){var e=this.$(".input-search").val(),t=o.get("activeSection").get("media");t.search!==e&&(n.trigger("navigate:section",o.get("activeServer").id,o.get("activeSection").id),n.trigger("search:section",e))},onChange:function(){this.removeAllViews(),this.render()},onSectionChange:function(){var e=o.get("activeSection"),t=o.get("activeMedia"),n=o.get("activeChannel"),s=r.t("Search");this.inSection=e&&!t&&!n,this.inSection&&(s+=" "+i.truncate(e.get
("title"),10)),this.$(".input-search").attr("placeholder",s)},onSearchReset:function(){this.$(".input-search").val(""),this.$(".clear-search-btn").addClass("hide")},onFriendRequestsReset:function(e){e.length?this.$(".friend-requests-badge").removeClass("hide").text(e.length):this.$(".friend-requests-badge").addClass("hide")},onSearchFocus:function(e){this.$(".search-container").addClass("selected")},onSearchBlur:function(e){this.$(".search-container").removeClass("selected")},onSearchKeyUp:function(
e){if(e.which===13)return;this.$(e.target).val().length===0?this.$(".clear-search-btn").addClass("hide"):this.$(".clear-search-btn").removeClass("hide"),this.inSection&&(this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(_.bind(this.searchSection,this),500))},onSearchSubmit:function(e){e.preventDefault(),this.inSection?(this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchSection()):this.searchAll()},onClearSearchClick:function(e){e.preventDefault();var t=
this.$(".input-search");this.$(".clear-search-btn").addClass("hide"),t.focus(),t.val("");if(this.inSection){var r=o.get("activeSection").get("media");r.search!==""&&(n.trigger("navigate:section",o.get("activeServer").id,o.get("activeSection").id),n.trigger("search:section",""))}},onUpdateClick:function(e){e.preventDefault(),s.get("updateStatus")==="download"?n.trigger("command:InstallUpdate"):window.location.reload(!0)},onAccountClick:function(e){f(".tooltip").remove()},onSignOutClick:function(e)
{e.preventDefault(),n.trigger("command:SignOut")}});return l}),define("hb!templates/StatusView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<a class="timeline-btn gray" href="#" rel="tooltip" data-tooltip-position="fixed" title="',o="Timeline",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'"><i class="glyphicon calendar"></i></a>\n\n<span class="status"></span>\n'
,s})}),define("plex/view/StatusView",["hb!templates/StatusView.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({className:"statusbar hidden",statusTimeout:null,active:!1,events:{mouseover:"onMouseOver",mouseout:"onMouseOut","click .timeline-btn":"onTimelineClick"},initialize:function(){_.bindAll(this,"hide"),this.addBinding(t,"show:status",this.onShowStatus)},render:function(){return this.$el.html(e()),this.$el.tooltip({selector:".gray",placement:"top"}),this},
hide:function(){this.active?this.statusTimeout=setTimeout(this.hide,1e3):this.$el.addClass("hidden")},onShowStatus:function(e,t){this.server=e,this.$(".status").text(t),this.$el.removeClass("hidden"),this.statusTimeout&&clearTimeout(this.statusTimeout),this.statusTimeout=setTimeout(this.hide,5e3)},onMouseOver:function(e){this.active=!0},onMouseOut:function(e){this.active=!1},onTimelineClick:function(e){e.preventDefault(),t.trigger("navigate:serverTimeline",this.server.id)}});return r}),define("plex/model/PlayerModel"
,["backbone"],function(){var e=Backbone.Model.extend({defaults:{currentTime:0,duration:0,formattedTime:"0:00",formattedDuration:"0:00",volume:0,paused:!0,ended:!1,buffering:!1,startBuffer:0,endBuffer:0,fullscreen:!1},reset:function(){this.set(this.defaults)},secondsToHms:function(e){if(!e)return"0:00";e=Number(e);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(t>0?t+":":"")+(n>0?(t>0&&n<10?"0":"")+n+":":"0:")+(r<10?"0":"")+r}});return e}),define("hb!templates/players/core/ControlsView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"player-pause-button"}function m(e,t){return"music"}function g(e,t){return"film"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a class="player-play-pause-button ',a=n.paused,o=a||t.paused,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='" href="#"></a>\n\n<span class="now-playing">\n	<span class="now-playing-label">\n		<i class="glyphicon '
,a=n.showMusicIcon,o=a||t.showMusicIcon,u=n["if"],f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.program(5,g,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+='"></i> Now Playing\n	</span>\n	<span class="now-playing-title"><a>',a=n.title,o=a||t.title,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"title",{hash:{}})),s+=d(o)+'</a></span>\n</span>\n\n<a class="player-fullscreen-button" href="#"></a>\n\n<div class="player-time"><span class="player-current-time">',a=n.formattedTime,o=a||t.formattedTime
,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"formattedTime",{hash:{}})),s+=d(o)+'</span> / <span class="player-duration">',a=n.formattedDuration,o=a||t.formattedDuration,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"formattedDuration",{hash:{}})),s+=d(o)+"</span></div>\n",s})}),define("hb!templates/players/core/SeekBarView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<div class="player-slider-thumb player-progress-thumb"></div>\n<div class="player-slider-bar player-progress-bar"></div>\n<div class="player-buffer-bar"></div>'
})}),define("plex/view/players/core/SeekBarView",["hb!templates/players/core/SeekBarView.tpl","plex/view/BaseView","jquery"],function(e,t,n){var r=t.extend({className:"player-slider-track player-seek-bar",events:{mousedown:"onSeekBarMouseDown"},initialize:function(e){_.bindAll(this,"onSeekBarMouseMove","onSeekBarMouseUp"),this.model.bind("change:currentTime",this.onCurrentTimeChange,this),this.model.bind("change:startBuffer",this.onBufferChange,this),this.model.bind("change:endBuffer",this.onBufferChange
,this)},render:function(){return this.$el.html(e()),this.onCurrentTimeChange(),this.onBufferChange(),this},seek:function(e){var t=e-this.$el.offset().left,n=t/this.$el.width();n>1&&(n=1);var r=n*this.model.get("duration");this.trigger("seek",r)},onSeekBarMouseDown:function(e){e.preventDefault(),n(document).on("mousemove",this.onSeekBarMouseMove),n(document).on("mouseup",this.onSeekBarMouseUp),this.seek(e.pageX)},onSeekBarMouseMove:function(e){e.preventDefault(),this.seek(e.pageX)},onSeekBarMouseUp
:function(e){e.preventDefault(),n(document).off("mousemove",this.onSeekBarMouseMove),n(document).off("mouseup",this.onSeekBarMouseUp),this.seek(e.pageX)},onCurrentTimeChange:function(){var e=this.$(".player-progress-thumb"),t=this.$(".player-progress-bar"),n=this.$el.width(),r=e.width()/2,i=this.model.get("currentTime")/this.model.get("duration"),s=i*n;s<r?s=r:s+r>n&&(s=n-r),e.css("left",s-r),t.css("width",s)},onBufferChange:function(){var e=this.$(".player-buffer-bar"),t=this.$el.width(),n=this.
model.get("duration"),r=this.model.get("startBuffer")/n,i=this.model.get("endBuffer")/n,s=r*t,o=i*t-s;_.isNaN(s)&&(s=0),_.isNaN(o)&&(o=0),e.css("left",s),e.css("width",o)}});return r}),define("hb!templates/players/core/SliderView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<a class="player-slider-button" href="#"></a>\n<div class="player-slider-track">\n	<div class="player-slider-thumb"></div>\n	<div class="player-slider-bar"></div>\n</div>\n'
})}),define("plex/view/players/core/SliderView",["hb!templates/players/core/SliderView.tpl","plex/view/BaseView","jquery"],function(e,t,n){var r=t.extend({currentValue:0,dragging:!1,events:{"click .player-slider-button":"onButtonClick","mousedown .player-slider-track":"onSliderMouseDown"},initialize:function(){_.bindAll(this,"onSliderMouseMove","onSliderMouseUp")},render:function(){return this.$el.html(e()),this},calculateValue:function(e){var t=this.$(".player-slider-track"),n=e-t.offset().left,
r=n/t.width();r>1?r=1:r<0&&(r=0),this.currentValue=r,this.trigger("change:value",r)},setValue:function(e){this.currentValue=e;var t=this.$(".player-slider-track"),n=this.$(".player-slider-thumb"),r=this.$(".player-slider-bar"),i=t.width(),s=n.width()/2,o=e*i;o<s?o=s:o+s>i&&(o=i-s),n.css("left",o-s),r.width(o)},onButtonClick:function(e){e.preventDefault(),this.trigger("click:button")},onSliderMouseDown:function(e){e.preventDefault(),n(document).on("mousemove",this.onSliderMouseMove),n(document).on
("mouseup",this.onSliderMouseUp),this.dragging=!0,this.$el.addClass("player-active-slider"),this.calculateValue(e.pageX)},onSliderMouseMove:function(e){e.preventDefault(),this.calculateValue(e.pageX)},onSliderMouseUp:function(e){e.preventDefault(),n(document).off("mousemove",this.onVolumeSliderMouseMove),n(document).off("mouseup",this.onVolumeSliderMouseUp),this.dragging=!1,this.$el.removeClass("player-active-slider"),this.calculateValue(e.pageX),this.trigger("release")}});return r}),define("plex/view/players/core/ControlsView"
,["hb!templates/players/core/ControlsView.tpl","plex/view/BaseView","plex/view/players/core/SeekBarView","plex/view/players/core/SliderView"],function(e,t,n,r){var i=t.extend({className:"player-controls",seekBar:null,volumeSlider:null,muted:!1,mutedVolume:0,overlay:!1,hideVolume:!1,hideFullscreen:!1,hideNowPlaying:!1,hideControlsTimeout:null,events:{"click .player-play-pause-button":"onPlayPauseClick","click .player-fullscreen-button":"onFullscreenButtonClick"},initialize:function(e){this.overlay=
e.overlay,this.hideVolume=e.hideVolume,this.hideFullscreen=e.hideFullscreen,this.hideNowPlaying=e.hideNowPlaying,_.bindAll(this,"show","hide"),this.seekBar=this.registerView(new n({model:this.model})),this.volumeSlider=this.registerView(new r({className:"player-volume"})),this.addBinding(this.model,"change:paused",this.onPausedChange),this.addBinding(this.model,"change:formattedTime",this.onCurrentTimeChange),this.addBinding(this.model,"change:formattedDuration",this.onDurationChange),this.addBinding
(this.model,"change:volume",this.onVolumeChange),this.addBinding(this.model,"change:fullscreen",this.onFullscreenChange),this.addBinding(this.seekBar,"seek",this.onSeek),this.addBinding(this.volumeSlider,"click:button",this.onVolumeSliderButtonClick),this.addBinding(this.volumeSlider,"change:value",this.onVolumeSliderValueChange)},render:function(){return this.$el.html(e(this.model.toJSON())),this.$el.prepend(this.seekBar.render().el),this.$(".player-fullscreen-button").after(this.volumeSlider.render
().el),this.onVolumeChange(),this.overlay===!0&&this.$el.addClass("player-controls-overlay"),this.hideVolume===!0&&this.$(".player-volume").hide(),this.hideFullscreen===!0&&this.$(".player-fullscreen-button").hide(),this.hideNowPlaying===!0&&this.$(".now-playing").hide(),this},show:function(){if(this.overlay===!0||this.model.get("fullscreen")===!0)clearTimeout(this.hideControlsTimeout),this.hideControlsTimeout=setTimeout(this.hide,3e3);this.$el.removeClass("player-controls-collapsed")},hide:function(
){this.$el.addClass("player-controls-collapsed")},onPlayPauseClick:function(e){e.preventDefault(),this.trigger("playPause")},onFullscreenButtonClick:function(e){e.preventDefault();var t=this.model.get("fullscreen");t===!0?(this.overlay===!1&&this.$el.removeClass("player-controls-overlay"),this.trigger("exitFullscreen")):(this.$el.addClass("player-controls-overlay"),this.trigger("enterFullscreen"))},onFullscreenChange:function(){if(this.overlay===!1){var e=this.model.get("fullscreen");e===!0?this.
$el.addClass("player-controls-overlay"):(clearTimeout(this.hideControlsTimeout),this.$el.removeClass("player-controls-overlay"))}this.seekBar.render(),this.trigger("sync")},onPausedChange:function(){var e=this.model.get("paused");e?this.$(".player-play-pause-button").removeClass("player-pause-button"):this.$(".player-play-pause-button").addClass("player-pause-button")},onCurrentTimeChange:function(){this.$(".player-current-time").html(this.model.get("formattedTime"))},onDurationChange:function(){
this.$(".player-duration").html(this.model.get("formattedDuration"))},onVolumeChange:function(){var e=this.$(".player-volume .player-slider-button"),t=this.model.get("volume");this.volumeSlider.setValue(t),t>.5?(this.muted=!1,e.removeClass("player-volume-button-low"),e.removeClass("player-volume-button-off")):t<.5&&t>0?(this.muted=!1,e.addClass("player-volume-button-low"),e.removeClass("player-volume-button-off")):(this.muted=!0,e.addClass("player-volume-button-off"),e.removeClass("player-volume-button-low"
))},onSeek:function(e){this.trigger("seek",e)},onVolumeSliderButtonClick:function(){this.muted===!0?(this.mutedVolume>0?this.trigger("change:volume",this.mutedVolume):this.trigger("change:volume",1),this.muted=!1,this.mutedVolume=0):(this.muted=!0,this.mutedVolume=this.model.get("volume"),this.trigger("change:volume",0))},onVolumeSliderValueChange:function(e){this.trigger("change:volume",e)}});return i}),define("plex/view/players/MusicPlayerView",["plex/control/Dispatcher","plex/control/utils/TranscodeUtil"
,"plex/model/PlayerModel","plex/view/BaseView","plex/view/players/core/ControlsView","soundmanager"],function(e,t,n,r,i){var s=r.extend({className:"music-player animated slideDown",playerModel:null,controls:null,transcoded:!1,loaded:!1,sound:null,volume:1,nextTrack:null,initialize:function(){_.bindAll(this,"onPlay","whileLoading","whitePlaying","onLoad","onFinish"),this.playerModel=new n({showMusicIcon:!0}),this.controls=this.registerView(new i({model:this.playerModel,hidePlaybackRate:!0,hideFullscreen
:!0})),this.addBinding(this.controls,"playPause",this.onControlsPlayPause),this.addBinding(this.controls,"seek",this.onControlsSeek),this.addBinding(this.controls,"change:volume",this.onControlsVolumeChange)},render:function(){return this.$el.empty(),this.$el.append(this.controls.render().el),this},play:function(){var e=this.model.get("Media"),n,r;e?(this.transcoded=!/^(mp3|aac)$/.test(e.audioCodec),this.transcoded?(n=t.music(this.model),this.playerModel.set({endBuffer:0,duration:e.duration/1e3,formattedDuration
:this.playerModel.secondsToHms(e.duration/1e3)})):n=this.model.getDownloadUrl()):n=this.model.server.resolveUrl(this.model.get("key"));if(this.model.section)r="#!/servers/"+this.model.server.id+"/sections/"+this.model.section.id+"/details/"+this.model.media.id;else{var i=this.model.media.channel?this.model.media.channel:this.model.media,s=this.model.media.channel;r="#!/servers/"+this.model.server.id+"/channels?",i.id?r+="key="+encodeURIComponent(i.id):r+="identifier="+i.get("identifier"),s&&(r+="&path="+
encodeURIComponent(this.model.media.id))}this.$(".now-playing-title > a").attr("href",r).text(this.model.get("title")),this.findNextTrack(),this.playerModel.reset(),this.sound&&this.sound.destruct(),this.loaded=!1;var o=_.bind(function(){this.sound=soundManager.createSound({id:"track_"+this.model.id,url:n,autoLoad:!0,autoPlay:!0,volume:this.volume*100,onplay:this.onPlay,onload:this.onLoad,whileloading:this.whileLoading,whileplaying:this.whitePlaying,onfinish:this.onFinish})},this);soundManager.preferFlash&&!
soundManager.swfLoaded?(soundManager.preferFlash=!1,soundManager.onready(o),soundManager.reboot()):o()},findNextTrack:function(){var e=this.collection.get(this.model.id),t=this.collection.indexOf(e);t+1<this.collection.length?this.nextTrack=this.collection.at(t+1):this.nextTrack=null},hide:function(){setTimeout(_.bind(function(){this.$el.animate({top:0},800,_.bind(function(){this.destroy()},this))},this),200)},onControlsPlayPause:function(){if(this.sound){var e=this.playerModel.get("paused");this
.sound.togglePause(),this.playerModel.set("paused",!e)}},onControlsSeek:function(e){this.sound&&(!this.transcoded||this.loaded)&&(this.sound.setPosition(e*1e3),this.playerModel.set({currentTime:e,formattedTime:this.playerModel.secondsToHms(e)}))},onControlsVolumeChange:function(e){this.sound&&(this.sound.setVolume(e*100),this.volume=e,this.playerModel.set("volume",e))},onPlay:function(){this.playerModel.set({paused:!1,volume:this.volume})},whileLoading:function(){var e=this.model.get("Media"),t,n
;this.transcoded?(t=e.duration,n=0):(t=this.sound.durationEstimate,n=this.sound.bytesLoaded/this.sound.bytesTotal*(t/1e3)),this.playerModel.set({endBuffer:n,duration:t/1e3,formattedDuration:this.playerModel.secondsToHms(t/1e3)})},whitePlaying:function(){this.playerModel.set({currentTime:this.sound.position/1e3,formattedTime:this.playerModel.secondsToHms(this.sound.position/1e3)})},onLoad:function(){var e=this.model.get("Media");this.loaded=!0,this.transcoded&&this.playerModel.set("endBuffer",e.duration/1e3
)},onFinish:function(){this.sound&&this.sound.destruct(),this.sound=null,this.nextTrack!==null?(this.model=this.nextTrack,this.play()):e.trigger("stop:music")}});return s}),define("hb!templates/popovers/PhotoPopover.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function y(e,t){return'\n		<a class="previous-btn" href="#">\n			<i class="glyphicon chevron-left"></i>\n		</a>\n	'}function b(e,t){return'\n		<a class="next-btn" href="#">\n			<i class="glyphicon chevron-right"></i>\n		</a>\n	'
}function w(e,t){var r="",i,s,o;return r+='\n			<div class="card-details">\n				',i=500,c=n.photo,s=c||e.photo,s=s===null||s===undefined||s===!1?s:s.summary,c=n.truncate,o=c||e.truncate,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncate",s,i,{hash:{}}):i=o,r+=g(i)+"\n			</div>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression;s+='<a class="media-popover-close-btn gray" href="#"><i class="glyphicon circle-remove"></i></a>\n\n<div class="photo-container">\n	'
,c=n.showPrevious,o=c||t.showPrevious,u=n["if"],h=p.program(1,y,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n	",c=n.showNext,o=c||t.showNext,u=n["if"],h=p.program(3,b,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+='\n\n	<div class="card-overlay">\n		<div class="card-count">',c=n.index,o=c||t.index,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"index",{hash:{}})),s+=g(o)+" ",o="of",c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}
):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+" ",c=n.total,o=c||t.total,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"total",{hash:{}})),s+=g(o)+"</div>\n\n		",o=50,c=n.photo,u=c||t.photo,u=u===null||u===undefined||u===!1?u:u.title,c=n.truncate,a=c||t.truncate,typeof a===d?o=a.call(t,u,o,{hash:{}}):a===m?o=v.call(t,"truncate",u,o,{hash:{}}):o=a,s+=g(o)+"\n\n		",c=n.photo,o=c||t.photo,o=o===null||o===undefined||o===!1?o:o.summary,u=n["if"],h=p.program(5,w,i),h.hash={},h.fn=h,h.inverse=
p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;return s+='\n	</div>\n\n	<img src="',o=650,u=2e3,c=n.photo,a=c||t.photo,a=a===null||a===undefined||a===!1?a:a.thumb,c=n.serverObj,f=c||t.serverObj,c=n.transcodeImage,l=c||t.transcodeImage,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"transcodeImage",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'">\n</div>\n',s})}),define("plex/view/popovers/PhotoPopover",["hb!templates/popovers/PhotoPopover.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,
n){var r=n.extend({className:"photo-popover",index:0,events:{click:"onClick","click .media-popover-close-btn":"onCloseClick","click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},initialize:function(e){this.index=this.collection.indexOf(this.model)},render:function(){return this.$el.html(e({photo:this.model.toJSON(),total:this.collection.length,index:this.index+1,showPrevious:this.index>0,showNext:this.collection.length>this.index+1})),this},onClick:function(e){e.target===this.
el&&t.trigger("hide:photo")},onCloseClick:function(e){e.preventDefault(),t.trigger("hide:photo")},onPreviousClick:function(e){e.preventDefault(),this.index>0&&(this.index--,this.model=this.collection.at(this.index),this.render())},onNextClick:function(e){e.preventDefault(),this.collection.length>this.index+1&&(this.index++,this.model=this.collection.at(this.index),this.render())}});return r}),define("plex/view/AppView",["plex/control/Dispatcher","plex/model/AppModel","plex/view/alerts/LoadingAlert"
,"plex/view/alerts/Alert","plex/view/header/HeaderView","plex/view/StatusView","plex/view/players/MusicPlayerView","plex/view/popovers/PhotoPopover","jquery","backbone"],function(e,t,n,r,i,s,o,u,a){var f=Backbone.View.extend({el:"#plex",loadingAlert:null,genericAlert:null,headerView:null,musicPlayerView:null,photoPopover:null,views:null,modals:null,initialize:function(){this.views=[],this.modals=[],this.headerView=new i,this.statusView=new s,t.on("change:loading",this.onLoadingChange,this),t.on("change:alert"
,this.onAlertChange,this),t.on("change:view",this.onViewChange,this),t.on("change:modal",this.onModalChange,this),e.on("destroy:modal",this.onModalDestroy,this),e.on("play:music",this.onPlayMusic,this),e.on("stop:music",this.onStopMusic,this),e.on("show:photo",this.onShowPhoto,this),e.on("hide:photo",this.onHidePhoto,this)},render:function(){return this.$el.empty(),this.$el.append(this.headerView.render().el),this.$el.append(this.statusView.render().el),this.onLoadingChange(t,t.get("loading")),this
},onLoadingChange:function(e,t){t===!0&&this.loadingAlert===null?(this.loadingAlert=new n,a("body").append(this.loadingAlert.render().el)):this.loadingAlert!==null&&(this.loadingAlert.destroy(),this.loadingAlert=null)},onAlertChange:function(e,t){t!==null?(this.genericAlert=new r({alert:t}),a("body").append(this.genericAlert.render().el)):this.genericAlert=null},onViewChange:function(e,t){for(var n=this.views.length-1;n>=0;n--)this.views[n].destroy();this.photoPopover&&(this.photoPopover.destroy(
),this.photoPopover=null),a(".tooltip").remove(),this.views.length=0,this.views.push(t),this.$el.append(t.render().el),window.scrollTo&&window.scrollTo(0,0)},onModalChange:function(e,t){this.modals.push(t),a("body").append(t.render().el)},onModalDestroy:function(e){var t=_.indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].destroy()},onPlayMusic:function(e,t){this.$el.addClass("music-player-active"),this.musicPlayerView===null?(this.musicPlayerView=new o({collection:e,model:t}),this.$el.prepend
(this.musicPlayerView.render().el)):(this.musicPlayerView.collection=e,this.musicPlayerView.model=t),this.musicPlayerView.play()},onStopMusic:function(){this.$el.removeClass("music-player-active"),this.musicPlayerView!==null&&(this.musicPlayerView.hide(),this.musicPlayerView=null)},onShowPhoto:function(e,t){this.photoPopover===null?(this.photoPopover=new u({collection:e,model:t}),this.$el.prepend(this.photoPopover.render().el)):(this.photoPopover.collection=e,this.photoPopover.model=t)},onHidePhoto
:function(){this.photoPopover!==null&&(this.photoPopover.destroy(),this.photoPopover=null)}});return f}),define("hb!templates/DashboardView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<div class="row-fluid">\n	<div class="dashboard-sidebar"></div>\n	<div class="dashboard-main"></div>\n</div>\n'})}),define("hb!templates/dashboard/DashboardLoginView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s=""
,o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="well-header">\n	<h3>',o="myPlex",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n</div>\n\n<form class="row-fluid dashboard-login-form">\n	<div class="control-group">\n		<input type="text" class="input-dark span12" name="username" placeholder="',o="username or email",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o
,{hash:{}}):o=u,s+=p(o)+'">\n	</div>\n\n	<div class="control-group">\n		<input type="password" class="input-dark span12" name="password" placeholder="',o="password",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'">\n	</div>\n\n	<div class="control-group">\n		<input type="submit" class="btn btn-primary pull-right" value="',o="Sign In",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'">\n		<label>\n			<input type="checkbox" name="rememberMe" value="1">\n			'
,o="Remember Me",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+"\n		</label>\n	</div>\n</form>\n",s})}),define("plex/view/dashboard/DashboardLoginView",["hb!templates/dashboard/DashboardLoginView.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView"],function(e,t,n,r){var i=r.extend({className:"well",events:{"submit .dashboard-login-form":"onSubmit"},initialize:function(){},render:function(){return this.$el.html(e()),this},onSubmit
:function(e){e.preventDefault();var n=e.currentTarget,r=this.$("input[type=submit]");if(r.hasClass("disabled"))return;r.addClass("disabled");var i={username:n.username.value,password:n.password.value,rememberMe:n.rememberMe.value};t.trigger("command:SignIn",i,_.bind(function(){r.removeClass("disabled"),this.trigger("signedIn")},this))}});return i}),define("hb!templates/lists/dashboard/DashboardSectionList.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r=""
,i,s;return r+="\n			",i="Shared Libraries",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n		",r}function m(e,t){var r="",i,s;return r+="\n			",i="My Library",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n		",r}function g(e,t){return"hide"}function y(e,t){return"hide"}function b(e,t){var r="",i,s;return r+="\n		",i="There are no available shared libraries.",a=n.t,s=a||e.t,typeof s===c?i=s.
call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+' <a href="https://my.plexapp.com">',i="Go to myPlex",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a>.\n	",r}function w(e,t){var r="",i,s;return r+="\n		",i="There are no available library sections.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+' <a class="add-btn" href="#">',i="Add a section",a=n.t,s=a||e.t,typeof s===c?i=s
.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a>.\n	",r}function E(e,t){var r,i;return a=n.empty,r=a||e.empty,i=n["if"],f=l.program(14,S,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function S(e,t){return"hide"}function x(e,t){return'\n		<li class="hide"></li>\n	'}function T(e,t){return'\n		<li><a class="add-btn tile-btn" href="#"><i class="glyphicon-plus"></i></a></li>\n	'}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0
,d=this.escapeExpression;s+='<div class="well-header">\n	<h3>\n		',a=n.shared,o=a||t.shared,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(3,m,i),o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n	</h3>\n</div>\n\n<div class="dashboard-empty-message ',a=n.pending,o=a||t.pending,u=n["if"],f=l.program(5,g,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+=" ",a=n.empty,o=a||t.empty,u=n.unless,f=l.program(7,y,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0
)s+=o;s+='">\n	',a=n.shared,o=a||t.shared,u=n["if"],f=l.program(9,b,i),f.hash={},f.fn=f,f.inverse=l.program(11,w,i),o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n</div>\n\n<ul class="tile-list section-tile-list ',a=n.pending,o=a||t.pending,u=n.unless,f=l.program(13,E,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='">\n	',s+="\n	",a=n.shared,o=a||t.shared,u=n["if"],f=l.program(16,x,i),f.hash={},f.fn=f,f.inverse=l.program(18,T,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n</ul>\n"
,s})}),define("hb!templates/lists/dashboard/ManageServerDropdownList.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+='\n	<a class="dropdown-toggle" href="#manage-server-dropdown-list" data-toggle="dropdown">\n		<i class="plex-icon-wrench-small"></i> ',i="Manage",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+' <i class="glyphicon-caret orange small"></i>\n	</a>\n',r}function m(e,t){var r=""
,i,s;r+="\n	",a=n.server,i=a||e.server,s=n["if"],f=l.program(4,g,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n",r}function g(e,t){var r="",i,s;return r+='\n		<a href="#!/servers/',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+'">\n			<i class="plex-icon-wrench-small"></i> ',i="Manage",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,
{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</i>\n		</a>\n	",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.showDropdown,o=a||t.showDropdown,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(3,m,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n<ul class="dropdown-menu dropdown-menu-large"></ul>\n',s})}),define("hb!templates/lists/dashboard/items/ManageServerDropdownListItem.tpl",["handlebars"],function(e
){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i;return r+="\n		",a=n.friendlyName,i=a||e.friendlyName,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"friendlyName",{hash:{}})),r+=d(i)+"\n	",r}function m(e,t){var r="",i;return r+="\n		",a=n.name,i=a||e.name,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"name",{hash:{}})),r+=d(i)+"\n	",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a href="#!/servers/',
a=n.machineIdentifier,o=a||t.machineIdentifier,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"machineIdentifier",{hash:{}})),s+=d(o)+'">\n	',a=n.friendlyName,o=a||t.friendlyName,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(3,m,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n</a>\n",s})}),define("plex/view/lists/dashboard/items/ManageServerDropdownListItem",["hb!templates/lists/dashboard/items/ManageServerDropdownListItem.tpl","plex/view/BaseView"],function(e,t){var n=
t.extend({tagName:"li",render:function(){return this.$el.html(e(this.model.toJSON())),this}});return n}),define("plex/view/lists/dashboard/ManageServerDropdownList",["hb!templates/lists/dashboard/ManageServerDropdownList.tpl","plex/view/BaseView","plex/view/lists/dashboard/items/ManageServerDropdownListItem"],function(e,t,n){var r=t.extend({id:"manage-server-dropdown-list",className:"dropdown pull-right",initialize:function(){this.populated=!!this.collection.length,this.addBinding(this.collection
,"add",this.onAdd),this.addBinding(this.collection,"reset",this.onAddAll),this.addBinding(this.collection,"change:isAvailable",this.onServerAvailableChange)},render:function(t){var n={},r=this.collection.filter(function(e){return!e.get("shared")&&e.get("isAvailable")});return r.length&&(r.length>1?n.showDropdown=!0:n.server=r[0].toJSON()),this.$el.html(e(n)),!t&&this.populated&&this.onAddAll(this.collection),this},onAdd:function(e){if(e.get("shared")||!e.get("isAvailable"))return;var t=new n({model
:e});this.registerView(t),this.$(".dropdown-menu").append(t.render().el)},onAddAll:function(e){this.populated=!0,this.removeAllViews(),this.render(!0),e.each(this.onAdd,this)},onServerAvailableChange:function(e,t){this.render()}});return r}),define("hb!templates/lists/dashboard/items/DashboardSectionListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+="\n		",a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.shared,s=n.unless,f=
l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.program(4,g,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	",r}function m(e,t){var r="",i;return r+='\n			<img class="poster section-poster custom-section-poster" src="',a=n.thumbUrl,i=a||e.thumbUrl,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"thumbUrl",{hash:{}})),r+=d(i)+'" width="75" height="75">\n		',r}function g(e,t){var r="",i;return r+='\n			<i class="poster section-poster plex-icon-',a=n.section,i=a||e.section,i=i===null||i===undefined||
i===!1?i:i.type,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"section.type",{hash:{}})),r+=d(i)+'"></i>\n		',r}function y(e,t){var r="",i;return r+='\n		<i class="poster section-poster plex-icon-',a=n.section,i=a||e.section,i=i===null||i===undefined||i===!1?i:i.type,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"section.type",{hash:{}})),r+=d(i)+'"></i>\n	',r}function b(e,t){var r="",i;return r+='\n		<span class="server-label">',a=n.server,i=a||e.server,i=i===null||i===undefined||
i===!1?i:i.sourceTitle,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.sourceTitle",{hash:{}})),r+=d(i)+"</span>\n	",r}function w(e,t){var r="",i,s;r+="\n		",a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.friendlyName,s=n["if"],f=l.program(11,E,t),f.hash={},f.fn=f,f.inverse=l.program(13,S,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	",r}function E(e,t){var r="",i;return r+='\n			<span class="server-label">',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?
i:i.friendlyName,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.friendlyName",{hash:{}})),r+=d(i)+"</span>\n		",r}function S(e,t){var r="",i;return r+='\n			<span class="server-label">',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.name,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.name",{hash:{}})),r+=d(i)+"</span>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a href="#!/servers/'
,a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.machineIdentifier,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"server.machineIdentifier",{hash:{}})),s+=d(o)+"/sections/",a=n.section,o=a||t.section,o=o===null||o===undefined||o===!1?o:o.key,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"section.key",{hash:{}})),s+=d(o)+'">\n	',a=n.thumbUrl,o=a||t.thumbUrl,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(6,y,i),o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n	<span class="section-label">'
,a=n.section,o=a||t.section,o=o===null||o===undefined||o===!1?o:o.title,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"section.title",{hash:{}})),s+=d(o)+"</span>\n\n	",a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.sourceTitle,u=n["if"],f=l.program(8,b,i),f.hash={},f.fn=f,f.inverse=l.program(10,w,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n</a>\n",s})}),define("plex/view/lists/dashboard/items/DashboardSectionListItem",["hb!templates/lists/dashboard/items/DashboardSectionListItem.tpl"
,"plex/view/BaseView"],function(e,t){var n=t.extend({tagName:"li",className:"section-tile-list-item",initialize:function(){this.addBinding(this.model,"change",this.render)},render:function(){var t=this.model.get("thumb"),n;t&&(n=this.model.server.resolveUrl(t));var r={server:this.model.server.toJSON(),section:this.model.toJSON(),thumbUrl:n};return this.$el.html(e(r)),this}});return n}),define("hb!templates/modals/SelectServerModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r
,i){function v(e,t){var r="",i,s;r+="\n			",a=n.shared,i=a||e.shared,s=n.unless,f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n		",r}function m(e,t){var r,i;return a=n.isAvailable,r=a||e.isAvailable,i=n["if"],f=l.program(3,g,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function g(e,t){var r="",i;return r+='\n				<li><a class="server" data-id="',a=n.machineIdentifier,i=a||e.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}
):i===p&&(i=h.call(e,"machineIdentifier",{hash:{}})),r+=d(i)+'" href="#">',a=n.name,i=a||e.name,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"name",{hash:{}})),r+=d(i)+"</a></li>\n			",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3>',o="Select a Media Server",a=n.t,u=a||t.t,typeof u===c?o=u.call
(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	<ul class="select-list">\n		',a=n.servers,o=a||t.servers,u=n.each,f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n	</ul>\n</div>\n",s})}),define("plex/view/modals/SelectServerModal",["hb!templates/modals/SelectServerModal.tpl","plex/control/Dispatcher","plex/view/BaseView","jquery"],function(e,t,n,r){var i=n.extend({className
:"modal modal-small select-modal fade",events:{hidden:"onClose","click .server":"onServerClick"},render:function(){return this.$el.html(e({servers:this.collection.toJSON()})).modal(),this},onClose:function(e){t.trigger("destroy:modal",this)},onServerClick:function(e){e.preventDefault(),this.$el.modal("hide"),this.trigger("server:select",r(e.target).data("id"))}});return i}),define("hb!templates/modals/EditSectionModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g
(e,t){var r="",i,s;return r+='\n	<h3><i class="glyphicon-plus"></i> ',i="Add a Section",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</h3>\n	",r}function y(e,t){var r="",i,s;return r+='\n	<h3><i class="glyphicon pencil"></i> ',i="Edit Section",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</h3>\n	",r}function b(e,t){var r="",i,s;r+='\n		<div class="add-section-type">\n			<h4>',i="Select the type of media"
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</h3>\n			",f=n.sectionTypes,i=f||e.sectionTypes,s=n.each,l=c.program(6,w,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n		</div>\n		",r}function w(e,t){var r="",i,s;return r+='\n				<a class="section-type" data-key="',f=n.key,i=f||e.key,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"key",{hash:{}})),r+=v(i)+'" href="#">\n					<i class="plex-icon-',f=n.key
,i=f||e.key,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"key",{hash:{}})),r+=v(i)+'-medium"></i>\n					<span class="section-type-label">',f=n.label,i=f||e.label,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</span>\n				</a>\n			",r}function E(e,t){return" hide"}function S(e,t){var r="",i,s,o;return r+="\n							",f=n.sectionType,i=f||e.sectionType,s="Add folders where your {1} is located",f=n.t,o=f||e.t,typeof o===h?i=o.call(e,s,i,{hash
:{}}):o===d?i=p.call(e,"t",s,i,{hash:{}}):i=o,r+=v(i)+"\n						",r}function x(e,t){var r="",i,s,o;return r+="\n							",f=n.sectionType,i=f||e.sectionType,s="Add folders where your {1} are located",f=n.t,o=f||e.t,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"t",s,i,{hash:{}}):i=o,r+=v(i)+"\n						",r}function T(e,t){var r="",i,s,o;return r+="\n							",i="sectionPathInput",s={},o=e,s.value=o,f=n.partial,o=f||e.partial,l={},l.hash=s,typeof o===h?i=o.call(e,i,l):o===d?i=p.call(e,"partial"
,i,l):i=o,r+=v(i)+"\n						",r}function N(e,t){return" hide"}function C(e,t){var r="",i,s;return r+='\n			<button type="submit" class="btn btn-primary">',i="Add Section",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n		",r}function k(e,t){var r="",i,s;return r+='\n			<button type="submit" class="btn btn-primary">',i="Save",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n		"
,r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	',f=n.add,o=f||t.add,u=n["if"],l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(3,y,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n</div>\n\n<form class="modal-form add-section-form">\n	<div class="modal-body minimal-light-scrollbar">\n		'
,f=n.add,o=f||t.add,u=n["if"],l=c.program(5,b,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n		<div class="add-section-details',f=n.add,o=f||t.add,u=n["if"],l=c.program(8,E,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n			<div class="row-fluid">\n				<div class="name-group control-group">\n					<span class="help-inline hide">',o="A section name is required.",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash
:{}}):o=u,s+=v(o)+"</span>\n					<label>",o="Name",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<input type="text" name="name" class="span12" value="',f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.title,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"section.title",{hash:{}})),s+=v(o)+'">\n				</div>\n			</div>\n\n			<div class="row-fluid">\n				<div class="folder-group control-group">\n					<label>\n						'
,o="music",f=n.sectionType,u=f||t.sectionType,f=n.if_eq,a=f||t.if_eq,l=c.program(10,S,i),l.hash={},l.fn=l,l.inverse=c.program(12,x,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+='\n					</label>\n\n					<p class="help-block">',o="Help us out by following <a href='http://wiki.plexapp.com/index.php/Media_Naming_and_Organization_Guide' target='_blank'>our guide</a> to naming and organizing your media.",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t
,"t",o,{hash:{}}):o=u,s+=v(o)+'</p>\n\n					<div class="folders">\n						',f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.location,u=n.each,l=c.program(14,T,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n					</div>\n\n					<p class="pull-center">\n						<a href="#" class="add-folder-btn btn btn-inverse"><i class="glyphicon folder-plus"></i> ',o="Add a Folder",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=
v(o)+'</a>\n					</p>\n				</div>\n			</div>\n\n			<div class="row-fluid advanced-options hide">\n				<div class="control-group">\n					<label>',o="Scanner",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<select name="scanner" class="span6"></select>\n				</div>\n			</div>\n\n			<div class="row-fluid advanced-options hide">\n				<div class="control-group">\n					<label>',o="Agent",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}
):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<select name="agent" class="span6"></select>\n				</div>\n			</div>\n\n			<div class="row-fluid advanced-options hide">\n				<div class="control-group">\n					<label>',o="Language",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<select name="language" class="span6"></select>\n				</div>\n			</div>\n		</div>\n	</div>\n\n	<div class="modal-footer',f=n.add,o=f||t.add,u=n
["if"],l=c.program(16,N,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n		<div class="pull-left">\n			<a class="standard-options" href="#">',o="Show advanced options",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n			<a class="advanced-options hide" href="#">',o="Hide advanced options",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n		</div>\n\n		<button class="btn btn-inverse cancel-btn">'
,o="Cancel",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</button>\n		",f=n.add,o=f||t.add,u=n["if"],l=c.program(18,C,i),l.hash={},l.fn=l,l.inverse=c.program(20,k,i),o=u.call(t,o,l);if(o||o===0)s+=o;return s+="\n	</div>\n</form>\n",s})}),define("plex/control/utils/LanguageUtil",[],function(){var e=function(){this.byCode={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"Ø§ÙØ¹Ø±Ø¨ÙØ©",an:"AragonÃ©s",hy:"ÕÕ¡ÕµÕ¥ÖÕ¥Õ¶",as:"Assamese"
,av:"Ð°Ð²Ð°Ñ Ð¼Ð°ÑÓ",ae:"avesta",ay:"aymar aru",az:"azÉrbaycan dili",ba:"Ð±Ð°ÑÒ¡Ð¾ÑÑ ÑÐµÐ»Ðµ",bm:"bamanankan",eu:"euskara",be:"ÐÐµÐ»Ð°ÑÑÑÐºÐ°Ñ",bn:"Bengali",bh:"à¤­à¥à¤à¤ªà¥à¤°à¥",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:"Ð±ÑÐ»Ð³Ð°ÑÑÐºÐ¸ ÐµÐ·Ð¸Ðº",my:"Burmese",ca:"CatalÃ ",ch:"Chamoru",ce:"Ð½Ð¾ÑÑÐ¸Ð¹Ð½ Ð¼Ð¾ÑÑ",cu:"Ñ©Ð·ÑÐºÑ ÑÐ»Ð¾Ð²Ñ£Ð½ÑÑÐºÑ",cv:"ÑÓÐ²Ð°Ñ ÑÓÐ»ÑÐ¸",kw:"Kernewek",co:"corsu",cr:"áá¦áá­ááá£",dv:"Divehi",dz:"à½¢à¾«à½¼à½à¼à½",en:"English",eo:"Esperanto",et:"eesti",ee:"EÊegbe",fo:"fÃ¸royskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"á¥áá áá£áá",gd
:"GÃ idhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"AvaÃ±e&apos;áº½",gu:"àªà«àªàª°àª¾àª¤à«",ht:"KreyÃ²l ayisyen",ha:"ÙÙÙÙØ³Ù",hz:"Otjiherero",hi:"à¤¹à¤¿à¤¨à¥à¤¦à¥",ho:"Hiri Motu",hr:"hrvatski",ig:"Asá»¥sá»¥ Igbo",is:"Ãslenska",io:"Ido",ii:"êê ê¿ Nuosuhxop",iu:"áááááá¦",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"IÃ±upiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"à²à²¨à³à²¨à²¡",ks:"à¤à¤¶à¥à¤®à¥à¤°à¥",kr:"Kanuri",kk:"ÒÐ°Ð·Ð°Ò ÑÑÐ»Ñ",km:"Khmer",ki:"GÄ©kÅ©yÅ©",rw:"Ikinyarwanda",ky:"ÐºÑÑÐ³ÑÐ· ÑÐ¸Ð»Ð¸",kv:"ÐºÐ¾Ð¼Ð¸ ÐºÑÐ²",kg:"KiKongo",kj:"Kuanyama",ku:"KurdÃ®",
lo:"Lao",la:"latine",lv:"latvieÅ¡u valoda",li:"Limburgs",ln:"LingÃ¡la",lt:"lietuviÅ³ kalba",lb:"LÃ«tzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:"Ð¼Ð°ÐºÐµÐ´Ð¾Ð½ÑÐºÐ¸ ÑÐ°Ð·Ð¸Ðº",mh:"Kajin MÌ§ajeÄ¼",ml:"Malayalam",mi:"te reo MÄori",mr:"à¤®à¤°à¤¾à¤ à¥",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"Ð¼Ð¾Ð½Ð³Ð¾Ð»",na:"EkakairÅ© Naoero",nv:"DinÃ© bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"à¤¨à¥à¤ªà¤¾à¤²à¥",nn:"Norsk nynorsk",nb:"Norsk bokmÃ¥l",ny:"chiCheÅµa",oc:"Occitan",oj:"ááááá¯á§áá",or:"Oriya",
om:"Afaan Oromoo",os:"Ð¸ÑÐ¾Ð½ Ã¦Ð²Ð·Ð°Ð³",pa:"à¨ªà©°à¨à¨¾à¨¬à©",pi:"à¤ªà¤¾à¤´à¤¿",ps:"Ù¾ÚØªÙ",qu:"Runa Simi",rm:"rumantsch grischun",ro:"romÃ¢nÄ",rn:"kiRundi",sg:"yÃ¢ngÃ¢ tÃ® sÃ¤ngÃ¶",sa:"à¤¸à¤à¤¸à¥à¤à¥à¤¤à¤®à¥",sr:"ÑÑÐ¿ÑÐºÐ¸ ÑÐµÐ·Ð¸Ðº",si:"Sinhala",sk:"slovenÄina",sl:"SlovenÅ¡Äina",se:"DavvisÃ¡megiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"à¤¸à¤¿à¤¨à¥à¤§à¥",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"à®¤à®®à®¿à®´à¯",tt:"ÑÐ°ÑÐ°ÑÑÐ°",te:"Telugu",tg:"ÑÐ¾Ò·Ð¸ÐºÓ£",tl:"Wikang Tagalog",th:"à¹à¸à¸¢",bo:"à½à½¼à½à¼à½¡à½²à½",ti:"Tigrinya"
,to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"TÃ¼rkmen",tw:"Twi",ug:"UyÆ£urqÉ",uk:"ÑÐºÑÐ°ÑÐ½ÑÑÐºÐ°",ur:"Ø§Ø±Ø¯Ù",uz:"O&apos;zbek",ve:"Tshivená¸a",vi:"Tiáº¿ng Viá»t",vo:"VolapÃ¼k",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"××Ö´×××©",yo:"YorÃ¹bÃ¡",za:"SaÉ¯ cueÅÆ",zu:"isiZulu",pb:"PortuguÃªs (Brasil)",fr:"FranÃ§ais",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeski",nl:"Nederlands",it:"Italiano",es:"EspaÃ±ol",pl:"Polski",hu:"Magyar",el:"ÎÎ»Î»Î·Î½Î¹ÎºÎ¬",tr:"TÃ¼rkÃ§e",zh:"ä¸­æ",ru:"ÑÑÑÑÐºÐ¸Ð¹ ÑÐ·ÑÐº",he:"×¢××¨××ª",ja
:"æ¥æ¬èª",pt:"PortuguÃªs","pt-BR":"PortuguÃªs Brasileiro",ko:"íêµ­ì´",cs:"ÄeÅ¡tina",fa:"ÙØ§Ø±Ø³Û",xx:"Unknown",xn:"None"},this.getLanguageName=function(e){return this.byCode[e]||""}};return new e}),define("plex/control/utils/SectionTypes",["underscore"],function(){var e=function(){this.types=[{key:"movies",typeID:"1",typeString:"movie",label:"Movies",defaultAgent:"com.plexapp.agents.imdb",defaultLanguage:"en",defaultScanner:"Plex Movie Scanner"},{key:"tv",typeID:"2",typeString:"show",label:"TV Shows",defaultAgent
:"com.plexapp.agents.thetvdb",defaultLanguage:"en",defaultScanner:"Plex Series Scanner"},{key:"music",typeID:"8",typeString:"artist",label:"Music",defaultAgent:"com.plexapp.agents.lastfm",defaultLanguage:"en",defaultScanner:"Plex Music Scanner"},{key:"photos",typeID:"13",typeString:"photo",label:"Photos",defaultAgent:"com.plexapp.agents.none",defaultLanguage:"xn",defaultScanner:"Plex Photo Scanner"},{key:"videos",typeID:"1",typeString:"movie",label:"Home Movies",defaultAgent:"com.plexapp.agents.none"
,defaultLanguage:"xn",defaultScanner:"Plex Video Files Scanner"}],this.byKey=_.reduce(this.types,function(e,t){return e[t.key]=t,e},{}),this.byType=_.reduceRight(this.types,function(e,t){return e[t.typeString]=t,e},{}),this.getSectionTypes=function(){return this.types},this.getSectionType=function(e){return this.byKey[e]},this.getSectionTypeByString=function(e){return this.byType[e]}};return new e}),define("plex/model/AgentModel",["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute
:"identifier",whitelistedAttrs:["name","hasPrefs","identifier","language","enabled"],parse:function(e){var n=t.xml2json(e)||e;return n.Language&&(n.language=_.isArray(n.Language)?_.pluck(n.Language,"code"):[n.Language.code]),n=_.pick(n,this.whitelistedAttrs),n.hasPrefs&&(n.hasPrefs=parseInt(n.hasPrefs,10)),n}});return n}),define("plex/model/collections/AgentCollection",["plex/model/collections/BaseCollection","plex/model/AgentModel","jquery"],function(e,t,n){var r=e.extend({model:t,initialize:function(
e,t){this.server=t.server,this.primaryAgent=t.primaryAgent,this.relatedAgent=t.relatedAgent,this.sectionType=t.sectionType},url:function(){return this.primaryAgent?"system/agents/contributors?mediaType="+this.sectionType+"&primaryAgent="+this.primaryAgent:this.relatedAgent?"system/agents/"+this.relatedAgent+"/config/"+this.sectionType:this.sectionType?"system/agents?mediaType="+this.sectionType:"system/agents"},parse:function(e){return n.xml2json(e).Agent}});return r}),define("plex/model/ScannerModel"
,["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute:"name",whitelistedAttrs:["name"],parse:function(e){var n=t.xml2json(e)||e;return n}});return n}),define("plex/model/collections/ScannerCollection",["plex/model/collections/BaseCollection","plex/model/ScannerModel","jquery"],function(e,t,n){var r=e.extend({model:t,initialize:function(e,t){this.sectionType=t.sectionType,this.server=t.server},url:function(){return"system/scanners/"+this.sectionType},parse:function(e){return n
.xml2json(e).Scanner}});return r}),define("hb!templates/modals/AddFolderModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon folder-plus"></i> ',o="Add a Folder",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{
}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n</div>\n\n<form class="modal-form add-section-form">\n	<div class="modal-body minimal-light-scrollbar">\n		<div class="row-fluid">\n			<div class="control-group">\n				<input type="text" name="path" class="span12" value="">\n				<div class="browse-control"></div>\n			</div>\n		</div>\n	</div>\n\n	<div class="modal-footer">\n		<button class="btn btn-inverse cancel-btn">',o="Cancel",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=
c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</button>\n		<button type="submit" class="btn btn-primary">',o="Add Folder",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+"</button>\n	</div>\n</form>\n",s})}),define("plex/model/BrowseDirectoryModel",["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute:"key",defaults:{key:"/services/browse",title:"Root",path:""},url:function(){return this.id},parse:function(e){var n=t.xml2json(e)||e;
return n}});return n}),define("plex/model/collections/BrowseDirectoryCollection",["plex/model/collections/BaseCollection","plex/model/BrowseDirectoryModel","jquery"],function(e,t,n){var r=e.extend({model:t,initialize:function(e,t){this.parent=t.parent,this.server=t.server;var n=_.bind(function(e){e.set("parent",this.parent),e.set("children",new r([],{parent:e,server:this.server}))},this);_.each(e,n),this.on("reset",function(){this.each(n)},this),this.on("add",n)},url:function(){return this.parent
.url()},parse:function(e){return n.xml2json(e).Path}});return r}),define("hb!templates/lists/items/BrowseDirectoryListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a href="#" data-key="',u=n.directory,o=u||t.directory,o=o===null||o===undefined||o===!1?o:o.key,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"directory.key",{hash:{}})),s+=h(o)+'"><i class="glyphicon folder-open"></i> '
,u=n.directory,o=u||t.directory,o=o===null||o===undefined||o===!1?o:o.title,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"directory.title",{hash:{}})),s+=h(o)+' <div class="spinner-container"></div></a>\n',s})}),define("plex/view/lists/items/BrowseDirectoryListItem",["hb!templates/lists/items/BrowseDirectoryListItem.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",className:"browse-directory-list-item",render:function(){var t={directory:this
.model.toJSON()};return this.$el.html(e(t)),this}});return r}),define("plex/view/lists/BrowseDirectoryList",["plex/view/lists/BaseList","plex/view/lists/items/BrowseDirectoryListItem","plex/model/collections/BrowseDirectoryCollection","jquery","spin"],function(e,t,n,r){var i=e.extend({tagName:"ul",className:"compact-list browse-directory-list",events:{"click a":"onDirectoryClick"},initialize:function(){this.setup(t)},render:function(){return this.$el.empty(),this.populate(this.collection),this},reset
:function(e){this.populated=!!e.length,this.removeAllViews(),this.items={},this.parentItem&&this.addItem(this.parentItem),e.each(this.addItem,this)},onDirectoryClick:function(e){e.preventDefault();var t=r(e.currentTarget),n=t.data("key"),i=this.collection.get(n)||this.parentItem,s=t.find(".spinner-container")[0],o=new Spinner({color:"#fff",lines:9,radius:2,width:2,length:3,zIndex:1,left:0,top:0});this.trigger("change:path",i.get("path")),this.collection.parent=i,i.get("parent")?(this.parentItem=i
.get("parent").clone(),this.parentItem.set("title",".. [Back]")):this.parentItem=null,o.spin(s),this.collection.fetch({hideLoadingAlert:!0}).always(function(){o.stop()})}});return i}),define("plex/view/modals/AddFolderModal",["hb!templates/modals/AddFolderModal.tpl","plex/control/Dispatcher","plex/view/BaseView","plex/model/BrowseDirectoryModel","plex/model/collections/BrowseDirectoryCollection","plex/view/lists/BrowseDirectoryList","jquery"],function(e,t,n,r,i,s,o){var u=n.extend({name:"editSectionModal"
,className:"add-folder-modal modal modal-small fade",events:{hidden:"onClose","submit form":"onSubmit","click .cancel-btn":"onCancel"},initialize:function(e){this.server=e.server,this.pathRoot=new r({title:"Browse folders"},{server:this.server});var t=new i([this.pathRoot],{parent:null,server:this.server});this.pathList=this.registerView(new s({collection:t})),this.addBinding(this.pathList,"change:path",this.onPathChange)},render:function(){return this.$el.html(e()).modal(),this.$(".browse-control"
).append(this.pathList.render().el),this},resetPathList:function(){this.pathList.parentItem=null,this.pathList.collection.reset([this.pathRoot])},onClose:function(e){t.trigger("destroy:modal",this)},onPathChange:function(e){this.$('input[name="path"]').val(e)},onSubmit:function(e){e.preventDefault(),this.trigger("add:folder",this.$('input[name="path"]').val()),this.$el.modal("hide")},onCancel:function(e){e.preventDefault(),this.$el.modal("hide")}});return u}),define("plex/view/modals/EditSectionModal"
,["hb!templates/modals/EditSectionModal.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/control/utils/LanguageUtil","plex/control/utils/SectionTypes","plex/model/AppModel","plex/model/collections/AgentCollection","plex/model/collections/ScannerCollection","plex/view/BaseView","plex/view/modals/AddFolderModal","jquery"],function(e,t,n,r,i,s,o,u,a,f,l){var c=function(e){return _.map(e,function(e){return'<option value="'+e.value+'">'+e.label+"</option>"}).join("\n")},h=function(
e,t){for(var n=0;n<e.options.length;n++)if(t==e.options[n].value){e.selectedIndex=n;return}},p=a.extend({name:"editSectionModal",className:"edit-section-modal modal fade",redirect:!1,events:{hidden:"onClose","click .section-type":"onSectionTypeClick",'change select[name="agent"]':"onAgentChange","click a.advanced-options":"onHideAdvanced","click a.standard-options":"onShowAdvanced","click .add-folder-btn":"onAddFolderClick","click .remove-path":"onRemovePathClick","submit form":"onSubmit","click .cancel-btn"
:"onCancel"},initialize:function(e){this.server=e.server,this.section=e.section,this.scanners={},this.agents={},this.redirect=e.redirect,_.each(i.getSectionTypes(),function(e){if(!this.scanners[e.typeID]){var t={server:this.server,sectionType:e.typeID};this.scanners[e.typeID]=new u([],t),this.agents[e.typeID]=new o([],t)}},this)},render:function(){var t={};if(this.section){var n=i.getSectionTypeByString(this.section.get("type"));t.edit=!0,t.section=this.section.toJSON(),t.sectionType=n.label.toLowerCase
()}else t.add=!0;return t.sectionTypes=i.getSectionTypes(),this.$el.html(e(t)).modal(),this.section&&this.populateDropdowns(i.getSectionTypeByString(this.section.get("type"))),this},setLanguages:function(e,t){var n=this.$('select[name="language"]');n.empty();if(t){n.append(c(_.map(t.get("language"),function(e){return{label:r.getLanguageName(e),value:e}})));if(this.section){var i=this.section.get("language");h(n[0],i)}}},populateDropdowns:function(e){var t=this.$('select[name="agent"]'),n=this.$('select[name="scanner"]'
);if(e){this.type=e.key,this.$(".add-section-type").addClass("hide"),this.$(".add-section-details").removeClass("hide"),this.$(".modal-footer").removeClass("hide");var r=c([{value:"",label:"Loading..."}]);t.empty().append(r),n.empty().append(r),this.agents[e.typeID].populate().done(_.bind(function(n){t.empty().append(c(n.map(function(e){return{label:e.get("name"),value:e.get("identifier")}})));var r=this.section?this.section.get("agent"):e.defaultAgent;h(t[0],r);var i=n.get(r);this.setLanguages(e
,i)},this)).fail(_.bind(function(){t.empty()},this)),this.scanners[e.typeID].populate().done(_.bind(function(t){n.empty().append(c(t.map(function(e){return{label:e.get("name"),value:e.get("name")}}))),h(n[0],this.section?this.section.get("scanner"):e.defaultScanner)},this)).fail(_.bind(function(){n.empty()},this))}else t.empty(),n.empty()},validate:function(e){var t=!0;return e.title?(this.$(".name-group").removeClass("error"),this.$(".name-group .help-inline").addClass("hide")):(this.$(".name-group"
).addClass("error"),this.$(".name-group .help-inline").removeClass("hide"),t=!1),e.location.length?this.$(".add-folder-btn").addClass("btn-inverse").removeClass("btn-danger"):(this.$(".add-folder-btn").removeClass("btn-inverse").addClass("btn-danger"),t=!1),t},onClose:function(e){t.trigger("destroy:modal",this)},onSectionTypeClick:function(e){e.preventDefault();var t=l(e.target).closest("a"),r=t.data("key"),s=i.getSectionType(r),o=s.label;this.$('input[name="name"]').val(o),this.$('input[name="path"]'
).focus(),o=o.toLowerCase(),o==="music"?this.$(".folder-group label").text(n.t("Add folders where your {1} is located",o)):this.$(".folder-group label").text(n.t("Add folders where your {1} are located",o)),this.populateDropdowns(s)},onAgentChange:function(e){var t=i.getSectionType(this.type),n=this.agents[t.typeID].get(e.target.value);this.setLanguages(t,n)},onHideAdvanced:function(e){e.preventDefault(),this.$(".advanced-options").addClass("hide"),this.$(".standard-options").removeClass("hide")}
,onShowAdvanced:function(e){e.preventDefault(),this.$(".standard-options").addClass("hide"),this.$(".advanced-options").removeClass("hide")},onAddFolderClick:function(e){e.preventDefault();var t=new f({server:this.server}),n=_.bind(function(e){if(!e)return;var r=l(Handlebars.partials.sectionPathInput({}));r.find('input[name="path"]').val(e),this.$(".folders").append(r),this.$(".add-folder-btn").addClass("btn-inverse").removeClass("btn-danger"),t.off("add:folder",n)},this);t.on("add:folder",n),s.set
("modal",t)},onRemovePathClick:function(e){e.preventDefault(),l(e.currentTarget).closest(".path-container").remove()},onSubmit:function(e){e.preventDefault();var n=e.target,r=i.getSectionType(this.type),s={type:r.typeString,title:n.name.value,agent:n.agent.value,scanner:n.scanner.value,language:n.language.value,location:[]};s.location=_.compact(_.map(this.$("input[name=path]"),function(e){return e.value}));if(!this.validate(s))return;this.section?this.section.save(s,{success:_.bind(function(e){this
.$el.modal("hide"),this.redirect&&t.trigger("navigate:section",e.server.id,e.id)},this)}):this.server.get("sections").create(s,{wait:!0,success:_.bind(function(e){this.$el.modal("hide"),this.redirect&&t.trigger("navigate:section",e.server.id,e.id)},this)})},onCancel:function(e){e.preventDefault(),this.$el.modal("hide")}});return p}),define("plex/view/lists/dashboard/DashboardSectionList",["hb!templates/lists/dashboard/DashboardSectionList.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView"
,"plex/view/lists/dashboard/ManageServerDropdownList","plex/view/lists/dashboard/items/DashboardSectionListItem","plex/view/modals/SelectServerModal","plex/view/modals/EditSectionModal"],function(e,t,n,r,i,s,o,u){var a=r.extend({className:"well",shared:!1,pendingRequests:0,empty:!0,currentSections:null,manageDropdown:null,events:{"click .add-btn":"onAddSectionClick"},initialize:function(e){this.shared=e.shared,this.currentSections=[],this.shared||(this.manageDropdown=new i({collection:this.collection
})),this.addBinding(this.collection,"add",this.onServerAdd),this.pendingRequests=1,this.collection.populate().done(_.bind(function(){this.pendingRequests+=this.collection.length,this.onServerAddAll(this.collection),this.addBinding(this.collection,"reset",this.onServerAddAll),this.hideLoading(0)},this)).fail(_.bind(function(){this.hideLoading(0)},this))},render:function(){return this.$el.html(e({shared:this.shared,mixed:this.collection.length,pending:this.pendingRequests>0,empty:this.empty})),this
.manageDropdown&&this.$(".well-header").prepend(this.manageDropdown.render().el),_.each(this._views,function(e){this.$("li:last").before(e.render().el)},this),this},hideLoading:function(e){this.pendingRequests--,e&&(this.empty=!1),this.pendingRequests<=0&&this.empty&&(this.$(".dashboard-empty-message").removeClass("hide"),this.$(".section-tile-list").addClass("hide"))},onServerAdd:function(e){if(this.shared!==e.get("shared")){this.hideLoading(0);return}var t=e.get("sections");this.addBinding(t,"add"
,this.onSectionAdd),t.populate({hideLoadingAlert:!0}).done(_.bind(function(){this.hideLoading(t.length),this.onSectionAddAll(t),this.addBinding(t,"reset",this.onSectionAddAll)},this)).fail(_.bind(function(){this.hideLoading(0)},this))},onServerAddAll:function(e){this.removeAllViews(),this.currentSections=[],e.each(this.onServerAdd,this)},onSectionAdd:function(e){if(_.indexOf(this.currentSections,e)===-1){this.currentSections.push(e);var t=new s({model:e});this.registerView(t),this.$("li:last").before
(t.render().el)}},onSectionAddAll:function(e){e.each(this.onSectionAdd,this)},onAddSectionClick:function(e){e.preventDefault();if(this.collection.length>1){var t=new o({collection:n.get("servers")});this.addBinding(t,"server:select",this.onServerSelect),n.set("modal",t)}else n.set("modal",new u({server:this.collection.first(),redirect:!0}))},onServerSelect:function(e){n.set("modal",new u({server:n.get("servers").get(e),redirect:!0}))}});return a}),define("hb!templates/lists/dashboard/DashboardChannelList.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"hide"}function m(e,t){return"hide"}function g(e,t){var r,i;return a=n.empty,r=a||e.empty,i=n["if"],f=l.program(6,y,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function y(e,t){return"hide"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="well-header">\n	<h3>',o="Channels",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:
{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="dashboard-empty-message ',a=n.pending,o=a||t.pending,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+=" ",a=n.empty,o=a||t.empty,u=n.unless,f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='">\n	',o="There are no recently used channels.",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=
d(o)+' <a class="add-btn" href="#">',o="Install a channel",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</a>.\n</div>\n\n<ul class="tile-list section-tile-list ',a=n.pending,o=a||t.pending,u=n.unless,f=l.program(5,g,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='">\n	<li><a class="add-btn tile-btn" href="#"><i class="glyphicon-plus"></i></a></li>\n</ul>\n',s})}),define("hb!templates/lists/dashboard/items/DashboardChannelListItem.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function y(e,t){var r="",i;return r+='\n		<span class="server-label">',c=n.server,i=c||e.server,i=i===null||i===undefined||i===!1?i:i.friendlyName,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"server.friendlyName",{hash:{}})),r+=g(i)+"</span>\n	",r}function b(e,t){var r="",i;return r+='\n		<span class="server-label">',c=n.server,i=c||e.server,i=i===null||i===undefined||i===!1?i:i.name,typeof i===d?i=i.call(e,{hash:{}}):i===
m&&(i=v.call(e,"server.name",{hash:{}})),r+=g(i)+"</span>\n	",r}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression;s+='<a href="#!/servers/',c=n.server,o=c||t.server,o=o===null||o===undefined||o===!1?o:o.machineIdentifier,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"server.machineIdentifier",{hash:{}})),s+=g(o)+"/channels?key=",c=n.channel,o=c||t.channel,o=o===null||o===undefined||o===!1?o:o.key,c=n.encodeURL,u=c||t.encodeURL,typeof 
u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"encodeURL",o,{hash:{}}):o=u,s+=g(o)+'">\n	<img class="poster channel-poster" src="',o=85,u=85,c=n.channel,a=c||t.channel,a=a===null||a===undefined||a===!1?a:a.thumb,c=n.serverObj,f=c||t.serverObj,c=n.transcodeImage,l=c||t.transcodeImage,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"transcodeImage",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'" width="85" height="85">\n	<span class="section-label">',c=n.channel,o=c||t.channel,o=o===null||o===undefined||
o===!1?o:o.title,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"channel.title",{hash:{}})),s+=g(o)+"</span>\n	",c=n.server,o=c||t.server,o=o===null||o===undefined||o===!1?o:o.friendlyName,u=n["if"],h=p.program(1,y,i),h.hash={},h.fn=h,h.inverse=p.program(3,b,i),o=u.call(t,o,h);if(o||o===0)s+=o;return s+="\n</a>\n",s})}),define("plex/view/lists/dashboard/items/DashboardChannelListItem",["hb!templates/lists/dashboard/items/DashboardChannelListItem.tpl","plex/view/BaseView"],function(e,t){var n=
t.extend({tagName:"li",className:"channel-tile-list-item",initialize:function(){this.addBinding(this.model,"change",this.render)},render:function(){var t={server:this.model.server.toJSON(),serverURL:this.model.server.url(),serverObj:this.model.server,channel:this.model.toJSON()};return this.$el.html(e(t)),this}});return n}),define("hb!templates/lists/dashboard/MyChannelsDropdownList.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+='\n	<a class="dropdown-toggle" href="#'
,a=n.directory,i=a||e.directory,s=n["if"],f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.program(4,g,t),i=s.call(e,i,f);if(i||i===0)r+=i;r+='-dropdown-list" data-toggle="dropdown">\n		',a=n.directory,i=a||e.directory,s=n["if"],f=l.program(6,y,t),f.hash={},f.fn=f,f.inverse=l.program(8,b,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+=' <i class="glyphicon-caret orange small"></i>\n	</a>\n',r}function m(e,t){return"channel-directory"}function g(e,t){return"my-channels"}function y(e,t){var r="",i,s;return r+='<i class="glyphicon show-big-thumbnails"></i> '
,i="Directory",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i),r}function b(e,t){var r="",i,s;return r+='<i class="glyphicon list"></i> ',i="My Channels",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i),r}function w(e,t){var r="",i,s;r+="\n	",a=n.server,i=a||e.server,s=n["if"],f=l.program(11,E,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n",r}function E(e,t){var r=""
,i,s;r+='\n		<a href="#!/servers/',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+"/channels",a=n.directory,i=a||e.directory,s=n["if"],f=l.program(12,S,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='">\n			',a=n.directory,i=a||e.directory,s=n["if"],f=l.program(14,x,t),f.hash={},f.fn=f,f.inverse=l.program(16,T,t),i=s.call(e,i,f);if(i||i===0
)r+=i;return r+="\n		</a>\n	",r}function S(e,t){return"/directory"}function x(e,t){var r="",i,s;return r+='<i class="glyphicon show-big-thumbnails"></i> ',i="Directory",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i),r}function T(e,t){var r="",i,s;return r+='<i class="glyphicon list"></i> ',i="My Channels",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i),r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function"
,h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.showDropdown,o=a||t.showDropdown,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(10,w,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n<ul class="dropdown-menu dropdown-menu-large"></ul>\n',s})}),define("hb!templates/lists/dashboard/items/MyChannelsDropdownListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"/directory"}function m(e,t){var r="",i;return r+="\n		",a=n.server
,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.friendlyName,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.friendlyName",{hash:{}})),r+=d(i)+"\n	",r}function g(e,t){var r="",i;return r+="\n		",a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.name,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.name",{hash:{}})),r+=d(i)+"\n	",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a href="#!/servers/'
,a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.machineIdentifier,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"server.machineIdentifier",{hash:{}})),s+=d(o)+"/channels",a=n.directory,o=a||t.directory,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='">\n	',a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.friendlyName,u=n["if"],f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.program(5,g,i),o=u.call(t,o,f);if(
o||o===0)s+=o;return s+="\n</a>\n",s})}),define("plex/view/lists/dashboard/items/MyChannelsDropdownListItem",["hb!templates/lists/dashboard/items/MyChannelsDropdownListItem.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({tagName:"li",initialize:function(e){this.directory=e.directory},render:function(){return this.$el.html(e({directory:this.directory,server:this.model.toJSON()})),this}});return n}),define("plex/view/lists/dashboard/MyChannelsDropdownList",["hb!templates/lists/dashboard/MyChannelsDropdownList.tpl"
,"plex/view/BaseView","plex/view/lists/dashboard/items/MyChannelsDropdownListItem"],function(e,t,n){var r=t.extend({id:"my-channels-dropdown-list",className:"dropdown pull-right",initialize:function(e){this.directory=e.directory,this.populated=!!this.collection.length,this.addBinding(this.collection,"add",this.onAdd),this.addBinding(this.collection,"reset",this.onAddAll),this.addBinding(this.collection,"change:isAvailable",this.onServerAvailableChange)},render:function(t){var n={directory:this.directory
},r=this.collection.filter(function(e){return!e.get("shared")&&e.get("isAvailable")});return r.length&&(r.length>1?n.showDropdown=!0:n.server=r[0].toJSON()),this.$el.html(e(n)),!t&&this.populated&&this.onAddAll(this.collection),this.directory&&this.$el.attr("id","channel-directory-dropdown-list"),this},onAdd:function(e){if(e.get("shared")||!e.get("isAvailable"))return;var t=new n({directory:this.directory,model:e});this.registerView(t),this.$(".dropdown-menu").append(t.render().el)},onAddAll:function(
e){this.populated=!0,this.removeAllViews(),this.render(!0),e.each(this.onAdd,this)},onServerAvailableChange:function(e,t){this.render()}});return r}),define("plex/view/lists/dashboard/DashboardChannelList",["hb!templates/lists/dashboard/DashboardChannelList.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/model/collections/ChannelCollection","plex/view/BaseView","plex/view/lists/dashboard/items/DashboardChannelListItem","plex/view/lists/dashboard/MyChannelsDropdownList","plex/view/modals/SelectServerModal"
],function(e,t,n,r,i,s,o,u){var a=i.extend({className:"well",pendingRequests:0,empty:!0,currentChannels:null,myChannelsDropdown:null,directoryDropdown:null,events:{"click .add-btn":"onAddChannelClick"},initialize:function(e){this.currentChannels=[],this.myChannelsDropdown=new o({collection:this.collection}),this.directoryDropdown=new o({directory:!0,collection:this.collection}),this.addBinding(this.collection,"add",this.onServerAdd),this.pendingRequests=1,this.collection.populate().done(_.bind(function(
){this.pendingRequests+=this.collection.length,this.onServerAddAll(this.collection),this.addBinding(this.collection,"reset",this.onServerAddAll),this.hideLoading(0)},this)).fail(_.bind(function(){this.hideLoading(0)},this))},render:function(){return this.$el.html(e({pending:this.pendingRequests>0,empty:this.empty})),this.$(".well-header").prepend(this.myChannelsDropdown.render().el),this.$(".well-header").prepend(this.directoryDropdown.render().el),_.each(this._views,function(e){this.$("li:last")
.before(e.render().el)},this),this},hideLoading:function(e){this.pendingRequests--,e&&(this.empty=!1),this.pendingRequests<=0&&this.empty&&(this.$(".dashboard-empty-message").removeClass("hide"),this.$(".section-tile-list").addClass("hide"))},onServerAdd:function(e){if(e.get("shared")){this.hideLoading(0);return}var t=new r([],{server:e,recent:!0});this.addBinding(t,"add",this.onChannelAdd),t.populate({hideLoadingAlert:!0}).done(_.bind(function(){this.hideLoading(t.length),this.onChannelAddAll(t)
,this.addBinding(t,"reset",this.onChannelAddAll)},this)).fail(_.bind(function(){this.hideLoading(0)},this))},onServerAddAll:function(e){this.removeAllViews(),this.currentChannels=[],e.each(this.onServerAdd,this)},onChannelAdd:function(e){if(_.indexOf(this.currentChannels,e)===-1){this.currentChannels.push(e);var t=new s({model:e});this.registerView(t),this.$("li:last").before(t.render().el)}},onChannelAddAll:function(e){e.each(this.onChannelAdd,this)},onAddChannelClick:function(e){e.preventDefault
();if(this.collection.length>1){var r=new u({collection:n.get("servers")});this.addBinding(r,"server:select",this.onServerSelect),n.set("modal",r)}else t.trigger("navigate:channelDirectory",this.collection.first().id)},onServerSelect:function(e){t.trigger("navigate:channelDirectory",e)}});return a}),define("hb!templates/lists/dashboard/DashboardPlaylistList.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return'\n	<div class="spinner-container"></div>\n'}function m
(e,t){var r="",i,s;r+="\n	",a=n.empty,i=a||e.empty,s=n["if"],f=l.program(4,g,t),f.hash={},f.fn=f,f.inverse=l.program(6,y,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n",r}function g(e,t){var r="",i,s;return r+='\n		<div class="dashboard-empty-message">',i="This playlist is empty.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</div>\n	",r}function y(e,t){var r="",i,s;r+='\n		<div class="dashboard-pagination">\n			<a class="previous-btn gray '
,a=n.showPrevious,i=a||e.showPrevious,s=n.unless,f=l.program(7,b,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='" href="#"><i class="glyphicon chevron-left"></i></a>\n\n			',a=n.index,i=a||e.index,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"index",{hash:{}})),r+=d(i)+" ",i="of",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+" ",a=n.total,i=a||e.total,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"total"
,{hash:{}})),r+=d(i)+'\n\n			<a class="next-btn gray ',a=n.showNext,i=a||e.showNext,s=n.unless,f=l.program(9,w,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+='" href="#"><i class="glyphicon chevron-right"></i></a>\n		</div>\n\n		<ul class="dashboard-sidebar-list dashboard-',a=n.playlistName,i=a||e.playlistName,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"playlistName",{hash:{}})),r+=d(i)+'-list"></ul>\n	',r}function b(e,t){return"hide"}function w(e,t){return"hide"
}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="well-header">\n	<a class="pull-right" href="#!/playlist/',a=n.playlistName,o=a||t.playlistName,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"playlistName",{hash:{}})),s+=d(o)+'"><i class="plex-icon-wrench-small"></i> ',o="Manage",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</a>\n\n	<h3>",a=n.playlistLabel,o=a||t.playlistLabel
,a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</h3>\n</div>\n\n",a=n.loading,o=a||t.loading,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(3,m,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("hb!templates/lists/dashboard/items/DashboardPlaylistListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function y(e,t){var r="",i,s;return c=n.addedAt,i=c||e.addedAt,c=n.timeAgo,s=c||e.timeAgo
,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"timeAgo",i,{hash:{}}):i=s,r+=g(i)+" &middot; ",r}function b(e,t){var r="",i;return r+=" &middot; ",c=n.media,i=c||e.media,i=i===null||i===undefined||i===!1?i:i.recommender,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"media.recommender",{hash:{}})),r+=g(i),r}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression;s+='<a class="card-container" href="#!/playlist/',c=n.media,o=c||t.media
,o=o===null||o===undefined||o===!1?o:o.playlistName,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"media.playlistName",{hash:{}})),s+=g(o)+"/player/",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.id,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"media.id",{hash:{}})),s+=g(o)+'">\n	<img class="poster" data-original="',o=260,u=260,c=n.media,a=c||t.media,a=a===null||a===undefined||a===!1?a:a.thumb,c=n.serverObj,f=c||t.serverObj,c=n.transcodeImage,l=c||t.transcodeImage,typeof 
l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"transcodeImage",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'" src="img/posters/poster_wide.png">\n	<div class="card-overlay">\n		<h4>',o=36,c=n.media,u=c||t.media,u=u===null||u===undefined||u===!1?u:u.title,c=n.truncate,a=c||t.truncate,typeof a===d?o=a.call(t,u,o,{hash:{}}):a===m?o=v.call(t,"truncate",u,o,{hash:{}}):o=a,s+=g(o)+'</h4>\n\n		<p class="card-details">',c=n.addedAt,o=c||t.addedAt,u=n["if"],h=p.program(1,y,i),h.hash={},h.fn=h,h.inverse=p.noop,o=
u.call(t,o,h);if(o||o===0)s+=o;c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.sourceTitle,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"media.sourceTitle",{hash:{}})),s+=g(o),c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.recommender,u=n["if"],h=p.program(3,b,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;return s+="</p>\n	</div>\n</a>\n",s})}),define("plex/view/lists/dashboard/items/DashboardPlaylistListItem",["hb!templates/lists/dashboard/items/DashboardPlaylistListItem.tpl"
,"plex/model/AppModel","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n,r){var i=r.extend({tagName:"li",className:"dashboard-sidebar-list-item",render:function(){var n=null;if(this.model.get("thumb")){var r=/\?(\d+)$/.exec(this.model.get("thumb"));r&&(n=parseInt(r[1],10))}var i={media:this.model.toJSON(),serverURL:t.get("primaryServer").url(),serverObj:t.get("primaryServer"),addedAt:n};return this.$el.html(e(i)),this}});return i}),function(e,t){$window=e(t),e.fn.lazyload=function(n)
{function s(){var t=0;r.each(function(){var n=e(this);if(i.skip_invisible&&!n.is(":visible"))return;if(!e.abovethetop(this,i)&&!e.leftofbegin(this,i))if(!e.belowthefold(this,i)&&!e.rightoffold(this,i))n.trigger("appear");else if(++t>i.failure_limit)return!1})}var r=this,i={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return n&&(undefined!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit
),undefined!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),e.extend(i,n)),$container=i.container===undefined||i.container===t?$window:e(i.container),0===i.event.indexOf("scroll")&&$container.bind(i.event,function(e){return s()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,n.one("appear",function(){if(!this.loaded){if(i.appear){var s=r.length;i.appear.call(t,s,i)}e("<img />").bind("load",function(){n.hide().attr("src",n.data(i.data_attribute))[i.effect](i.effect_speed)
,t.loaded=!0;var s=e.grep(r,function(e){return!e.loaded});r=e(s);if(i.load){var o=r.length;i.load.call(t,o,i)}}).attr("src",n.data(i.data_attribute))}}),0!==i.event.indexOf("scroll")&&n.bind(i.event,function(e){t.loaded||n.trigger("appear")})}),$window.bind("resize",function(e){s()}),s(),this},e.belowthefold=function(n,r){var i;return r.container===undefined||r.container===t?i=$window.height()+$window.scrollTop():i=$container.offset().top+$container.height(),i<=e(n).offset().top-r.threshold},e.rightoffold=
function(n,r){var i;return r.container===undefined||r.container===t?i=$window.width()+$window.scrollLeft():i=$container.offset().left+$container.width(),i<=e(n).offset().left-r.threshold},e.abovethetop=function(n,r){var i;return r.container===undefined||r.container===t?i=$window.scrollTop():i=$container.offset().top,i>=e(n).offset().top+r.threshold+e(n).height()},e.leftofbegin=function(n,r){var i;return r.container===undefined||r.container===t?i=$window.scrollLeft():i=$container.offset().left,i>=
e(n).offset().left+r.threshold+e(n).width()},e.inviewport=function(t,n){return!e.rightofscreen(t,n)&&!e.leftofscreen(t,n)&&!e.belowthefold(t,n)&&!e.abovethetop(t,n)},e.extend(e.expr[":"],{"below-the-fold":function(n){return e.belowthefold(n,{threshold:0,container:t})},"above-the-top":function(n){return!e.belowthefold(n,{threshold:0,container:t})},"right-of-screen":function(n){return e.rightoffold(n,{threshold:0,container:t})},"left-of-screen":function(n){return!e.rightoffold(n,{threshold:0,container
:t})},"in-viewport":function(n){return!e.inviewport(n,{threshold:0,container:t})},"above-the-fold":function(n){return!e.belowthefold(n,{threshold:0,container:t})},"right-of-fold":function(n){return e.rightoffold(n,{threshold:0,container:t})},"left-of-fold":function(n){return!e.rightoffold(n,{threshold:0,container:t})}})}(jQuery,window),define("lazyload",function(){}),define("plex/view/lists/dashboard/DashboardPlaylistList",["hb!templates/lists/dashboard/DashboardPlaylistList.tpl","plex/view/BaseView"
,"plex/view/lists/dashboard/items/DashboardPlaylistListItem","lazyload","spin"],function(e,t,n){var r=t.extend({className:"well",spinner:null,unwatched:null,currentIndex:0,events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},initialize:function(e){this.spinner=new Spinner({color:"#555",radius:5,width:2,length:4,zIndex:1,left:120,top:16}),this.addBinding(this.collection,"reset",this.onReset),this.collection.fetch({hideLoadingAlert:!0}),this.loadPosterThrottle=_.throttle
(_.debounce(this.loadPoster,500),100)},render:function(){if(this.unwatched)if(this.unwatched.length){this.$el.html(e({index:this.currentIndex+1,total:this.unwatched.length,showPrevious:this.currentIndex>0,showNext:this.currentIndex+1<this.unwatched.length,playlistName:this.collection.playlistName,playlistLabel:this.collection.playlistLabel}));var t=this.unwatched[this.currentIndex],r=new n({model:t});this.$(".dashboard-"+this.collection.playlistName+"-list").append(r.render().el),this.loadPosterThrottle
()}else this.$el.html(e({empty:!0,playlistName:this.collection.playlistName,playlistLabel:this.collection.playlistLabel}));else this.$el.html(e({loading:!0,playlistName:this.collection.playlistName,playlistLabel:this.collection.playlistLabel})),this.spinner.spin(this.$(".spinner-container")[0]);return this},destroy:function(){this.spinner.stop(),t.prototype.destroy.call(this)},loadPoster:function(){this.$(".poster").lazyload({threshold:100})},onReset:function(e){this.unwatched=e.unwatched(),this.
render()},onPreviousClick:function(e){e.preventDefault(),this.currentIndex>0&&(this.currentIndex--,this.render())},onNextClick:function(e){e.preventDefault(),this.currentIndex+1<this.unwatched.length&&(this.currentIndex++,this.render())}});return r}),define("plex/view/DashboardView",["hb!templates/DashboardView.tpl","plex/model/AppModel","plex/view/BaseView","plex/view/dashboard/DashboardLoginView","plex/view/lists/dashboard/DashboardSectionList","plex/view/lists/dashboard/DashboardChannelList","plex/view/lists/dashboard/DashboardPlaylistList"
],function(e,t,n,r,i,s,o){var u=n.extend({className:"container-fluid",myLibraryList:null,sharedLibraryList:null,channelList:null,loginView:null,playlistNames:["queue","recommendations"],playlistViews:{},initialize:function(){var e=t.get("primaryServer"),n=t.get("myPlex");e.get("shared")||(this.myLibraryList=this.registerView(new i({collection:this.collection,shared:!1})),this.channelList=this.registerView(new s({collection:this.collection}))),n.get("signedIn")?(this.sharedLibraryList=this.registerView
(new i({collection:this.collection,shared:!0})),_.each(this.playlistNames,function(e){this.playlistViews[e]=this.registerView(new o({collection:t.get("playlists")[e]}))},this)):(this.loginView=this.registerView(new r),this.addBinding(this.loginView,"signedIn",this.onSignIn))},render:function(){return this.$el.html(e()),this.myLibraryList&&this.$(".dashboard-main").append(this.myLibraryList.render().el),this.channelList&&this.$(".dashboard-main").append(this.channelList.render().el),this.sharedLibraryList&&
this.$(".dashboard-main").append(this.sharedLibraryList.render().el),_.each(this.playlistViews,_.bind(function(e){this.$(".dashboard-sidebar").append(e.render().el)},this)),this.loginView&&this.$(".dashboard-sidebar").append(this.loginView.render().el),this},onSignIn:function(e,t){this.removeAllViews(),this.removeAllBindings(),this.myLibraryList=null,this.channelList=null,this.sharedLibraryList=null,this.playlistViews={},this.loginView=null,this.initialize(),this.render()}});return u}),define("hb!templates/setup/SetupView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+='\n		<div class="setup-starting-container">\n			<div class="spinner-container"></div><br>\n			',i="Please wait a moment while Plex starts.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'\n		</div>\n		<div class="setup-error-container error-container hide">\n			<i class="plex-icon-sad"></i>\n			<p class="error-message">',i="A problem has been detected with a core component of Plex. Please visit the <a href='http://forums.plexapp.com/' target='_blank'>forums</a> and provide your logs, as described <a href='http://wiki.plexapp.com/index.php/PlexNine_Tips_and_Tricks#Plex_Log_Files' target='_blank'>here</a>."
,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</p>\n		</div>\n	",r}function m(e,t){var r="",i,s;return r+='\n		<div class="setup-progress">\n			<div class="intro-segment setup-progress-segment active">\n				<a class="change-view-btn segment-title gray" data-view="intro" href="#">',i="Introduction",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n			</div><div class="setup-segment setup-progress-segment">\n				<a class="change-view-btn segment-title gray" data-view="setup" href="#">'
,i="Basic Setup",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n			</div><div class="library-segment setup-progress-segment">\n				<a class="change-view-btn segment-title gray" data-view="library" href="#">',i="Library",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n			</div><div class="channels-segment setup-progress-segment">\n				<a class="change-view-btn segment-title gray" data-view="channels" href="#">'
,i="Channels",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n			</div><div class="myplex-segment setup-progress-segment">\n				<a class="change-view-btn segment-title gray" data-view="myplex" href="#">',i="myPlex",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n			</div>\n		</div>\n\n		<div class="setup-container"></div>\n	',r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing
,p=void 0,d=this.escapeExpression;s+='<div class="row-fluid">\n	<a class="skip-btn" href="#!/dashboard">',o="Skip",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</a>\n\n	<h1>",o="Get Started",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</h1>\n\n	",a=n.starting,o=a||t.starting,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(3,m,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n</div>\n"
,s})}),define("hb!templates/setup/SetupIntroView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+="<h2>",o="Welcome to the Plex Media Server!",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h2>\n\n<p class="muted">',o="In the next few steps, you'll tell Plex where your music, videos, and photos are stored. Plex will create a beautiful library and organize your media inside it."
,a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</p>\n\n<p class="muted">',o="We will then show you how to get iOS, Android, Mac, PC, and Connected TV apps so that you can access your library from any devices you own, both inside the home and on the go.",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'\n\n<p class="server-intro-graphic">\n	<img src="img/setup_wizard_server.png" width="780" height="269">\n</p>\n\n<div class="form-actions pull-center">\n		<a class="change-view-btn btn btn-primary btn-large" data-view="setup" href="#">'
,o="Start",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+"</i></a>\n</div>\n",s})}),define("plex/view/setup/SetupIntroView",["hb!templates/setup/SetupIntroView.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({initialize:function(){},render:function(){return this.$el.html(e({server:this.model.toJSON()})),this}});return n}),define("hb!templates/setup/SetupServerView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v
(e,t){var r="",i,s;return r+='\n		<p class="muted">\n			',i="Let's start by giving your Plex server a friendly name so it can identify itself to other computers on the network. If you leave it blank, your computer name will be used.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'\n		</p>\n		<div class="control-group">\n			<label class="control-label" for="',a=n.friendlyName,i=a||e.friendlyName,i=i===null||i===undefined||i===!1?i:i.id,typeof i===
c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"friendlyName.id",{hash:{}})),r+=d(i)+'">',a=n.friendlyName,i=a||e.friendlyName,i=i===null||i===undefined||i===!1?i:i.label,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"friendlyName.label",{hash:{}})),r+=d(i)+'</label>\n			<div class="controls">\n				<input type="text" id="',a=n.friendlyName,i=a||e.friendlyName,i=i===null||i===undefined||i===!1?i:i.id,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"friendlyName.id",{hash:{}})),r+=d(i)+'" name="'
,a=n.friendlyName,i=a||e.friendlyName,i=i===null||i===undefined||i===!1?i:i.id,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"friendlyName.id",{hash:{}})),r+=d(i)+'" class="span5" value="',a=n.friendlyName,i=a||e.friendlyName,i=i===null||i===undefined||i===!1?i:i.value,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"friendlyName.value",{hash:{}})),r+=d(i)+'" placeholder="',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.name,typeof i===c?i=i.call(e,{hash:{}}):i===p&&
(i=h.call(e,"server.name",{hash:{}})),r+=d(i)+'">\n			</div>\n		</div>\n	',r}function m(e,t){var r="",i,s;return r+='\n		<p class="muted">\n			',i="Would you like to help us make Plex better for everyone? We collect anonymous data, which we use to improve the service over time.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'\n		</p>\n		<div class="control-group">\n			<label class="control-label" for="',a=n.collectUsageData,i=a||e.collectUsageData
,i=i===null||i===undefined||i===!1?i:i.id,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"collectUsageData.id",{hash:{}})),r+=d(i)+'">',i="Send feedback",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</label>\n			<div class="controls">\n				<input type="checkbox" id="',a=n.collectUsageData,i=a||e.collectUsageData,i=i===null||i===undefined||i===!1?i:i.id,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"collectUsageData.id",{hash:{}}
)),r+=d(i)+'" name="',a=n.collectUsageData,i=a||e.collectUsageData,i=i===null||i===undefined||i===!1?i:i.id,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"collectUsageData.id",{hash:{}})),r+=d(i)+'" class="input-dark" checked="checked">\n			</div>\n		</div>\n	',r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+="<h2>",o="Basic Setup",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h2>\n\n<form class="form-horizontal">\n	'
,a=n.friendlyName,o=a||t.friendlyName,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n	",a=n.collectUsageData,o=a||t.collectUsageData,u=n["if"],f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n	<p class="muted">\n		',o="If you would like to receive announcements about Plex, please enter your email address below. Don't worry, we won't send you spam.",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,
{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n	</p>\n	<div class="control-group">\n			<label class="control-label" for="email">Email</label>\n			<div class="controls">\n				<input type="text" id="email" name="email" class="span5">\n			</div>\n	</div>\n\n	<div class="form-actions">\n		<a class="next-btn btn btn-primary btn-medium" href="#">',o="Next",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+' <i class="glyphicon right-arrow"></i></a>\n	</div>\n</form>\n'
,s})}),define("plex/view/setup/SetupServerView",["hb!templates/setup/SetupServerView.tpl","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView","jquery"],function(e,t,n,r,i){var s=r.extend({friendlyName:null,collectUsageData:null,events:{"change input[name]":"onPreferenceChange","change select[name]":"onPreferenceChange","click .next-btn":"onNextClick"},initialize:function(){var e=this.model.get("preferences");this.friendlyName=e.get("FriendlyName"),this.collectUsageData=
e.get("collectUsageData"),this.addBinding(e,"reset",this.onPreferencesReset),e.populate()},render:function(){var t={server:this.model.toJSON()};return this.model.supports("firstRunPref")?this.changes={FirstRun:!1}:this.changes={},this.friendlyName&&(t.friendlyName=this.friendlyName.toJSON()),this.collectUsageData&&(t.collectUsageData=this.collectUsageData.toJSON()),this.$el.html(e(t)),this},onPreferencesReset:function(e){this.friendlyName=e.get("FriendlyName"),this.collectUsageData=e.get("collectUsageData"
),this.render()},onPreferenceChange:function(e){var t=e.currentTarget,n=t.value;t.type==="checkbox"&&!t.checked&&(n="0"),this.changes[t.name]=n},onNextClick:function(e){e.preventDefault(),this.changes.email&&(i.ajax({type:"POST",url:"https://my.plexapp.com/mailinglist/optin",data:{email:this.changes.email}}),delete this.changes.email),this.friendlyName.save(this.changes).done(_.bind(function(){this.trigger("view:change","library")},this)).fail(function(){n.set("alert",{status:"error",message:t.t("There was a problem saving your server settings."
)})})}});return s}),define("hb!templates/setup/SetupMyPlexView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r="",i,s,o;r+='\n			<p><i class="glyphicon ok-2"></i> ',i="Signed in as",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+" ",i=20,f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.username,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate"
,s,i,{hash:{}}):i=o,r+=v(i)+' &middot; <a class="sign-out-btn" href="#">',i="Sign Out",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n\n			",f=n.account,i=f||e.account,i=i===null||i===undefined||i===!1?i:i.mappingError,s=n["if"],l=c.program(2,y,t),l.hash={},l.fn=l,l.inverse=c.program(13,N,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n		",r}function y(e,t){var r="",i,s,o;r+="\n				",i="badauth",f=n.account,s=f||e.account,s=s===null||
s===undefined||s===!1?s:s.mappingError,f=n.if_eq,o=f||e.if_eq,l=c.program(3,b,t),l.hash={},l.fn=l,l.inverse=c.program(5,w,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n			",r}function b(e,t){var r="",i,s;return r+='\n					<p><i class="glyphicon remove-2"></i> ',i="Unable to authenticate your server",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=
f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n				",r}function w(e,t){var r="",i,s,o;i="unreachable",f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.mappingError,f=n.if_eq,o=f||e.if_eq,l=c.program(6,E,t),l.hash={},l.fn=l,l.inverse=c.program(8,S,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n				",r}function E(e,t){var r="",i,s;return r+='\n					<p><i class="glyphicon remove-2"></i> ',i="myPlex could not reach your server"
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n				",r}function S(e,t){var r="",i,s,o;i="myplexgone",f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.mappingError,f=n.if_eq,o=f||e.if_eq,l=c.program(9,x,t),l.hash={},l.fn=l,l.inverse=c.program(11,T,t),f&&typeof o===h?i=o.call
(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n				",r}function x(e,t){var r="",i,s;return r+='\n					<p><i class="glyphicon remove-2"></i> ',i="myPlex is not responding",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n				",r}function T(e,t){var r="",i,s;return r+='\n					<p><i class="glyphicon remove-2"></i> '
,i="There was a problem connecting your server",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n				",r}function N(e,t){var r="",i,s,o;r+="\n				",i="mapped",f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.mappingState,f=n.if_eq,o=f||e.if_eq,l=c.program(14,C,t),l.hash={},
l.fn=l,l.inverse=c.program(16,k,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n			",r}function C(e,t){var r="",i,s,o;return r+='\n					<p><i class="glyphicon ok-2"></i> ',f=n.account,i=f||e.account,i=i===null||i===undefined||i===!1?i:i.publicPort,s="Server is mapped to port {1}",f=n.t,o=f||e.t,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"t",s,i,{hash:{}}):i=o,r+=v(i)+"</p>\n				",r}function k(e,t){var r="",i,s;return r+='\n					<p class="setup-myplex-loading">'
,i="Connecting server...",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</p>\n				",r}function L(e,t){var r="",i,s;return r+='\n			<a class="change-form-btn" href="#">',i="Already have an account?",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n			<a class="change-form-btn hide" href="#">',i="Need an account?",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash
:{}}):i=s,r+=v(i)+"</a>\n\n			<h3>",i="Sign Up",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</h3>\n			<h3 class="hide">',i="Sign In",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</h3>\n\n			<div class="username-group control-group">\n				<span class="help-inline"></span>\n				<label class="control-label" for="username">',i="Username",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===
d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n				<div class="controls">\n					<input type="text" id="username" name="username">\n				</div>\n			</div>\n\n			<div class="email-group control-group">\n				<span class="help-inline"></span>\n				<label class="control-label" for="email">',i="Email",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n				<div class="controls">\n					<input type="text" id="email" name="email">\n				</div>\n			</div>\n\n			<div class="password-group control-group">\n				<span class="help-inline"></span>\n				<label class="control-label" for="password">'
,i="Password",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n				<div class="controls">\n					<input type="password" id="password" name="password">\n				</div>\n				<a class="forgot-password-btn hide" href="https://my.plexapp.com/users/password/new" target="_blank">',i="Forgot Password?",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n			</div>\n\n			<div class="confirmPassword-group control-group">\n				<span class="help-inline"></span>\n				<label class="control-label" for="confirmPassword">'
,i="Confirm Password",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n				<div class="controls">\n					<input type="password" id="confirmPassword" name="confirmPassword">\n				</div>\n			</div>\n		',r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;s+="<h2>",o="Connect Your Server to myPlex",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(
t,"t",o,{hash:{}}):o=u,s+=v(o)+'</h2>\n\n<p class="muted">',o="myPlex makes it easy to get to your media no matter where you are.",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</p>\n\n<p class="muted">',o="With a myPlex account you will be able to queue up video from your browser,<br>access your content from outside your home and easily share content with friends and family.",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t
,"t",o,{hash:{}}):o=u,s+=v(o)+'</p>\n\n<div class="myplex-container">\n	<i class="plex-icon-myplex pull-left"></i>\n\n	<form class="setup-myplex-form">\n		',o="ok",f=n.account,u=f||t.account,u=u===null||u===undefined||u===!1?u:u.signInState,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(18,L,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+='\n	</form>\n</div>\n\n<div class="form-actions">\n	<a class="next-btn btn btn-primary btn-medium" href="#">'
,o="Next",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+' <i class="glyphicon right-arrow"></i></a>\n</div>\n',s})}),define("plex/view/setup/SetupMyPlexView",["hb!templates/setup/SetupMyPlexView.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView","jquery"],function(e,t,n,r,i){var s={username:"A username is required",email:"An email address is required",password:"A password is required",confirmPassword:"You must confirm your password"
,confirmPasswordMatch:"Your passwords do not match"},o=r.extend({signedIn:!1,published:!1,publishing:!1,failed:!1,autoAdvance:!1,pollInterval:null,events:{"click .change-form-btn":"onChangeFormClick","click .sign-out-btn":"onSignOutClick","click .retry-btn":"onRetryClick","blur input[name]":"onInputBlur","keypress .setup-myplex-form":"onFormKeyPress","click .next-btn":"onSubmit"},initialize:function(){var e=this.model.get("myPlexAccount");this.addBinding(e,"change:signInState",this.onAccountChange
),this.addBinding(e,"change:mappingState",this.onAccountChange),this.addBinding(e,"change:publicPort",this.onAccountChange),e.fetch({hideLoadingAlert:!0}).done(_.bind(function(){this.update(!0)},this));var t=this.model.get("preferences"),n=t.get("PublishServerOnPlexOnlineKey");n&&(this.published=n.get("value")),this.addBinding(t,"reset",this.onPreferencesReset),t.populate()},render:function(){var t=this.model.get("myPlexAccount");return this.$el.html(e({account:t.toJSON()})),this},destroy:function(
){return clearInterval(this.pollInterval),this.pollInterval=null,r.prototype.destroy.apply(this,arguments)},update:function(e){var t=this.model.get("myPlexAccount"),n=t.get("signInState"),r=t.get("mappingState");this.signedIn=n==="ok",this.published=r==="mapped";if(this.signedIn){r==="waiting"||r==="unknown"?this.pollInterval||(this.pollInterval=setInterval(function(){t.fetch({hideLoadingAlert:!0})},500)):(clearInterval(this.pollInterval),this.pollInterval=null,this.publishing=!1),this.published&&
this.autoAdvance&&(this.autoAdvance=!1,this.trigger("view:change","complete")),t.get("mappingState")==="failed"&&(e?this.retry():this.failed=!0);if(r==="unknown"){var i=this.model.get("preferences"),s=i.get("PublishServerOnPlexOnlineKey");(!s||!s.get("value"))&&this.publish()}}},signIn:function(e,r){if(!this.validateAll())return;var i=n.get("myPlex"),s=this.model.get("myPlexAccount"),o={username:e,password:r};this.autoAdvance=!0,t.trigger("command:ServerSignIn",s,o,_.bind(function(){if(i.get("signedIn"
)){s.fetch();return}var n={username:e,password:r,silent:!0};t.trigger("command:ShowLoading",!0),t.trigger("command:SignIn",n,function(){t.trigger("command:ShowLoading",!1),s.fetch()})},this))},signUp:function(e,r,i,s){if(!this.validateAll())return;var o=n.get("myPlex"),u=this.model.get("myPlexAccount"),a={username:e,email:r,password:i};this.autoAdvance=!0,t.trigger("command:ServerSignUp",u,a,_.bind(function(){if(o.get("signedIn")){u.fetch();return}var n={username:e,password:i,silent:!0};t.trigger
("command:ShowLoading",!0),t.trigger("command:SignIn",n,function(){t.trigger("command:ShowLoading",!1),u.fetch()})},this))},signOut:function(){var e=this.model.get("myPlexAccount");t.trigger("command:ServerSignOut",e,_.bind(function(){e.fetch()},this))},publish:function(){var e=this.model.get("myPlexAccount");this.publishing=!0,this.failed=!1,this.published?this.trigger("view:change","complete"):t.trigger("command:PublishServer",this.model,!0,_.bind(function(){e.fetch({hideLoadingAlert:!0})},this
))},retry:function(){t.trigger("command:PublishServer",this.model,!1,_.bind(this.publish,this))},validate:function(e){var t=e.name,n=i(e).closest("."+t+"-group");return n.hasClass("hide")?null:e.value===""?(n.addClass("error"),n.find(".help-inline").text(s[t]),!1):t==="confirmPassword"&&e.value!==e.form.password.value?(n.addClass("error"),n.find(".help-inline").text(s.confirmPasswordMatch),!1):(n.removeClass("error"),n.find(".help-inline").text(""),!0)},validateAll:function(){var e=!0,t=0;for(var n in 
s){var r=this.$("input[name="+n+"]")[0];if(r){var i=this.validate(r);i===!0?t++:i===!1&&(e=!1)}}return t===0&&this.trigger("view:change","complete"),e},onAccountChange:function(e,t){this.render(),this.update()},onPreferencesReset:function(e){this.published=e.get("PublishServerOnPlexOnlineKey").get("value")},onChangeFormClick:function(e){e.preventDefault(),this.$("h3, .change-form-btn, .email-group, .confirmPassword-group, .forgot-password-btn").toggleClass("hide")},onSignOutClick:function(e){e.preventDefault
(),this.signOut()},onRetryClick:function(e){e.preventDefault(),this.retry()},onInputBlur:function(e){this.validate(e.target)},onFormKeyPress:function(e){e.keyCode===13&&this.onSubmit(e)},onSubmit:function(e){e.preventDefault();if(!this.signedIn){var t=this.$(".setup-myplex-form")[0];this.$(".confirmPassword-group").hasClass("hide")?this.signIn(t.username.value,t.password.value):this.signUp(t.username.value,t.email.value,t.password.value,t.confirmPassword.value)}else!this.published&&!this.publishing&&!
this.failed?this.publish():this.trigger("view:change","complete")}});return o}),define("hb!templates/setup/SetupLibraryView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+="<h2>",o="Create Your Media Library",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h2>\n\n<p class="muted">',o="Plex organizes your library into sections, organized by type. You can add as many sections as you want, and you can have multiple sections with the same type."
,a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</p>\n\n<div class="setup-add-section-container">\n	<a class="add-btn btn btn-inverse btn-medium" href="#"><i class="glyphicon-plus"></i> ',o="Add a Section",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</a>\n</div>\n\n<div class="form-actions">\n	<a class="next-btn btn btn-primary btn-medium" href="#">',o="Next",a=n.t,u=a||t.t,typeof u===l?o=u.
call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+' <i class="glyphicon right-arrow"></i></a>\n</div>\n',s})}),define("hb!templates/lists/items/SectionTileListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a class="delete-btn" href="#"><i class="glyphicon circle-remove"></i></a>\n<i class="poster section-poster plex-icon-',u=n.type,o=u||t.type,typeof 
o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"type",{hash:{}})),s+=h(o)+'"></i>\n<span class="section-label">',u=n.title,o=u||t.title,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"title",{hash:{}})),s+=h(o)+'</span>\n<span class="server-label">',u=n.name,o=u||t.name,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"name",{hash:{}})),s+=h(o)+"</span>\n",s})}),define("plex/view/lists/items/SectionTileListItem",["hb!templates/lists/items/SectionTileListItem.tpl","plex/control/Dispatcher"
,"plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",events:{"click .delete-btn":"onDeleteClick"},initialize:function(){this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e(this.model.toJSON())),this},onDeleteClick:function(e){e.preventDefault(),t.trigger("command:DeleteSection",this.model)}});return r}),define("plex/view/lists/SectionTileList",["plex/view/lists/BaseList","plex/view/lists/items/SectionTileListItem"],function(e,t){var n=e.extend
({tagName:"ul",className:"tile-list section-tile-list",initialize:function(){this.setup(t),this.collection.fetch()},render:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("plex/view/setup/SetupLibraryView",["hb!templates/setup/SetupLibraryView.tpl","plex/model/AppModel","plex/view/BaseView","plex/view/lists/SectionTileList","plex/view/modals/EditSectionModal"],function(e,t,n,r,i){var s=n.extend({sectionList:null,events:{"click .add-btn":"onAddClick","click .next-btn"
:"onNextClick"},initialize:function(){var e=this.model.get("sections");this.sectionList=this.registerView(new r({collection:e}))},render:function(){return this.$el.html(e({server:this.model.toJSON()})),this.$(".setup-add-section-container").before(this.sectionList.render().el),this},onAddClick:function(e){e.preventDefault(),t.set("modal",new i({server:this.model}))},onNextClick:function(e){e.preventDefault(),this.trigger("view:change","channels")}});return s}),define("hb!templates/setup/SetupChannelsView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s,o;r+='\n	<div class="required-plugins">\n		<h3>',i="Required Plugins",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</h3>\n		<p class="muted">',i="Channels may require plugins to be installed alongside the media server. Click on the links below to download the installer for each plugin.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call
(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</p>\n\n		<p class="plugin-list">\n			',i="0",a=n.server,s=a||e.server,s=s===null||s===undefined||s===!1?s:s.flashInstalled,a=n.if_eq,o=a||e.if_eq,f=l.program(2,g,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;r+="\n\n			",i="0",a=n.server,s=a||e.server,s=s===null||s===undefined||s===!1?s:s.silverlightInstalled,a=n.if_eq,o=a||e.if_eq,f=l.program(7,w,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=
o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;r+="\n\n			",i="0",a=n.server,s=a||e.server,s=s===null||s===undefined||s===!1?s:s.soundflowerInstalled,a=n.if_eq,o=a||e.if_eq,f=l.program(9,E,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;return r+="\n		</p>\n	</div>\n",r}function g(e,t){var r="",i,s;r+='\n				<span class="required-plugin">\n					',a=n.mac,i=a||e.mac,s=n["if"],f=l.program(3,y,t),f.hash={},f.fn=f,f.inverse=l.program(5
,b,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+='\n						<img src="img/plugins/flash.png" width="80" height="80"><br>\n						Flash Player\n					</a>\n				</span>\n			',r}function y(e,t){return'\n						<a href="http://fpdownload.adobe.com/pub/flashplayer/current/support/install_flash_player_osx.dmg">\n					'}function b(e,t){return'\n						<a href="http://fpdownload.adobe.com/pub/flashplayer/current/support/install_flash_player.exe">\n					'}function w(e,t){return'\n				<span class="required-plugin">\n					<a href="http://www.microsoft.com/getsilverlight/handlers/getsilverlight.ashx">\n						<img src="img/plugins/silverlight.png" width="80" height="80"><br>\n						Silverlight\n					</a>\n				</span>\n			'
}function E(e,t){return'\n				<span class="required-plugin">\n					<a href="http://soundflower.googlecode.com/files/Soundflower-1.6.6b.dmg">\n						<img src="img/plugins/soundflower.png" width="80" height="80"><br>\n						Soundflower\n					</a>\n				</span>\n			'}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression,v=n.blockHelperMissing;s+="<h2>",o="Install Channels",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash
:{}}):o=u,s+=d(o)+'</h2>\n\n<p class="muted">',o="Plex channels give you access to online media from a variety of sites. You can browse and install these channels from the Channel Directory, but get started by installing some featured channels.",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</p>\n\n",a=n.showPlugins,o=a||t.showPlugins,u=n["if"],f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n<div class="featured-channels">\n	<h3>'
,o="Featured Channels",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="form-actions">\n	<a class="next-btn btn btn-primary btn-medium" href="#">',o="Next",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+' <i class="glyphicon right-arrow"></i></a>\n</div>\n',s})}),define("hb!templates/lists/channels/items/ChannelTileListItem.tpl",["handlebars"],function(e){return e.template
(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a href="#" title="',u=n.channel,o=u||t.channel,o=o===null||o===undefined||o===!1?o:o.name,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"channel.name",{hash:{}})),s+=h(o)+'">\n	<i class="installed-icon glyphicon ok-2"></i>\n\n	<img class="poster channel-poster" width="100" height="100">\n	<div class="poster-title"></div>\n</a>\n',s})}),define("hb!templates/modals/ChannelModal.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function b(e,t){var r="",i,s,o;r+="\n			",i="Install",c=n.name,s=c||e.name,c=n.if_eq,o=c||e.if_eq,h=p.program(2,w,t),h.hash={},h.fn=h,h.inverse=p.noop,c&&typeof o===d?i=o.call(e,s,i,h):i=y.call(e,o,s,i,h);if(i||i===0)r+=i;r+="\n\n			",i="Update",c=n.name,s=c||e.name,c=n.if_eq,o=c||e.if_eq,h=p.program(4,E,t),h.hash={},h.fn=h,h.inverse=p.noop,c&&typeof o===d?i=o.call(e,s,i,h):i=y.call(e,o,s,i,h);if(i||i===0)r+=i;r+="\n\n			",i="Restart"
,c=n.name,s=c||e.name,c=n.if_eq,o=c||e.if_eq,h=p.program(6,S,t),h.hash={},h.fn=h,h.inverse=p.noop,c&&typeof o===d?i=o.call(e,s,i,h):i=y.call(e,o,s,i,h);if(i||i===0)r+=i;r+="\n\n			",i="Reset",c=n.name,s=c||e.name,c=n.if_eq,o=c||e.if_eq,h=p.program(8,x,t),h.hash={},h.fn=h,h.inverse=p.noop,c&&typeof o===d?i=o.call(e,s,i,h):i=y.call(e,o,s,i,h);if(i||i===0)r+=i;r+="\n\n			",i="Uninstall",c=n.name,s=c||e.name,c=n.if_eq,o=c||e.if_eq,h=p.program(10,T,t),h.hash={},h.fn=h,h.inverse=p.noop,c&&typeof o===d?
i=o.call(e,s,i,h):i=y.call(e,o,s,i,h);if(i||i===0)r+=i;return r+="\n		",r}function w(e,t){var r="",i,s;return r+='\n				<a class="btn btn-primary action-btn install-btn" data-key="',c=n.key,i=c||e.key,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"key",{hash:{}})),r+=g(i)+'" href="#"><i class="glyphicon circle-arrow-down"></i> ',c=n.name,i=c||e.name,c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+"</a>\n			",r}function E(e,t){var r="",i,s;
return r+='\n				<a class="btn btn-primary browse-btn" href="#"><i class="glyphicon show-thumbnails"></i> ',i="Browse",c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+'</a>\n\n				<div class="btn-group">\n					<a class="btn btn-inverse action-btn" data-key="',c=n.key,i=c||e.key,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"key",{hash:{}})),r+=g(i)+'" href="#"><i class="glyphicon circle-arrow-top"></i> ',c=n.name,i=c||e.name,c=n.t,s=c||e.t
,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+'</a>\n					<a class="btn btn-inverse dropdown-toggle" data-toggle="dropdown">\n						<span class="caret"></span>\n					</a>\n					<ul class="dropdown-menu dropdown-menu-large pull-right">\n						<li><a class="action-btn" data-key="',c=n.key,i=c||e.key,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"key",{hash:{}})),r+=g(i)+'" href="#">',c=n.name,i=c||e.name,c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}
}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+"</a></li>\n			",r}function S(e,t){var r="",i,s;return r+='\n						<li><a class="action-btn" data-key="',c=n.key,i=c||e.key,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"key",{hash:{}})),r+=g(i)+'" href="#">',c=n.name,i=c||e.name,c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+"</a></li>\n			",r}function x(e,t){var r="",i,s;return r+='\n						<li><a class="action-btn" data-key="',c=n.key,i=
c||e.key,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"key",{hash:{}})),r+=g(i)+'" href="#">',c=n.name,i=c||e.name,c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+"</a></li>\n					</ul>\n				</div>\n			",r}function T(e,t){var r="",i,s;return r+='\n				<a class="btn btn-danger action-btn" data-key="',c=n.key,i=c||e.key,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"key",{hash:{}})),r+=g(i)+'" href="#"><i class="glyphicon ban"></i> '
,c=n.name,i=c||e.name,c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+"</a>\n			",r}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression,y=n.blockHelperMissing;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3>',c=n.channel,o=c||t.channel,o=o===null||o===undefined||o===!1?o:o.name,typeof o===d?o=o.call(t
,{hash:{}}):o===m&&(o=v.call(t,"channel.name",{hash:{}})),s+=g(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	<div class="channel-controls">\n		<img class="poster channel-poster" src="',o=200,u=200,c=n.channel,a=c||t.channel,a=a===null||a===undefined||a===!1?a:a.thumb,c=n.serverObj,f=c||t.serverObj,c=n.transcodeImage,l=c||t.transcodeImage,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"transcodeImage",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'" width="200" height="200">\n\n		'
,c=n.actions,o=c||t.actions,u=n.each,h=p.program(1,b,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;return s+='\n	</div>\n\n	<div class="channel-details">\n		<p class="summary">',o=500,c=n.channel,u=c||t.channel,u=u===null||u===undefined||u===!1?u:u.summary,c=n.truncate,a=c||t.truncate,typeof a===d?o=a.call(t,u,o,{hash:{}}):a===m?o=v.call(t,"truncate",u,o,{hash:{}}):o=a,s+=g(o)+"</p>\n	</div>\n</div>\n",s})}),define("plex/view/modals/ChannelModal",["hb!templates/modals/ChannelModal.tpl"
,"plex/control/Dispatcher","plex/view/BaseView","jquery"],function(e,t,n,r){var i=n.extend({name:"channelModal",className:"modal channel-modal fade",closeOnInstall:!1,events:{hidden:"onClose","click .action-btn":"onActionClick","click .browse-btn":"onBrowseClick"},initialize:function(e){this.closeOnInstall=e.closeOnInstall;var t=this.model.get("actions");t.url=this.model.id,this.addBinding(t,"reset",this.render),t.fetch()},render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL
:this.model.server.url(),serverObj:this.model.server,channel:this.model.toJSON(),actions:this.model.get("actions").toJSON()})).modal(),this},onClose:function(e){t.trigger("destroy:modal",this)},onActionClick:function(e){e.preventDefault();var n=r(e.target);n.addClass("disabled");var i=_.bind(function(){n.hasClass("install-btn")&&this.closeOnInstall?this.$el.modal("hide"):(n.removeClass("disabled"),this.model.get("actions").fetch())},this);t.trigger("command:ChannelAction",this.model,n.data("key")
,i)},onBrowseClick:function(e){e.preventDefault();var n=this.model.get("key"),r=_.last(n.split("/"));this.$el.modal("hide"),t.trigger("navigate:channelByIdentifier",this.model.server.id,r)}});return i}),define("plex/view/lists/channels/items/ChannelTileListItem",["hb!templates/lists/channels/items/ChannelTileListItem.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView","plex/view/modals/ChannelModal"],function(e,t,n,r,i){var s=r.extend({tagName:"li",closeOnInstall:!1,events:{"click a"
:"onClick"},initialize:function(e){this.closeOnInstall=e.list.closeOnInstall,this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({channel:this.model.toJSON()})),this.bindView(),this},bindings:{".poster-title":{modelAttr:"name"},".channel-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,100,100);e.data("original",n),this.trigger("change:poster"
)}},".installed-icon":{modelAttr:"installed",hideEmpty:!0,format:function(e,t){t?e.removeClass("hide"):e.addClass("hide")}}},onClick:function(e){e.preventDefault(),n.set("modal",new i({model:this.model,closeOnInstall:this.closeOnInstall}))}});return s}),define("plex/view/lists/channels/ChannelTileList",["plex/view/lists/BaseList","plex/view/lists/channels/items/ChannelTileListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"tile-list channel-tile-list",closeOnInstall:!1,initialize:function(
e){this.setup(t),this.closeOnInstall=e.closeOnInstall,this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100)},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"change:poster",this.loadPosterThrottle),this.loadPosterThrottle()},loadPoster:function(){this.$(".poster").lazyload({threshold:100})}});return n}),define("plex/view/setup/SetupChannelsView",["hb!templates/setup/SetupChannelsView.tpl"
,"plex/model/collections/ChannelCollection","plex/view/BaseView","plex/view/lists/channels/ChannelTileList","jquery"],function(e,t,n,r,i){var s=n.extend({channelList:null,events:{"click .next-btn":"onNextClick"},initialize:function(){var e=new t([],{server:this.model,url:"/system/appstore/featured"});e.fetch({hideLoadingAlert:!0}),this.channelList=this.registerView(new r({collection:e,closeOnInstall:!0}))},render:function(){var t=this.model.get("flashInstalled"),n=this.model.get("flashInstalled")
,r=this.model.get("soundflowerInstalled");return this.$el.html(e({server:this.model.toJSON(),showPlugins:t==="0"||n==="0"||r==="0",mac:navigator.appVersion.indexOf("Mac")>-1})),this.$(".featured-channels").append(this.channelList.render().el),this},onNextClick:function(e){e.preventDefault(),this.trigger("view:change","myplex")}});return s}),define("hb!templates/setup/SetupCompleteView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+="\n	<h3>"
,i="Add videos to your queue from the browser",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h3>\n\n	<p class=\"queue-email\">\n		<a class=\"queue-bookmarklet-btn well\" href=\"javascript: var s=document.createElement('script');s.type='text/javascript';s.src='https://my.plexapp.com/queue/bookmarklet_payload?uid=",a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.queueUid,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"myPlex.queueUid"
,{hash:{}})),r+=d(i)+"';var h=document.getElementsByTagName('head')[0];h.appendChild(s);void(0);\">â¯ ",i="Plex It!",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n	</p>\n\n	<ol class="muted">\n		<li>',i="Drag the link above to your bookmarks bar.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</li>\n		<li>",i="To save a video to your queue, click ââ¯ Plex It!â in your Bookmarks Bar so you can watch it later."
,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</li>\n		<li>",i="A panel will appear on the left side of the page to let you know the video has been saved.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</li>\n	</ol>\n\n	<h3>",i="Or send videos to your queue by email",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</h3>\n\n	<p class="queue-email">\n		<a class="well" href="mailto:'
,a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.queueEmail,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"myPlex.queueEmail",{hash:{}})),r+=d(i)+'">',a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.queueEmail,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"myPlex.queueEmail",{hash:{}})),r+=d(i)+'</a>\n	</p>\n\n	<p class="muted">',i="Every link that you email to this address will be added to your myPlex queue. Add it to your address book so you can easily email links from your iPhone, iPad, Android, or any other device."
,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</p>\n",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+="<h2>",o="Congratulations!",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h2>\n\n<p class="muted">',o="See, that wasn't too bad, right? At this very moment, Plex is working tirelessly to build your library, and make it look beautiful. Like, there are at least a dozen mice on spinny wheels inside your computer, all peddling furiously."
,a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</p>\n\n<p class="muted">',o="Feel free to watch Plex work, or take this opportunity to <a href='http://www.plexapp.com/getplex/index.php#apps' target='_blank'>download</a> some Plex apps!",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</p>\n\n",a=n.myPlex,o=a||t.myPlex,o=o===null||o===undefined||o===!1?o:o.signedIn,u=n["if"],f=l.program(1,v,i),f
.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n<div class="form-actions pull-center">\n	<a class="next-btn btn btn-primary btn-large" href="#!/dashboard">',o="Done",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</i></a>\n</div>\n",s})}),define("plex/view/setup/SetupCompleteView",["hb!templates/setup/SetupCompleteView.tpl","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView"],function(
e,t,n,r){var i=r.extend({events:{"click .queue-bookmarklet-btn":"onBookmarkletClick"},render:function(){return this.$el.html(e({server:this.model.toJSON(),myPlex:n.get("myPlex").toJSON()})),this},onBookmarkletClick:function(e){e.preventDefault(),n.set("alert",{message:t.t("Drag â¯ Plex It! to your bookmarks.")})}});return i}),define("plex/view/setup/SetupView",["hb!templates/setup/SetupView.tpl","plex/control/Dispatcher","plex/model/collections/AgentCollection","plex/view/BaseView","plex/view/setup/SetupIntroView"
,"plex/view/setup/SetupServerView","plex/view/setup/SetupMyPlexView","plex/view/setup/SetupLibraryView","plex/view/setup/SetupChannelsView","plex/view/setup/SetupCompleteView","jquery","spin"],function(e,t,n,r,i,s,o,u,a,f,l){var c=r.extend({className:"setup-container container well",currentView:"intro",views:{intro:null,setup:null,library:null,channels:null,myplex:null,complete:null},events:{"click .change-view-btn":"onChangeViewClick"},initialize:function(){this.views.intro=this.registerView(new 
i({model:this.model})),this.views.setup=this.registerView(new s({model:this.model})),this.views.library=this.registerView(new u({model:this.model})),this.views.channels=this.registerView(new a({model:this.model})),this.views.myplex=this.registerView(new o({model:this.model})),this.views.complete=this.registerView(new f({model:this.model})),this.addBinding(this.views.setup,"view:change",this.onViewChange),this.addBinding(this.views.library,"view:change",this.onViewChange),this.addBinding(this.views
.channels,"view:change",this.onViewChange),this.addBinding(this.views.myplex,"view:change",this.onViewChange),this.currentView="intro",this.starting=!0,this.model.populate({hideLoadingAlert:!0}).done(_.bind(this.start,this))},render:function(){this.$el.html(e({starting:this.starting}));if(this.starting)this.spinner=new Spinner({color:"#777",width:3,length:5}),this.spinner.spin(this.$(".spinner-container")[0]);else{this.spinner&&this.spinner.stop();var t=this.views[this.currentView];this.$(".setup-container"
).html(t.render().el),t.delegateEvents(),this.updateProgress()}return this},start:function(){if(this.model.get("startState"))this.model.fetch({hideLoadingAlert:!0}).done(_.delay(_.bind(this.start,this),500));else{var e=_.bind(function(){this.starting=!1,this.render()},this),r=_.bind(function(n){var r=!0,i=["com.plexapp.agents.imdb","com.plexapp.agents.thetvdb","com.plexapp.agents.lastfm"];_.each(i,function(e){n.get(e)&&(r=!1)});if(r)this.$(".setup-starting-container").addClass("hide"),this.$(".setup-error-container"
).removeClass("hide");else{var s={server:this.model,silent:!0};t.trigger("command:UpdateChannel",s,e)}},this),i=_.bind(function(){_.delay(_.bind(this.start,this),500)}),s=new n([],{server:this.model});s.fetch({hideLoadingAlert:!0}).done(r).fail(i)}},changeView:function(e){this.currentView!==e&&(this.currentView=e,this.render(),window.scrollTo&&window.scrollTo(0,0))},updateProgress:function(){var e=this.$("."+this.currentView+"-segment"),t,n=!1;e.length&&(t=e[0]),l(".setup-progress-segment").each(
function(e){var r=l(this);n?r.removeClass("active complete"):r.addClass("active complete"),this===t&&(n=!0,r.removeClass("complete"))})},onViewChange:function(e){this.changeView(e)},onChangeViewClick:function(e){e.preventDefault(),this.changeView(l(e.target).data("view"))}});return c}),define("hb!templates/FriendsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r;return a=n.requestsCount,r=a||e.requestsCount,typeof r===c?r=r.call(e,{hash:{}}):r===p&&(
r=h.call(e,"requestsCount",{hash:{}})),d(r)}function m(e,t){return"hide"}function g(e,t){var r;return a=n.friendsCount,r=a||e.friendsCount,typeof r===c?r=r.call(e,{hash:{}}):r===p&&(r=h.call(e,"friendsCount",{hash:{}})),d(r)}function y(e,t){return"hide"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="row-fluid">\n	<h1><i class="glyphicon parents"></i> ',o="Friends",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.
call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h1>\n</div>\n\n<div id="requests-banner" class="banner">\n	<form class="add-friend-form">\n		<input id="add-friend-username" type="text" class="input-dark" placeholder="',o="username or email",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'"> <input type="submit" class="btn btn-primary" value="',o="Add Friend",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'">\n	</form>\n\n	<span class="banner-title">'
,o="Requests",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</span> <span class="banner-count">',a=n.requestsCount,o=a||t.requestsCount,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='</span>\n</div>\n\n<h3 id="received-requests-header" class="requests-header hide">',o="Received",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n\n<h3 id="sent-requests-header" class="requests-header hide">'
,o="Sent",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n\n<div id="requests-empty-message" class="empty-message ',a=n.requestsCount,o=a||t.requestsCount,u=n["if"],f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='">',o="No pending friend requests",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</div>\n\n<div id="friends-banner" class="banner">\n	<span class="banner-title">'
,o="Friends",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</span> <span class="banner-count">',a=n.friendsCount,o=a||t.friendsCount,u=n["if"],f=l.program(5,g,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='</span>\n</div>\n\n<div id="friends-empty-message" class="empty-message ',a=n.friendsCount,o=a||t.friendsCount,u=n["if"],f=l.program(7,y,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='">'
,o="No friends :(",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</div>\n",s})}),define("hb!templates/lists/items/FriendListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r="",i,s;return r+='\n		<button class="accept-btn btn btn-primary"><i class="glyphicon circle-ok"></i> ',i="Accept",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</button>\n		<button class="reject-btn btn btn-danger"><i class="glyphicon ban"></i> '
,i="Reject",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n	",r}function y(e,t){var r="",i,s;return r+='\n		<button class="cancel-btn btn btn-inverse"><i class="glyphicon circle-remove"></i> ',i="Cancel",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n	",r}function b(e,t){var r="",i,s;return r+='\n		<button class="delete-btn btn btn-danger"><i class="glyphicon ban"></i> ',i="Delete"
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n	",r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;s+='<div class="friend-actions">\n	',o="requests",f=n.type,u=f||t.type,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n	",o="requested",f=n.type,u=f||
t.type,f=n.if_eq,a=f||t.if_eq,l=c.program(3,y,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n	",o="all",f=n.type,u=f||t.type,f=n.if_eq,a=f||t.if_eq,l=c.program(5,b,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+='\n</div>\n\n<img class="friend-poster" data-original="',f=n.friend,o=f||t.friend,o=o===null||o===undefined||o===!1?o:o.thumb,typeof o===h?o=o.call(t,
{hash:{}}):o===d&&(o=p.call(t,"friend.thumb",{hash:{}})),s+=v(o)+'" src="img/posters/friend.png" width="40" height="40">\n\n',f=n.friend,o=f||t.friend,o=o===null||o===undefined||o===!1?o:o.title,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"friend.title",{hash:{}})),s+=v(o)+"\n",s})}),define("plex/view/lists/items/FriendListItem",["hb!templates/lists/items/FriendListItem.tpl","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView"],function(e,t,n,r){var i=r.extend
({tagName:"li",className:"well",type:null,events:{"click .accept-btn":"onAcceptClick","click .reject-btn":"onRejectClick","click .cancel-btn":"onCancelClick","click .delete-btn":"onDeleteClick"},initialize:function(e){this.type=e.list.type||"all",this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({friend:this.model.toJSON(),type:this.type})),this},close:function(e){var t={opacity:0,height:0,"margin-bottom":0,"padding-top":0,"padding-bottom":0};this.$el.animate
(t,400,e)},onAcceptClick:function(e){e.preventDefault(),this.failMessage=t.t("There was a problem accepting this friend request."),this.model.urlRoot="/pms/friends/requests",this.close(_.bind(this.onSaveClose,this))},onRejectClick:function(e){e.preventDefault(),this.failMessage=t.t("There was a problem rejecting this friend request."),this.model.urlRoot="/pms/friends/requests",this.close(_.bind(this.onDeleteClose,this))},onCancelClick:function(e){e.preventDefault(),this.failMessage=t.t("There was a problem cancelling this friend request."
),this.model.urlRoot="/pms/friends/requested",this.close(_.bind(this.onDeleteClose,this))},onDeleteClick:function(e){e.preventDefault(),this.failMessage=t.t("There was a problem deleting this friend request."),this.close(_.bind(this.onDeleteClose,this))},onSaveClose:function(){this.model.save({user:this.model.id},{hideLoadingAlert:!0}).done(_.bind(function(){this.trigger("refresh")},this)).fail(_.bind(function(){n.set("alert",{status:"error",message:this.failMessage})},this))},onDeleteClose:function(
){this.model.destroy({hideLoadingAlert:!0}).done(_.bind(function(){this.trigger("refresh")},this)).fail(_.bind(function(){n.set("alert",{status:"error",message:this.failMessage})},this))}});return i}),define("plex/view/lists/FriendList",["plex/view/lists/BaseList","plex/view/lists/items/FriendListItem","lazyload"],function(e,t){var n=e.extend({tagName:"ul",className:"friend-list",type:null,initialize:function(e){this.type=e.type||"all",this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this
.loadPoster,500),100)},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"refresh",this.onRefresh),this.loadPosterThrottle()},loadPoster:function(){this.$(".friend-poster").lazyload({threshold:100})},onRefresh:function(){this.trigger("refresh")}});return n}),define("plex/view/FriendsView",["hb!templates/FriendsView.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil"
,"plex/model/AppModel","plex/model/FriendModel","plex/model/collections/FriendCollection","plex/view/BaseView","plex/view/lists/FriendList"],function(e,t,n,r,i,s,o,u){var a=o.extend({className:"myplex-container container container-full well",friendsList:null,requestsList:null,requestedList:null,requestsLength:0,requestedLength:0,events:{"submit .add-friend-form":"onAddFriendSubmit"},initialize:function(e){var t=new s([],{server:r.get("myPlex"),type:"requested"});this.friendsList=new u({collection
:this.collection}),this.requestsList=new u({collection:e.requests,type:"requests"}),this.requestedList=new u({collection:t,type:"requested"}),this.addBinding(this.friendsList,"refresh",this.onListRefresh),this.addBinding(this.requestsList,"refresh",this.onListRefresh),this.addBinding(this.requestedList,"refresh",this.onListRefresh),this.addBinding(this.collection,"reset",this.onFriendsReset),this.addBinding(e.requests,"reset",this.onRequestsReset),this.addBinding(t,"reset",this.onRequestedReset),
e.requests.fetch(),t.fetch()},render:function(){return this.$el.html(e({requestsCount:this.requestsList.collection.length+this.requestedList.collection.length,friendsCount:this.friendsList.collection.length})),this.$("#received-requests-header").after(this.requestsList.render().el),this.$("#sent-requests-header").after(this.requestedList.render().el),this.$("#friends-banner").after(this.friendsList.render().el),this},onListRefresh:function(){this.friendsList.collection.fetch(),this.requestsList.collection
.fetch(),this.requestedList.collection.fetch()},onFriendsReset:function(e){e.length?(this.$("#friends-banner .banner-count").text(e.length),this.$("#friends-empty-message").addClass("hide")):(this.$("#friends-banner .banner-count").text(""),this.$("#friends-empty-message").removeClass("hide"))},onRequestsReset:function(e){this.requestsLength=e.length,this.$("#requests-banner .banner-count").text(e.length+this.requestedLength),this.requestsLength?(this.$("#received-requests-header").removeClass("hide"
),this.$("#requests-empty-message").addClass("hide")):(this.$("#received-requests-header").addClass("hide"),this.requestedLength||(this.$("#requests-banner .banner-count").text(""),this.$("#requests-empty-message").removeClass("hide")))},onRequestedReset:function(e){this.requestedLength=e.length,this.$("#requests-banner .banner-count").text(e.length+this.requestsLength),this.requestedLength?(this.$("#sent-requests-header").removeClass("hide"),this.$("#requests-empty-message").addClass("hide")):(this
.$("#sent-requests-header").addClass("hide"),this.requestsLength||(this.$("#requests-banner .banner-count").text(""),this.$("#requests-empty-message").removeClass("hide")))},onAddFriendSubmit:function(e){e.preventDefault();var s=this.$("#add-friend-username"),o=this.$(".add-friend-form > input[type=submit]"),u=s.val();if(!u)return;o.addClass("disabled"),t.trigger("command:ShowLoading",!0);var a=new i({},{server:r.get("myPlex")});a.save({user:u}).always(_.bind(function(){o.removeClass("disabled"),
t.trigger("command:ShowLoading",!1)})).done(_.bind(function(){this.requestedList.collection.fetch({hideLoadingAlert:!0}),s.val("")},this)).fail(_.bind(function(){r.set("alert",{status:"error",message:n.t("There was a problem adding {1} as a friend.",u)})}))}});return a}),define("hb!templates/PlaylistView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function b(e,t){var r="",i,s;return r+='\n	<a class="help-btn btn btn-inverse" href="https://my.plexapp.com/queue/help" target="_blank">\n		<i class="glyphicon circle-question-mark"></i> '
,i="Help",c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"t",i,{hash:{}}):i=s,r+=g(i)+"\n	</a>\n	",r}function w(e,t){return'<i class="glyphicon justify"></i> '}function E(e,t){return'<i class="glyphicon share-alt"></i> '}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression,y=n.blockHelperMissing;s+='<div class="row-fluid">\n	',o="queue",c=n.playlistName,u=c||t.playlistName,c=n.if_eq,a=c||t.if_eq,h=p.program(1,b,i),h.hash=
{},h.fn=h,h.inverse=p.noop,c&&typeof a===d?o=a.call(t,u,o,h):o=y.call(t,a,u,o,h);if(o||o===0)s+=o;s+="\n\n	<h1>",o="Queue",c=n.playlistLabel,u=c||t.playlistLabel,c=n.if_eq,a=c||t.if_eq,h=p.program(3,w,i),h.hash={},h.fn=h,h.inverse=p.noop,c&&typeof a===d?o=a.call(t,u,o,h):o=y.call(t,a,u,o,h);if(o||o===0)s+=o;o="Recommendations",c=n.playlistLabel,u=c||t.playlistLabel,c=n.if_eq,a=c||t.if_eq,h=p.program(5,E,i),h.hash={},h.fn=h,h.inverse=p.noop,c&&typeof a===d?o=a.call(t,u,o,h):o=y.call(t,a,u,o,h);if(
o||o===0)s+=o;return c=n.playlistLabel,o=c||t.playlistLabel,c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+'</h1>\n</div>\n\n<div id="filters-banner" class="banner">\n	<ul class="horizontal-filter-list playlist-filter-list">\n		<li class="all-filter playlist-filter ',o="",u="selected",a="all",c=n.view,f=c||t.view,c=n.eq,l=c||t.eq,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'"><a href="#">',o="All"
,c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+'</a></li>\n		<li class="unwatched-filter playlist-filter ',o="",u="selected",a="unwatched",c=n.view,f=c||t.view,c=n.eq,l=c||t.eq,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'"><a href="#">',c=n.unwatched,o=c||t.unwatched,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"unwatched",{hash:{}})),s+=g(o)+" ",o="Unwatched",c=n.t,u=c||t.t,typeof u===
d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+'</a></li>\n		<li class="watched-filter playlist-filter ',o="",u="selected",a="watched",c=n.view,f=c||t.view,c=n.eq,l=c||t.eq,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'"><a href="#">',c=n.watched,o=c||t.watched,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"watched",{hash:{}})),s+=g(o)+" ",o="Watched",c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call
(t,"t",o,{hash:{}}):o=u,s+=g(o)+"</a></li>\n	</ul>\n</div>\n",s})}),define("hb!templates/lists/items/PlaylistListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i;return r+='\n		<div class="poster-container">\n			<img class="poster" src="',f=n.item,i=f||e.item,i=i===null||i===undefined||i===!1?i:i.thumb,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"item.thumb",{hash:{}})),r+=v(i)+'" width="150">\n		</div>\n	',r}function g(e,t){var r="",
i;return r+="\n				",f=n.item,i=f||e.item,i=i===null||i===undefined||i===!1?i:i.sourceTitle,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"item.sourceTitle",{hash:{}})),r+=v(i)+"\n			",r}function y(e,t){var r="",i,s;r+='\n			<div class="media-tagline metadata">\n				<div class="tagline">\n					',i="Recommended by",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+" ",f=n.item,i=f||e.item,i=i===null||i===undefined||i===!1?i:i.recommender,typeof 
i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"item.recommender",{hash:{}})),r+=v(i)+"\n				</div>\n			</div>\n\n			",f=n.item,i=f||e.item,i=i===null||i===undefined||i===!1?i:i.message,s=n["if"],l=c.program(6,b,t),l.hash={},l.fn=l,l.inverse=c.program(8,w,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n		",r}function b(e,t){var r="",i;return r+='\n				<div class="summary">',f=n.item,i=f||e.item,i=i===null||i===undefined||i===!1?i:i.message,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"item.message"
,{hash:{}})),r+=v(i)+"</div>\n			",r}function w(e,t){var r="",i,s;return r+='\n				<div class="summary">',i="No message",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</div>\n			",r}function E(e,t){var r,i;return f=n.item,r=f||e.item,r=r===null||r===undefined||r===!1?r:r.summary,i=n["if"],l=c.program(11,S,t),l.hash={},l.fn=l,l.inverse=c.noop,r=i.call(e,r,l),r||r===0?r:""}function S(e,t){var r="",i,s,o;return r+='\n			<div class="summary">',i=180
,f=n.item,s=f||e.item,s=s===null||s===undefined||s===!1?s:s.summary,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+"</div>\n		",r}function x(e,t){var r="",i,s;return r+='\n					<button class="mark-unwatched-btn btn btn-inverse"><i class="glyphicon circle-minus"></i> ',i="Mark as Unwatched",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n				",r}function T(e,t){
var r="",i,s;return r+='\n					<button class="mark-watched-btn btn btn-inverse"><i class="glyphicon circle-ok"></i> ',i="Mark as Watched",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n				",r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression;s+='<a href="#!/playlist/',f=n.item,o=f||t.item,o=o===null||o===undefined||o===!1?o:o.playlistName,typeof o===h?o=o.call(t,{hash:{}}):o===d&&
(o=p.call(t,"item.playlistName",{hash:{}})),s+=v(o)+"/player/",f=n.item,o=f||t.item,o=o===null||o===undefined||o===!1?o:o.id,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"item.id",{hash:{}})),s+=v(o)+'">\n	',f=n.item,o=f||t.item,o=o===null||o===undefined||o===!1?o:o.thumb,u=n["if"],l=c.program(1,m,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n	<div class="poster-details">\n		<div class="metadata-right">\n			',f=n.item,o=f||t.item,o=o===null||o===undefined||
o===!1?o:o.sourceTitle,u=n["if"],l=c.program(3,g,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n		</div>\n\n		<h3>",o=50,f=n.item,u=f||t.item,u=u===null||u===undefined||u===!1?u:u.title,f=n.truncate,a=f||t.truncate,typeof a===h?o=a.call(t,u,o,{hash:{}}):a===d?o=p.call(t,"truncate",u,o,{hash:{}}):o=a,s+=v(o)+"</h3>\n\n		",f=n.item,o=f||t.item,o=o===null||o===undefined||o===!1?o:o.recommender,u=n["if"],l=c.program(5,y,i),l.hash={},l.fn=l,l.inverse=c.program(10,E,i),o=u.
call(t,o,l);if(o||o===0)s+=o;s+='\n\n		<div class="poster-bottom-details">\n			<div class="poster-controls">\n				',f=n.watched,o=f||t.watched,u=n["if"],l=c.program(13,x,i),l.hash={},l.fn=l,l.inverse=c.program(15,T,i),o=u.call(t,o,l);if(o||o===0)s+=o;return s+='\n				<button class="delete-btn btn btn-danger"><i class="glyphicon ban"></i> ',o="Delete",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</button>\n			</div>\n		</div>\n	</div>\n</a>\n\n\n"
,s})}),define("plex/view/lists/items/PlaylistListItem",["hb!templates/lists/items/PlaylistListItem.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",className:"well",events:{"click .mark-watched-btn":"onMarkWatchedClick","click .mark-unwatched-btn":"onMarkUnwatchedClick","click .delete-btn":"onDeleteClick"},initialize:function(e){this.filtered=e.filtered,this.addBinding(this.model,"change:viewCount",this.onViewCountChange),_.bindAll(this,"onAnimationComplete"
)},render:function(){return this.$el.html(e({watched:this.model.get("viewCount")>0,item:this.model.toJSON()})),this},close:function(e){var t=e||this.onAnimationComplete,n={opacity:0,height:0,"margin-bottom":0,"padding-top":0,"padding-bottom":0};this.$el.animate(n,400,t)},onViewCountChange:function(e,t){this.filtered===!0?this.close():this.trigger("refresh")},onMarkWatchedClick:function(e){e.preventDefault(),t.trigger("command:MarkWatched",this.model)},onMarkUnwatchedClick:function(e){e.preventDefault
(),t.trigger("command:MarkUnwatched",this.model)},onDeleteClick:function(e){e.preventDefault(),this.close(_.bind(function(){this.model.destroy({hideLoadingAlert:!0}),this.trigger("refresh")},this))},onAnimationComplete:function(){this.destroy(),this.trigger("refresh")}});return r}),define("plex/view/lists/PlaylistList",["plex/view/lists/BaseList","plex/view/lists/items/PlaylistListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"poster-list playlist-list",initialize:function(e){this.filtered=
e.filtered,this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100)},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(e){var t=new this.ListItem({model:e,list:this,filtered:this.filtered});return this.registerView(t),this.addBinding(t,"refresh",this.onRefresh),this.items[e.id]=t,this.$el.append(t.render().el),this.loadPosterThrottle(),t},loadPoster:function(){this.$(".poster").lazyload({threshold:100})},onRefresh:function(
){this.trigger("refresh")}});return n}),define("plex/view/PlaylistView",["hb!templates/PlaylistView.tpl","plex/view/BaseView","plex/view/lists/PlaylistList"],function(e,t,n){var r=t.extend({className:"myplex-container container container-full well",view:"unwatched",events:{"click .all-filter a":"onAllClick","click .unwatched-filter a":"onUnwatchedClick","click .watched-filter a":"onWatchedClick"},initialize:function(){this.listCollection=new Backbone.Collection(this.collection.unwatched()),this.list=
this.registerView(new n({collection:this.listCollection,filtered:!0})),this.addBinding(this.list,"refresh",this.onRefresh)},render:function(){var t=this.collection.unwatched().length,n=this.collection.watched().length;return this.$el.html(e({view:this.view,unwatched:t,watched:n,playlistName:this.collection.playlistName,playlistLabel:this.collection.playlistLabel})),this.$el.append(this.list.render().el),this},onAllClick:function(e){e.preventDefault(),this.view="all",this.$(".playlist-filter").removeClass
("selected"),this.$(".all-filter").addClass("selected"),this.list.filtered=!1,this.listCollection.reset(this.collection.all())},onUnwatchedClick:function(e){e.preventDefault(),this.view="unwatched",this.$(".playlist-filter").removeClass("selected"),this.$(".unwatched-filter").addClass("selected"),this.list.filtered=!0,this.listCollection.reset(this.collection.unwatched())},onWatchedClick:function(e){e.preventDefault(),this.view="watched",this.$(".playlist-filter").removeClass("selected"),this.$(".watched-filter"
).addClass("selected"),this.list.filtered=!0,this.listCollection.reset(this.collection.watched())},onRefresh:function(){switch(this.view){case"unwatched":this.listCollection.reset(this.collection.unwatched());break;case"watched":this.listCollection.reset(this.collection.watched());break;default:this.listCollection.reset(this.collection.models)}this.render()}});return r}),define("hb!templates/SearchView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o
,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<h2 class="pending-search-header search-header">\n	',o="Searching for",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+' <span class="primary">',a=n.query,o=a||t.query,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"query",{hash:{}})),s+=p(o)+'</span>...\n</h2>\n\n<h2 class="results-search-header search-header hide">\n	',o="Results for",a=n.t,u=a||t.t,typeof 
u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+' <span class="primary">',a=n.query,o=a||t.query,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"query",{hash:{}})),s+=p(o)+'</span>\n</h2>\n\n<h2 class="no-results-search-header search-header hide">\n	',o="No results for",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+' <span class="primary">',a=n.query,o=a||t.query,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call
(t,"query",{hash:{}})),s+=p(o)+'</span>\n</h2>\n\n<div class="movies-container search-results-container well hide">\n	<div class="well-header">\n		<h3>',o="Movies",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n	</div>\n</div>\n\n<div class="shows-container search-results-container well hide">\n	<div class="well-header">\n		<h3>',o="TV Shows",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n	</div>\n</div>\n\n<div class="episodes-container search-results-container well hide">\n	<div class="well-header">\n		<h3>'
,o="Episodes",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n	</div>\n</div>\n\n<div class="artists-container search-results-container well hide">\n	<div class="well-header">\n		<h3>',o="Artists",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n	</div>\n</div>\n\n<div class="albums-container search-results-container well hide">\n	<div class="well-header">\n		<h3>',o="Albums",a=n.t,u=
a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n	</div>\n</div>\n\n<div class="tracks-container search-results-container well hide">\n	<div class="well-header">\n		<h3>',o="Tracks",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</h3>\n	</div>\n</div>\n\n<div class="clips-container search-results-container well hide">\n	<div class="well-header">\n		<h3>',o="Clips",a=n.t,u=a||t.t,typeof u===l?o=u.call
(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+"</h3>\n	</div>\n</div>\n",s})}),define("plex/view/lists/SelectableList",["plex/view/lists/BaseList"],function(e){var t=function(e,t){var n=[],r,i;e<t?(r=e,i=t):(r=t,i=e);for(;r<=i;r++)n.push(r);return n},n=e.extend({selectable:!0,selectedItems:null,prevSelectedItems:null,shiftStart:-1,shiftEnd:-1,setup:function(t,n){this.selectedItems=[],e.prototype.setup.call(this,t,n)},reset:function(t){this.prevSelectedItems=this.selectedItems,this
.selectedItems=[],e.prototype.reset.call(this,t),this.prevSelectedItems.length=0,this.trigger("change:selectedItems",this.selectedItems)},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);return this.addBinding(i,"select",this.onSelect),_.each(this.prevSelectedItems,_.bind(function(e){e.model.id===t.id&&this.select(i)},this)),i},removeItem:function(t,n,r){this.deselect(this.items[t.id]),e.prototype.removeItem.apply(this,arguments)},select:function(e){e.select(),_.indexOf(this
.selectedItems,e)===-1&&this.selectedItems.push(e),this.trigger("change:selectedItems",this.selectedItems)},deselect:function(e){var t=_.indexOf(this.selectedItems,e);t>-1&&(e.deselect(),this.selectedItems.splice(t,1)),this.trigger("change:selectedItems",this.selectedItems)},deselectAll:function(){_.each(this.selectedItems,function(e){e.deselect()}),this.shiftStart=-1,this.shiftEnd=-1,this.selectedItems.length=0,this.trigger("change:selectedItems",this.selectedItems)},onSelect:function(e,n){if(!this
.selectable)return;var r=this.collection.indexOf(e.model),i;n?this.shiftStart===-1?(this.select(e),this.shiftStart=r):this.shiftEnd===-1?(_.each(t(this.shiftStart,r),_.bind(function(e){var t=this.collection.at(e);this.select(this.items[t.id])},this)),this.shiftEnd=r):(_.each(t(this.shiftStart,this.shiftEnd),_.bind(function(e){var t=this.collection.at(e);this.deselect(this.items[t.id])},this)),_.each(t(this.shiftStart,r),_.bind(function(e){var t=this.collection.at(e);this.select(this.items[t.id])}
,this)),this.shiftEnd=r):(this.shiftEnd=-1,_.indexOf(this.selectedItems,e)===-1?(this.select(e),this.shiftStart=r):(this.deselect(e),this.shiftStart=-1))}});return n}),define("hb!templates/lists/media/items/PosterTileListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r="",i,s;return r+='\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/channels/player?key=",f=
n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.key,f=n.encodeURL,s=f||e.encodeURL,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"encodeURL",i,{hash:{}}):i=s,r+=v(i)+'">\n',r}function y(e,t){var r,i;return f=n.media,r=f||e.media,r=r===null||r===undefined||r===!1?r:r.folder,i=n["if"],l=c.program(4,b,t),l.hash={},l.fn=l,l.inverse=c.program(7,E,t),r=i.call(e,r,l),r||r===0?r:""}function b(e,t){var r="",i,s,o;r+='\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i
.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/folder?key=",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.key,f=n.encodeURL,s=f||e.encodeURL,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"encodeURL",i,{hash:{}}):i=s,r+=v(i),i="photo",f=n.media,s=f||e.media,s=s===null||s===undefined||s===!1?s:s.type,f=n.if_eq,o=f||e.if_eq,l=
c.program(5,w,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+='">\n',r}function w(e,t){return"&type=photo"}function E(e,t){var r="",i;return r+='\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/details/",f=n.media
,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.ratingKey",{hash:{}})),r+=v(i)+'">\n',r}function S(e,t){return'\n					<div class="card-overlay">\n						<span class="card-episode-index"></span>\n\n						<div class="unwatched-icon unwatched-partial-icon"></div>\n						<div class="unwatched-icon unwatched-full-icon"></div>\n					</div>\n				'}function x(e,t){return'\n		<div class="poster-subtitle"></div>\n	'}function T(e,t){return'\n		<div class="poster-subtitle"></div>\n	'
}function N(e,t){return'\n		<div class="poster-subtitle"></div>\n	'}function C(e,t){return'\n		<div class="poster-subtitle"></div>\n	'}function k(e,t){return'\n		<div class="media-added-at poster-sort"></div>\n	'}function L(e,t){var r,i,s;return r="originallyAvailableAt",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(22,A,t),l.hash={},l.fn=l,l.inverse=c.program(24,O,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function A(e,t){return'\n		<div class="media-available-at poster-sort"></div>\n	'
}function O(e,t){var r,i,s;return r="rating",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(25,M,t),l.hash={},l.fn=l,l.inverse=c.program(27,_,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function M(e,t){return'\n		<div class="media-rating poster-sort"></div>\n	'}function _(e,t){var r,i,s;return r="mediaHeight",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(28,D,t),l.hash={},l.fn=l,l.inverse=c.program(30,P,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,
s,i,r,l),r||r===0?r:""}function D(e,t){return'\n		<div class="media-resolution poster-sort"></div>\n	'}function P(e,t){var r,i,s;return r="duration",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(31,H,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function H(e,t){return'\n		<div class="media-duration poster-sort"></div>\n	'}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n
.blockHelperMissing;o="clip",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(3,y,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+='\n	<div class="poster-container">\n		<div class="poster-card">\n			<div class="poster-face front">\n				<img class="media-poster poster">\n\n				<span class="media-count"></span>\n\n				<span class="unwatched-count"></span>\n\n				<i class="deleted-icon glyphicon warning-sign hide" rel="tooltip" title="In the trash"></i>\n\n				<div class="poster-refreshing">\n					<i class="analyzing-icon glyphicon magic hide" rel="tooltip" title="Analyzing..."></i><i class="matching-icon glyphicon search hide" rel="tooltip" title="Matching..."></i><i class="metadata-icon glyphicon tags hide" rel="tooltip" title="Loading Metadata..."></i><i class="waiting-icon glyphicon clock hide"></i>\n				</div>\n\n				'
,o="episode",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(9,S,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+='\n			</div>\n		</div>\n	</div>\n\n	<div class="poster-title"></div>\n\n	',o="episode",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(11,x,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call
(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n	",o="album",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(13,T,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n	",o="track",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(15,N,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n	"
,o="clip",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(17,C,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n	",o="addedAt",f=n.sort,u=f||t.sort,f=n.if_eq,a=f||t.if_eq,l=c.program(19,k,i),l.hash={},l.fn=l,l.inverse=c.program(21,L,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+="\n</a>\n",s})}),window.Modernizr=function(e,t,n){function T(e){
a.cssText=e}function N(e,t){return T(c.join(e+";")+(t||""))}function C(e,t){return typeof e===t}function k(e,t){return!!~(""+e).indexOf(t)}function L(e,t){for(var r in e){var i=e[r];if(!k(i,"-")&&a[i]!==n)return t=="pfx"?i:!0}return!1}function A(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:C(s,"function")?s.bind(r||t):s}return!1}function O(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+p.join(r+" ")+r).split(" ");return C(t,"string")||C(t,"undefined")?L(i,t):(i=(e+" "+
d.join(r+" ")+r).split(" "),A(i,t,n))}var r="2.6.2",i={},s=t.documentElement,o="modernizr",u=t.createElement(o),a=u.style,f,l={}.toString,c=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",p=h.split(" "),d=h.toLowerCase().split(" "),v={},m={},g={},y=[],b=y.slice,w,E=function(e,n,r,i){var u,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:o+(r+1),c.appendChild(f);return u=["&#173;",'<style id="s',o,'">',
e,"</style>"].join(""),c.id=o,(h?c:p).innerHTML+=u,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=s.style.overflow,s.style.overflow="hidden",s.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),s.style.overflow=l),!!a},S={}.hasOwnProperty,x;!C(S,"undefined")&&!C(S.call,"undefined")?x=function(e,t){return S.call(e,t)}:x=function(e,t){return t in e&&C(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(
t){var n=this;if(typeof n!="function")throw new TypeError;var r=b.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(b.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(b.call(arguments)))};return i}),v.csstransforms3d=function(){var e=!!O("perspective");return e&&"webkitPerspective"in s.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(
t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e};for(var M in v)x(v,M)&&(w=M.toLowerCase(),i[w]=v[M](),y.push((i[w]?"":"no-")+w));return i.addTest=function(e,t){if(typeof e=="object")for(var r in e)x(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(s.className+=" "+(t?"":"no-")+e),i[e]=t}return i},T(""),u=f=null,i._version=r,i._prefixes=c,i._domPrefixes=d,i._cssomPrefixes=p,i.testProp=function(e){return L
([e])},i.testAllProps=O,i.testStyles=E,i}(this,this.document),define("modernizr",function(){}),define("plex/view/lists/media/items/PosterTileListItem",["hb!templates/lists/media/items/PosterTileListItem.tpl","plex/control/Dispatcher","plex/view/BaseView","modernizr"],function(e,t,n){var r=n.extend({tagName:"li",sort:null,events:{"click a":"onClick"},initialize:function(e){var t=e.list.collection;this.sort=t.sort.key,this.addBinding(this.model,"change:metadataState",this.onMetadataChange),this.addBinding
(this.model,"change:mediaState",this.onMediaChange)},render:function(){var t=this.model.get("librarySectionID");return!t&&this.model.section&&(t=this.model.section.id),this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),sectionID:t,media:this.model.toJSON(),sort:this.sort})),this.$el.addClass(this.model.get("type")),this.sort&&/^(addedAt|originallyAvailableAt|rating|mediaHeight|duration)$/.test(this.sort)&&this.$el.addClass("sorted"),this.bindView(),this.$(".poster-refreshing"
).tooltip({selector:"i",placement:"top"}),this.$el.tooltip({selector:".deleted-icon",placement:"bottom"}),this},select:function(){this.$("a").addClass("selected")},deselect:function(){this.$("a").removeClass("selected")},updateRefreshingState:function(){var e=this.model.get("metadataState"),t=this.model.get("mediaState"),n=this.$(".poster-container"),r=this.$(".waiting-icon");e&&e!=="created"||t?(r.removeClass("hide"),n.addClass("refreshing").removeClass("refreshed")):n.hasClass("refreshing")&&(r
.addClass("hide"),n.removeClass("refreshing").addClass("refreshed"))},bindings:{".poster-title":{modelAttr:"title",format:function(e,t){var n=this.model.get("type");switch(n){case"episode":return this.model.get("grandparentTitle");case"album":return this.model.get("parentTitle");case"track":return this.model.get("grandparentTitle");case"clip":return this.model.get("sourceTitle");default:return t}}},".poster-subtitle":{modelAttr:"title",format:function(e,t){var n=this.model.get("type");if(!/^(episode|album|track|clip)$/
.test(n))return;return t}},".media-poster":{modelAttr:"thumb",format:function(e,t){var n=this.model.get("type"),r="img/posters/poster.png",i=window.devicePixelRatio?window.devicePixelRatio:1,s=133*i,o=200*i,u,a=this.$(".poster-container"),f=a.hasClass("refreshing")||a.hasClass("refreshed");if(n==="artist"||n==="album"||n==="track"||n==="clip")r="img/posters/poster_square.png",o=133*i;if(this.model.get("folder")){e.attr("src","img/posters/folder.png");return}e.attr("src")||e.attr("src",r),n==="track"?
u=this.model.get("parentThumb")||t:u=this.model.get("grandparentThumb")||t;if(!u)return;var l=Handlebars.helpers.transcodeImage.call(this,this.model.server,u,s,o);if(f&&Modernizr.csstransforms3d){var c=this.$(".poster-card"),h=this.$(".poster-face.front"),p=this.$(".poster-face.back"),d;a.hasClass("flip")?d=h:(p.length||(p=h.clone(),p.removeClass("front").addClass("back"),c.append(p)),d=p);var v=d.find(".poster");v.attr("src",l);var m=_.bind(function(){v.off("load",m),a.toggleClass("flip")},this)
;v.on("load",m)}else e.data("original",l),this.trigger("change:poster")}},".media-count":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){var n=0,r=this.model.get("Media"),i=this.model.get("type");return i==="clip"?0:(_.isArray(r)&&(n=r.length),n)}},".unwatched-count":{modelAttr:"unviewedLeafCount",hideEmpty:!0,format:function(e,t){return!t||this.model.server.get("shared")?0:t}},".card-episode-index":{modelAttr:"index",hideEmpty:!0,format:function(e,t){var n=this.model.get("type");if(n!=="episode"
)return;if(t>0){var r=Handlebars.helpers.leadingZero.call(this,this.model.get("parentIndex")),i=Handlebars.helpers.leadingZero.call(this,t);return"S"+r+"E"+i}var s=this.model.get("originallyAvailableAt");return Handlebars.helpers.formatDateCustom.call(this,s,"D/M/YY")}},".unwatched-icon":{modelAttr:"viewCount",format:function(e,t){var n=this.model.get("type"),r=this.model.get("viewOffset");if(this.model.server.get("shared")){e.addClass("hide");return}if(n!=="episode")return;t||r?e.addClass("hide"
):(e.removeClass("hide"),this.$(".unwatched-partial-icon").addClass("hide"))}},".unwatched-partial-icon":{modelAttr:"viewOffset",format:function(e,t){var n=this.model.get("type");if(this.model.server.get("shared")){e.addClass("hide");return}if(n!=="episode")return;t?(e.removeClass("hide"),this.$(".unwatched-full-icon").addClass("hide")):e.addClass("hide")}},".deleted-icon":{modelAttr:"deletedAt",format:function(e,t){t?e.removeClass("hide"):e.addClass("hide")}},".media-added-at":{modelAttr:"addedAt"
,hideEmpty:!0,format:function(e,t){return Handlebars.helpers.timeAgo.call(this,t)}},".media-available-at":{modelAttr:"originallyAvailableAt",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.formatDate.call(this,t)}},".media-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?'<span class="rating">'+Handlebars.helpers.starRating.call(this,t)+"</span>":""}},".media-resolution":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){return t?Handlebars.helpers.formatResolution
.call(this,t.videoResolution):""}},".media-duration":{modelAttr:"duration",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.formatMinutes.call(this,t)}},".matching-icon":{modelAttr:"metadataState",format:function(e,t){var n=this.$(".metadata-icon");switch(t){case"matching":e.removeClass("hide");break;case"processing":case"loading":e.addClass("hide"),n.removeClass("hide");break;default:e.addClass("hide"),n.addClass("hide")}this.updateRefreshingState()}},".analyzing-icon":{modelAttr:"mediaState"
,format:function(e,t){t?e.removeClass("hide"):e.addClass("hide"),this.updateRefreshingState()}}},onClick:function(e){if(this.model.get("type")==="track"){e.preventDefault(),t.trigger("command:PlayTrack",this.model);return}if(e.metaKey||e.ctrlKey||e.shiftKey)e.preventDefault(),this.trigger("select",this,e.shiftKey)}});return r}),define("plex/view/lists/media/PosterTileList",["plex/view/lists/SelectableList","plex/view/lists/media/items/PosterTileListItem","lazyload"],function(e,t){var n=e.extend({
tagName:"ul",className:"tile-list poster-tile-list",loadPosterThrottle:null,initialize:function(e){typeof e.selectable!="undefined"&&(this.selectable=e.selectable),this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100)},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"change:poster",this.loadPosterThrottle),this.loadPosterThrottle()},loadPoster:function(
){this.$(".poster").lazyload({threshold:100})}});return n}),define("plex/view/SearchView",["hb!templates/SearchView.tpl","plex/model/media/collections/MediaCollection","plex/view/BaseView","plex/view/lists/media/PosterTileList"],function(e,t,n,r){var i=["movies","shows","episodes","artists","albums","tracks","clips"],s=n.extend({className:"container-fluid",query:"",pendingRequests:0,initialize:function(e){this.query=e.query,this.pendingRequests=e.collections.length,_.each(i,_.bind(function(e){this
[e]=new Backbone.Collection,this[e+"List"]=this.registerView(new r({selectable:!1,collection:this[e]}))},this)),_.each(e.providers,_.bind(function(e){e.populate().done(_.bind(function(){e.each(_.bind(function(e){if(!e.get("machineIdentifier")){var n=new t([],{server:e.server,url:e.get("key")+"&query="+this.query});this.pendingRequests++,n.populate({hideLoadingAlert:!0}).always(_.bind(function(){this.finishSearch()},this)).done(_.bind(function(){this.mergeResults(n)},this))}},this))},this))},this)
),_.each(e.collections,_.bind(function(e){e.populate({hideLoadingAlert:!0}).always(_.bind(function(){this.finishSearch()},this)).done(_.bind(function(){this.mergeResults(e)},this))},this))},render:function(){return this.$el.html(e({empty:!1,query:this.query})),_.each(i,_.bind(function(e){this.$("."+e+"-container").append(this[e+"List"].render().el)},this)),this},mergeResults:function(e){if(!e.length)return;_.each(i,_.bind(function(t){this[t].add(e[t]()),this[t].length&&this.$("."+t+"-container").
removeClass("hide")},this))},finishSearch:function(){this.pendingRequests--;if(this.pendingRequests>0)return;_.delay(_.bind(function(){var e=0;this.$(".pending-search-header").addClass("hide"),_.each(i,_.bind(function(t){e+=this[t].length},this)),e===0?this.$(".no-results-search-header").removeClass("hide"):this.$(".results-search-header").removeClass("hide")},this),100)}});return s}),define("hb!templates/server/settings/ServerSettingsView.tpl",["handlebars"],function(e){return e.template(function(
e,t,n,r,i){function m(e,t){var r="",i,s;r+='\n	<div class="span3">\n		<ul class="preferences-nav nav nav-list">\n			',a=n.groups,i=a||e.groups,s=n.each,f=l.programWithDepth(g,t,e),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n		</ul>\n	</div>\n	",r}function g(e,t,r){var i="",s,o;i+="\n				",a=n.prefs,s=a||e.prefs,o=n["if"],f=l.programWithDepth(y,t,r),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;return i+="\n			",i}function y(e,t,r){var i="",
s,o,u;i+='\n					<li class="',a=n.global,s=a||r.global,o=n.unless,f=l.program(4,b,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;i+=" ",a=n.advanced,s=a||e.advanced,o=n["if"],f=l.program(7,E,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;i+='">\n						<a href="#',a=n.id,s=a||e.id,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"id",{hash:{}})),i+=v(s)+'">',a=n.title,s=a||e.title,a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(
e,"t",s,{hash:{}}):s=o,i+=v(s)+"</a>\n					</li>\n					",s="general",a=n.group,o=a||e.group,a=n.if_eq,u=a||e.if_eq,f=l.programWithDepth(S,t,r),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+="\n				",i}function b(e,t){var r,i,s;return r="general",a=n.group,i=a||e.group,a=n.if_eq,s=a||e.if_eq,f=l.program(5,w,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof s===c?r=s.call(e,i,r,f):r=h.call(e,s,i,r,f),r||r===0?r:""}function w(e,t){return"active"
}function E(e,t){return"advanced-prefs hide"}function S(e,t,r){var i="",s,o;i+='\n						<li class="',a=n.global,s=a||r.global,o=n["if"],f=l.program(10,x,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;return i+='">\n							<a href="#plexweb">',s="Plex/Web",a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+'</a>\n						</li>\n						<li>\n							<a href="#myplex">',s="myPlex",a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===
d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+'</a>\n						</li>\n						<li>\n							<a href="#agents">',s="Agents",a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+"</a>\n						</li>\n					",i}function x(e,t){return"active"}function T(e,t){return"span10"}function N(e,t){return"span7"}function C(e,t,r){var i="",s,o;i+="\n					",a=n.prefs,s=a||e.prefs,o=n["if"],f=l.programWithDepth(k,t,r),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=
s;return i+="\n				",i}function k(e,t,r){var i="",s,o;i+='\n						<div id="',a=n.id,s=a||e.id,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"id",{hash:{}})),i+=v(s)+'" class="preferences-group ',a=n.global,s=a||r.global,o=n.unless,f=l.program(18,L,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;i+=" ",a=n.advanced,s=a||e.advanced,o=n["if"],f=l.program(21,O,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;i+='">\n							',a=n.prefs,s=a||e.prefs,o=
n.each,f=l.program(23,M,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;return i+="\n						</div>\n					",i}function L(e,t){var r,i,s;return r="general",a=n.group,i=a||e.group,a=n.if_eq,s=a||e.if_eq,f=l.program(19,A,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof s===c?r=s.call(e,i,r,f):r=h.call(e,s,i,r,f),r||r===0?r:""}function A(e,t){return"active"}function O(e,t){return"advanced-prefs hide"}function M(e,t){var r="",i,s,o;return r+="\n								",i="preference",s={},o="_c",s.
idSuffix=o,a=n.partial,o=a||e.partial,f={},f.hash=s,typeof o===c?i=o.call(e,i,f):o===d?i=p.call(e,"partial",i,f):i=o,r+=v(i)+"\n							",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.blockHelperMissing,p=n.helperMissing,d=void 0,v=this.escapeExpression;s+='<div class="row-fluid">\n	<h1>\n		<i class="glyphicon settings"></i> ',o="Settings",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'\n	</h1>\n</div>\n\n<div class="row">\n	',a=n.shared
,o=a||t.shared,u=n.unless,f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n	<div class="',a=n.shared,o=a||t.shared,u=n["if"],f=l.program(12,T,i),f.hash={},f.fn=f,f.inverse=l.program(14,N,i),o=u.call(t,o,f);if(o||o===0)s+=o;s+='">\n		<div class="preferences-form-header">\n			<a class="standard-prefs pull-right" href="#">',o="Show Advanced Settings",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n			<a class="advanced-prefs pull-right hide" href="#">'
,o="Hide Advanced Settings",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n		</div>\n\n		<form class="preferences-form">\n			<fieldset>\n				',a=n.groups,o=a||t.groups,u=n.each,f=l.programWithDepth(C,i,t),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n				<div class="main-actions form-actions">\n					<button type="submit" class="btn btn-medium btn-primary">',o="Save",a=n.t,u=a||t.t,typeof u===c?o=u.call(t
,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</button>\n					<button class="btn btn-medium btn-inverse cancel-btn">',o="Cancel",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</button>\n				</div>\n			</fieldset>\n		</form>\n	</div>\n</div>\n",s})}),define("plex/model/AccountModel",["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio"
,"defaultSubtitleLanguage","subtitleMode"],url:function(){return this.get("key")},cacheKey:function(e){return this.server.id+"!"+e[this.idAttribute]},initialize:function(e,t){this.server=t.server},parse:function(e){var n=_.isObject(e)?e:t.xml2json(e).Account;return n=_.pick(n,this.whitelistedAttrs),n}});return n}),define("hb!templates/server/settings/PlexWebSettingsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s,o;r+='\n			<span class="muted">&middot;</span>\n\n			<a class="check-updates-btn '
,i="none",a=n.updateStatus,s=a||e.updateStatus,a=n.if_neq,o=a||e.if_neq,f=l.program(2,g,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=o.call(e,s,i,f):i=h.call(e,o,s,i,f);if(i||i===0)r+=i;r+='" href="#">\n				<i class="glyphicon circle-arrow-top"></i> ',i="Check for Updates",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'\n			</a>\n\n			<a class="download-updates-btn ',i="download",a=n.updateStatus,s=a||e.updateStatus,a=n.if_neq,o=a||e.if_neq
,f=l.program(4,y,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=o.call(e,s,i,f):i=h.call(e,o,s,i,f);if(i||i===0)r+=i;r+='" href="#">\n				<i class="glyphicon circle-arrow-down"></i> ',i="Download Updates",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'\n			</a>\n\n			<a class="reload-updates-btn ',i="reload",a=n.updateStatus,s=a||e.updateStatus,a=n.if_neq,o=a||e.if_neq,f=l.program(6,b,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?
i=o.call(e,s,i,f):i=h.call(e,o,s,i,f);if(i||i===0)r+=i;r+='" href="#">\n				<i class="glyphicon refresh"></i> ',i="Refresh to Apply Changes",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'\n			</a>\n\n			<span class="latest-updates ',i="latest",a=n.updateStatus,s=a||e.updateStatus,a=n.if_neq,o=a||e.if_neq,f=l.program(8,w,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=o.call(e,s,i,f):i=h.call(e,o,s,i,f);if(i||i===0)r+=i;return r+='">\n				<i class="glyphicon ok-2"></i> '
,i="Plex/Web is up to date.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"\n			</span>\n		",r}function g(e,t){return"hide"}function y(e,t){return"hide"}function b(e,t){return"hide"}function w(e,t){return"hide"}function E(e,t,r){var i="",s,o,u;i+='\n				<option value="',a=n.value,s=a||e.value,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"value",{hash:{}})),i+=v(s)+'" ',a=n.settings,s=a||r.settings,s=s===null||s===undefined||s===!1?s:s.
language,a=n.value,o=a||e.value,a=n.if_eq,u=a||e.if_eq,f=l.program(11,S,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+=">\n					",a=n.name,s=a||e.name,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"name",{hash:{}})),i+=v(s)+"\n				</option>\n			",i}function S(e,t){return"selected"}function x(e,t){return"checked"}function T(e,t){return"checked"}function N(e,t){var r="",i,s;r+='\n	<h3><i class="glyphicon adjust-alt"></i> '
,i="Streaming Quality",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</h3>\n\n	<div class="control-group pull-left">\n		<label class="control-label" for="video-quality">',i="Local Quality",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n		<div class="controls">\n			<select id="video-quality">\n				',a=n.videoQualities,i=a||e.videoQualities,s=n.each,f=l.programWithDepth(C,t,e),f.hash={
},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='\n			</select>\n		</div>\n	</div>\n\n	<div class="control-group">\n		<label class="control-label" for="remote-video-quality">',i="Remote Quality",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n		<div class="controls">\n			<select id="remote-video-quality">\n				',a=n.videoQualities,i=a||e.videoQualities,s=n.each,f=l.programWithDepth(L,t,e),f.hash={},f.fn=f,f.inverse=l.noop,
i=s.call(e,i,f);if(i||i===0)r+=i;r+='\n			</select>\n		</div>\n	</div>\n\n	<h3><i class="glyphicon play-button"></i> ',i="Player",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</h3>\n\n	<div class="control-group">\n		<label class="checkbox" for="direct-play">\n			<input id="direct-play" type="checkbox" value="1" class="input-dark" name="direct-play" ',a=n.settings,i=a||e.settings,i=i===null||i===undefined||i===!1?i:i.directPlay,s=n["if"],f=l.program
(24,O,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="> &nbsp;",i="Direct Play",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'\n		</label>\n		<p class="help-block">',i="Attempt to play videos directly before falling back to the transcoder. In most browsers, direct play supports mp4 videos with h264 video and AAC audio. Subtitles will not be included if a video is played directly.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e
,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</p>\n	</div>\n\n	<div class="control-group">\n		<label class="checkbox" for="highest-resolution">\n			<input id="highest-resolution" type="checkbox" value="1" class="input-dark" name="highest-resolution" ',a=n.settings,i=a||e.settings,i=i===null||i===undefined||i===!1?i:i.highestResolution,s=n["if"],f=l.program(26,M,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="> &nbsp;",i="Always Use Highest Resolution",a=n
.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'\n		</label>\n		<p class="help-block">',i="When multiple resolutions are available for a video, automatically use the highest possible resolution.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</p>\n	</div>\n\n	<div class="control-group pull-left">\n		<label class="control-label" for="subtitle-size">',i="Subtitle Size",a=n.t,s=a||e.t,typeof s===c?i=
s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n		<div class="controls">\n			<select id="subtitle-size">\n				',a=n.subtitleSizes,i=a||e.subtitleSizes,s=n.each,f=l.programWithDepth(_,t,e),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='\n			</select>\n		</div>\n	</div>\n\n	<div class="control-group">\n		<label class="control-label" for="audio-boost">',i="Audio Boost",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash
:{}}):i=s,r+=v(i)+'</label>\n		<div class="controls">\n			<select id="audio-boost">\n				',a=n.audioLevels,i=a||e.audioLevels,s=n.each,f=l.programWithDepth(P,t,e),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n			</select>\n		</div>\n	</div>\n",r}function C(e,t,r){var i="",s,o,u;i+='\n					<option value="',s=e[0],typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"this.0",{hash:{}})),i+=v(s)+'" ',a=n.settings,s=a||r.settings,s=s===null||s===undefined||s===!1?s:
s.quality,o=e[0],a=n.if_eq,u=a||e.if_eq,f=l.program(19,k,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+=">\n						",s=e[1],a=n.formatBitrate,o=a||e.formatBitrate,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"formatBitrate",s,{hash:{}}):s=o,i+=v(s)+", ",s=e[2],typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"this.2",{hash:{}})),i+=v(s)+"p\n					</option>\n				",i}function k(e,t){return"selected"}function L(e,t,r)
{var i="",s,o,u;i+='\n					<option value="',s=e[0],typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"this.0",{hash:{}})),i+=v(s)+'" ',a=n.settings,s=a||r.settings,s=s===null||s===undefined||s===!1?s:s.remoteQuality,o=e[0],a=n.if_eq,u=a||e.if_eq,f=l.program(22,A,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+=">\n						",s=e[1],a=n.formatBitrate,o=a||e.formatBitrate,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"formatBitrate"
,s,{hash:{}}):s=o,i+=v(s)+", ",s=e[2],typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"this.2",{hash:{}})),i+=v(s)+"p\n					</option>\n				",i}function A(e,t){return"selected"}function O(e,t){return"checked"}function M(e,t){return"checked"}function _(e,t,r){var i="",s,o,u;i+='\n					<option value="',a=n.value,s=a||e.value,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"value",{hash:{}})),i+=v(s)+'"',a=n.settings,s=a||r.settings,s=s===null||s===undefined||s===!1?s:s.subtitleSize,a=n.value
,o=a||e.value,a=n.if_eq,u=a||e.if_eq,f=l.program(29,D,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+=">",a=n.label,s=a||e.label,a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+"</option>\n				",i}function D(e,t){return" selected"}function P(e,t,r){var i="",s,o,u;i+='\n					<option value="',a=n.value,s=a||e.value,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"value",{hash
:{}})),i+=v(s)+'"',a=n.settings,s=a||r.settings,s=s===null||s===undefined||s===!1?s:s.audioBoost,a=n.value,o=a||e.value,a=n.if_eq,u=a||e.if_eq,f=l.program(32,H,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+=">",a=n.label,s=a||e.label,a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+"</option>\n				",i}function H(e,t){return" selected"}function B(e,t,r){var i="",s,o,u;i+='\n				<option value="'
,a=n.value,s=a||e.value,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"value",{hash:{}})),i+=v(s)+'"',a=n.settings,s=a||r.settings,s=s===null||s===undefined||s===!1?s:s.debug,a=n.value,o=a||e.value,a=n.if_eq,u=a||e.if_eq,f=l.program(35,j,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+=">",a=n.label,s=a||e.label,a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+"</option>\n			"
,i}function j(e,t){return" selected"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.blockHelperMissing,p=n.helperMissing,d=void 0,v=this.escapeExpression;s+='<h3><i class="glyphicon cogwheel"></i> ',o="Basic",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</h3>\n\n<div class="control-group">\n	<label class="control-label">\n		',o="Version",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+" "
,a=n.version,o=a||t.version,typeof o===c?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"version",{hash:{}})),s+=v(o)+"\n		",a=n.shared,o=a||t.shared,u=n.unless,f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n	</label>\n	<p class="help-block">',o='While Plex Media Server will automatically download updates for Plex/Web periodically, use "Check for Updates" to manually download updates.',a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",
o,{hash:{}}):o=u,s+=v(o)+'</p>\n</div>\n\n<div class="control-group">\n	<label class="control-label" for="language">',o="Language",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n	<div class="controls">\n		<select id="language">\n			',a=n.languages,o=a||t.languages,u=n.each,f=l.programWithDepth(E,i,t),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n		</select>\n	</div>\n	<p class="help-block">',o="Help us translate Plex/Web into your language <a href='http://www.getlocalization.com/plexweb' target='_blank'>here</a>."
,a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</p>\n</div>\n\n<h3><i class="glyphicon search"></i> ',o="Search",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</h3>\n\n<div class="control-group">\n	<label class="checkbox" for="remote-search">\n		<input id="remote-search" type="checkbox" value="1" class="input-dark" name="remote-search" ',a=n.settings,o=a||t.settings,o=o===null||o===undefined||
o===!1?o:o.remoteSearch,u=n["if"],f=l.program(13,x,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="> &nbsp;",o="Search Remote Libraries",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'\n	</label>\n</div>\n\n<div class="control-group">\n	<label class="checkbox" for="channel-search">\n		<input id="channel-search" type="checkbox" value="1" class="input-dark" name="channel-search" ',a=n.settings,o=a||t.settings,o=o===null||
o===undefined||o===!1?o:o.channelSearch,u=n["if"],f=l.program(15,T,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="> &nbsp;",o="Search Channels",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"\n	</label>\n</div>\n\n",a=n.videoQualities,o=a||t.videoQualities,u=n["if"],f=l.program(17,N,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n<h3><i class="glyphicon bug"></i> ',o="Debugging",a=n.t,u=a||
t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</h3>\n\n<div class="control-group">\n	<label class="control-label" for="video-quality">',o="Debug Level",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n	<div class="controls">\n		<select id="debug-level">\n			',a=n.debugLevels,o=a||t.debugLevels,u=n.each,f=l.programWithDepth(B,i,t),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;
return s+='\n		</select>\n	</div>\n</div>\n\n<div class="sub-actions form-actions">\n	<button type="submit" class="btn btn-medium btn-primary save-btn">',o="Save",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">',o="Cancel",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</button>\n</div>\n",s})}),define("plex/view/server/settings/PlexWebSettingsView"
,["hb!templates/server/settings/PlexWebSettingsView.tpl","plex/control/Dispatcher","plex/control/utils/LanguageUtil","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView"],function(e,t,n,r,i,s){var o=[{value:75,label:"Tiny"},{value:90,label:"Small"},{value:100,label:"Normal"},{value:125,label:"Large"},{value:200,label:"Huge"}],u=[{value:100,label:"None"},{value:150,label:"Small"},{value:200,label:"Large"},{value:250,label:"Huge"}],a=[{value:0,label:"Disabled"},{value:1,
label:"Enabled"},{value:2,label:"Verbose"}],f=s.extend({id:"plexweb",className:"preferences-group",languages:null,videoQualities:null,events:{"click .check-updates-btn":"onCheckUpdatesClick","click .download-updates-btn":"onDownloadUpdatesClick","click .reload-updates-btn":"onReloadUpdatesClick","click .save-btn":"onSaveClick","click .cancel-btn":"onCancelClick"},initialize:function(e){var t=i.get("primaryServer"),s=t.get("transcoderVideoQualities"),o=t.get("transcoderVideoBitrates"),u=t.get("transcoderVideoResolutions"
),a,f,l;s&&(a=s.split(",")),o&&(f=o.split(",")),u&&(l=u.split(",")),this.active=e.active,this.languages=[],_.each(_.keys(r.languages),_.bind(function(e){this.languages.push({value:e,name:n.getLanguageName(e)})},this)),a&&f&&l?this.videoQualities=_.zip(a,f,l):this.videoQualities=null,i.get("updateStatus")==="latest"&&i.set("updateStatus","none"),this.addBinding(i,"change:updateStatus",this.onUpdateStatusChange)},render:function(){var t=i.get("primaryServer");return this.$el.html(e({shared:t.get("shared"
),version:i.get("version"),updateStatus:i.get("updateStatus"),settings:this.model.toJSON(),languages:this.languages,videoQualities:this.videoQualities,subtitleSizes:o,audioLevels:u,debugLevels:a})),this.active&&this.$el.addClass("active"),this},save:function(e){var n=!1,s={language:this.$("#language").val(),remoteSearch:this.$("#remote-search").prop("checked"),channelSearch:this.$("#channel-search").prop("checked"),quality:parseInt(this.$("#video-quality").val(),10),remoteQuality:parseInt(this.$("#remote-video-quality"
).val(),10),directPlay:this.$("#direct-play").prop("checked"),highestResolution:this.$("#highest-resolution").prop("checked"),subtitleSize:parseInt(this.$("#subtitle-size").val(),10),audioBoost:parseInt(this.$("#audio-boost").val(),10),debug:parseInt(this.$("#debug-level").val(),10)},o=function(){e||t.trigger("navigate:back"),t.off("change:language",o)};t.on("change:language",o),s.language!==this.model.get("language")&&(n=!0),this.model.save(s,{success:_.bind(function(r,i){this.trigger("save",!0)
,n||(t.off("change:language",o),e||t.trigger("navigate:back"))},this),error:_.bind(function(e,t){i.set("alert",{status:"error",message:r.t("There was a problem saving your settings.")})},this)})},onUpdateStatusChange:function(e,t){t==="download"?(this.$(".download-updates-btn").removeClass("hide"),this.$(".check-updates-btn, .reload-updates-btn, .latest-updates").addClass("hide")):t==="reload"?(this.$(".reload-updates-btn").removeClass("hide"),this.$(".check-updates-btn, .download-updates-btn, .latest-updates"
).addClass("hide")):t==="latest"?(this.$(".latest-updates").removeClass("hide"),this.$(".check-updates-btn, .download-updates-btn, .reload-updates-btn").addClass("hide")):(this.$(".check-updates-btn").removeClass("hide"),this.$(".download-updates-btn, .reload-updates-btn, .latest-updates").addClass("hide"))},onCheckUpdatesClick:function(e){e.preventDefault(),t.trigger("command:CheckForUpdates",!0)},onDownloadUpdatesClick:function(e){e.preventDefault(),t.trigger("command:InstallUpdate")},onReloadUpdatesClick
:function(e){e.preventDefault(),window.location.reload(!0)},onSaveClick:function(e){e.preventDefault(),this.save()},onCancelClick:function(e){e.preventDefault(),t.trigger("navigate:back")}});return f}),define("hb!templates/server/settings/MyPlexSettingsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r="",i,s,o;r+='\n	<p><i class="glyphicon ok-2"></i> ',i="Signed in as",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{
}}):i=s,r+=v(i)+" ",i=20,f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.username,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+' &middot; <a class="sign-out-btn" href="#">',i="Sign Out",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n\n	",f=n.publishing,i=f||e.publishing,s=n["if"],l=c.program(2,y,t),l.hash={},l.fn=l,l.inverse=c.program(4,b,t),
i=s.call(e,i,l);if(i||i===0)r+=i;r+="\n\n	",f=n.showMappingMode,i=f||e.showMappingMode,s=n["if"],l=c.program(24,_,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;r+='\n\n	<div class="control-group advanced-prefs ',f=n.showAdvanced,i=f||e.showAdvanced,s=n.unless,l=c.program(30,B,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;r+='">\n		<label class="checkbox" for="require-authentication">\n			<input id="require-authentication" name="require-authentication" type="checkbox" '
,i="127.0.0.1/255.255.255.255",f=n.allowedNetworks,s=f||e.allowedNetworks,s=s===null||s===undefined||s===!1?s:s.value,f=n.if_eq,o=f||e.if_eq,l=c.program(32,j,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="> &nbsp;",i="Require authentication on local networks",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'\n		</label>\n\n		<p class="help-block">\n			',i="Populates the allowed networks setting with 127.0.0.1/255.255.255.255. This requires other computers on a local network to authenticate with myPlex."
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"\n		</p>\n	</div>\n",r}function y(e,t){var r="",i,s;return r+='\n		<p class="setup-myplex-loading">',i="Publishing server...",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</p>\n	",r}function b(e,t){var r="",i,s;f=n.unpublishing,i=f||e.unpublishing,s=n["if"],l=c.program(5,w,t),l.hash={},l.fn=l,l.inverse=c.program(7,E,t),i=s.call(e,i,l);if(i||i===0
)r+=i;return r+="\n	",r}function w(e,t){var r="",i,s;return r+='\n		<p class="setup-myplex-loading">',i="Unpublishing server...",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</p>\n	",r}function E(e,t){var r="",i,s;r+="\n		",f=n.account,i=f||e.account,i=i===null||i===undefined||i===!1?i:i.mappingError,s=n["if"],l=c.program(8,S,t),l.hash={},l.fn=l,l.inverse=c.program(19,A,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n	",r}function S(e,t){var r=""
,i,s,o;r+="\n			",i="badauth",f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.mappingError,f=n.if_eq,o=f||e.if_eq,l=c.program(9,x,t),l.hash={},l.fn=l,l.inverse=c.program(11,T,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n		",r}function x(e,t){var r="",i,s;return r+='\n				<p><i class="glyphicon remove-2"></i> ',i="Unable to authenticate your server",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=
v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n			",r}function T(e,t){var r="",i,s,o;i="unreachable",f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.mappingError,f=n.if_eq,o=f||e.if_eq,l=c.program(12,N,t),l.hash={},l.fn=l,l.inverse=c.program(14,C,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n			",r}function N(e,t){var r=""
,i,s;return r+='\n				<p><i class="glyphicon remove-2"></i> ',i="myPlex could not connect to your server",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n			",r}function C(e,t){var r="",i,s,o;i="myplexgone",f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.mappingError,f=n.
if_eq,o=f||e.if_eq,l=c.program(15,k,t),l.hash={},l.fn=l,l.inverse=c.program(17,L,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n			",r}function k(e,t){var r="",i,s;return r+='\n				<p><i class="glyphicon remove-2"></i> ',i="myPlex is not responding",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=
p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n			",r}function L(e,t){var r="",i,s;return r+='\n				<p><i class="glyphicon remove-2"></i> ',i="There was a problem publishing your server",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+' &middot; <a class="retry-btn" href="#">',i="Retry",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n			",r}function A(e,t){var r="",i,s,o;r+="\n			",i="mapped"
,f=n.account,s=f||e.account,s=s===null||s===undefined||s===!1?s:s.mappingState,f=n.if_eq,o=f||e.if_eq,l=c.program(20,O,t),l.hash={},l.fn=l,l.inverse=c.program(22,M,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n		",r}function O(e,t){var r="",i,s,o;return r+='\n				<p><i class="glyphicon ok-2"></i> ',f=n.account,i=f||e.account,i=i===null||i===undefined||i===!1?i:i.publicPort,s="Server is mapped to port {1}",f=n.t,o=f||e.t,typeof o===h?i=o.call(e,s,i,{hash:{}
}):o===d?i=p.call(e,"t",s,i,{hash:{}}):i=o,r+=v(i)+' &middot; <a class="unpublish-btn" href="#">',i="Unpublish",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a></p>\n			",r}function M(e,t){var r="",i,s;return r+='\n				<p class="publish-server-group"><a class="publish-btn btn btn-primary" href="#">',i="Publish Server",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a></p>\n\n				<p class="help-block">'
,i="Publishing a server makes it automatically available on your client devices without any configuration of your router.",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</p>\n			",r}function _(e,t){var r="",i,s;r+='\n		<div class="control-group manual-port-group ',f=n.showManual,i=f||e.showManual,s=n.unless,l=c.program(25,D,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;r+='">\n\n			<input type="checkbox" id="',f=n.mappingMode
,i=f||e.mappingMode,i=i===null||i===undefined||i===!1?i:i.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"mappingMode.id",{hash:{}})),r+=v(i)+'" name="',f=n.mappingMode,i=f||e.mappingMode,i=i===null||i===undefined||i===!1?i:i.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"mappingMode.id",{hash:{}})),r+=v(i)+'" value="1" ',f=n.mappingMode,i=f||e.mappingMode,i=i===null||i===undefined||i===!1?i:i.value,s=n["if"],l=c.program(28,H,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,
l);if(i||i===0)r+=i;return r+='>\n			<label class="inline" for="',f=n.mappingMode,i=f||e.mappingMode,i=i===null||i===undefined||i===!1?i:i.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"mappingMode.id",{hash:{}})),r+=v(i)+'">',i="Manually specify port",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n			<input type="text" id="',f=n.mappingPort,i=f||e.mappingPort,i=i===null||i===undefined||i===!1?i:i.id,typeof i===h?i=i.call(e,
{hash:{}}):i===d&&(i=p.call(e,"mappingPort.id",{hash:{}})),r+=v(i)+'" name="',f=n.mappingPort,i=f||e.mappingPort,i=i===null||i===undefined||i===!1?i:i.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"mappingPort.id",{hash:{}})),r+=v(i)+'" class="input-dark" value="',f=n.mappingPort,i=f||e.mappingPort,i=i===null||i===undefined||i===!1?i:i.value,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"mappingPort.value",{hash:{}})),r+=v(i)+'">\n\n			<p class="help-block">\n				',i="Enable this if automatic mapping fails. You will need to configure your router. Detailed instructions are available <a href='http://wiki.plexapp.com/index.php/MyPlex#Publishing_the_Plex_Media_Server' target='_blank'>here</a>."
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"\n			</p>\n		</div>\n	",r}function D(e,t){var r="",i,s;r+="advanced-prefs ",f=n.showAdvanced,i=f||e.showAdvanced,s=n.unless,l=c.program(26,P,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r}function P(e,t){return"hide"}function H(e,t){return"checked"}function B(e,t){return"hide"}function j(e,t){return"checked"}function F(e,t){var r="",i,s;return r+='\n		<div class="control-group">\n			<a class="change-form-btn hide" href="#">'
,i="Already have an account?",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n			<a class="change-form-btn" href="#">',i="Need an account?",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n		</div>\n\n		<div class="username-group">\n			<label class="control-label" for="username">',i="Username",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=
v(i)+'</label>\n\n			<div class="controls">\n				<input type="text" id="username" class="input-dark span5" name="username" value="',f=n.account,i=f||e.account,i=i===null||i===undefined||i===!1?i:i.username,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"account.username",{hash:{}})),r+=v(i)+'">\n				<p class="help-block"><span class="inline-help"></span></p>\n			</div>\n		</div>\n\n		<div class="email-group hide">\n			<label class="control-label" for="email">',i="Email",f=n.t,s=f||e.t,typeof 
s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n\n			<div class="controls">\n				<input type="text" id="email" class="input-dark span5" name="email" value="">\n				<p class="help-block"><span class="inline-help"></span></p>\n			</div>\n		</div>\n\n		<div class="password-group">\n			<label class="control-label" for="password">',i="Password",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n\n			<div class="controls">\n				<input type="password" id="password" class="input-dark span5" name="password" value="'
,f=n.account,i=f||e.account,i=i===null||i===undefined||i===!1?i:i.password,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"account.password",{hash:{}})),r+=v(i)+'">\n				<p class="help-block">\n					<a class="forgot-password-btn" href="https://my.plexapp.com/users/password/new">',i="Forgot Password?",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n				</p>\n			</div>\n		</div>\n\n		<div class="confirmPassword-group hide">\n			<label class="control-label" for="confirmPassword">'
,i="Confirm Password",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n\n			<div class="controls">\n				<input type="password" id="confirmPassword" class="input-dark span5" name="confirmPassword" value="',f=n.account,i=f||e.account,i=i===null||i===undefined||i===!1?i:i.password,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"account.password",{hash:{}})),r+=v(i)+'">\n				<p class="help-block"><span class="inline-help"></span></p>\n			</div>\n		</div>\n\n		<div class="sub-actions form-actions">\n			<button type="submit" class="submit-btn btn btn-medium btn-primary">'
,i="Sign In",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</button>\n			<button type="submit" class="submit-btn btn btn-medium btn-primary hide">',i="Sign Up",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</button>\n			<button class="btn btn-medium btn-inverse cancel-btn">',i="Cancel",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</button>\n		</div>\n"
,r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;o="ok",f=n.account,u=f||t.account,u=u===null||u===undefined||u===!1?u:u.signInState,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(34,F,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/server/settings/MyPlexSettingsView",["hb!templates/server/settings/MyPlexSettingsView.tpl"
,"plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/model/MyPlexAccountModel","plex/view/BaseView","jquery"],function(e,t,n,r,i,s,o){var u=s.extend({id:"myplex",className:"preferences-group myplex-container",publishing:!1,unpublishing:!1,pollInterval:null,events:{"click .change-form-btn":"onChangeFormClick","click .submit-btn":"onSubmitClick","click .sign-out-btn":"onSignOutClick","click .publish-btn":"onPublishClick","click .retry-btn":"onRetryClick","click .unpublish-btn"
:"onUnpublishClick","change input[name=ManualPortMappingMode]":"onManualModeChange","change input[name=ManualPortMappingPort]":"onManualPortChange","change input[name=require-authentication]":"onRequireAuthenticationChange"},initialize:function(){this.addBinding(this.model,"change:signInState",this.onAccountChange),this.addBinding(this.model,"change:mappingState",this.onAccountChange),this.addBinding(this.model,"change:publicPort",this.onAccountChange),this.model.fetch();var e=this.model.server.get
("preferences");this.mappingModePref=e.get("ManualPortMappingMode"),this.mappingPortPref=e.get("ManualPortMappingPort"),this.allowedNetworksPref=e.get("allowedNetworks"),this.addBinding(e,"reset",this.onPreferencesReset),e.populate()},render:function(){var t=o(".advanced-prefs:first"),n={account:this.model.toJSON(),publishing:this.publishing,unpublishing:this.unpublishing};return this.mappingModePref&&(n.showMappingMode=!0,n.mappingMode=this.mappingModePref.toJSON(),_.isString(n.mappingMode.value
)&&(n.mappingMode.value=n.mappingMode.value==="true")),this.mappingPortPref&&(n.mappingPort=this.mappingPortPref.toJSON()),this.allowedNetworksPref&&(n.allowedNetworks=this.allowedNetworksPref.toJSON()),t.hasClass("hide")||(n.showAdvanced=!0),n.account.mappingState==="failed"&&(n.showManual=!0),this.$el.html(e(n)),this},update:function(){var e=this.model.get("signInState"),t=this.model.get("mappingState");e==="ok"&&(this.publishing?t==="waiting"||t==="unknown"?this.pollInterval||(this.pollInterval=
setInterval(_.bind(function(){this.model.fetch({hideLoadingAlert:!0})},this),500)):(clearInterval(this.pollInterval),this.pollInterval=null,this.publishing=!1,this.render()):this.unpublishing&&(t==="waiting"||t==="mapped"?this.pollInterval||(this.pollInterval=setInterval(_.bind(function(){this.model.fetch({hideLoadingAlert:!0})},this),500)):(clearInterval(this.pollInterval),this.pollInterval=null,this.unpublishing=!1,this.render())))},retry:function(){this.publishing=!0,this.render(),t.trigger("command:PublishServer"
,this.model.server,!1,_.bind(function(){setTimeout(_.bind(function(){t.trigger("command:PublishServer",this.model.server,!0,_.bind(function(){this.model.fetch({hideLoadingAlert:!0})},this))},this),5e3)},this))},signIn:function(e,n){var r={username:e,password:n};t.trigger("command:ServerSignIn",this.model,r,_.bind(function(){this.model.fetch()},this))},signUp:function(e,i,s,o){if(s!==o){r.set("alert",{status:"error",message:n.t("Your passwords do not match.")});return}var u={username:e,email:i,password
:s};t.trigger("command:ServerSignUp",this.model,u,_.bind(function(){this.model.fetch()},this))},savePreference:function(e){this.mappingModePref.save(e).done(_.bind(function(){_.delay(_.bind(function(){this.model.fetch({hideLoadingAlert:!0})},this),5e3)},this))},onAccountChange:function(e,t){this.render(),this.update()},onPreferencesReset:function(e){this.mappingModePref=e.get("ManualPortMappingMode"),this.mappingPortPref=e.get("ManualPortMappingPort"),this.allowedNetworksPref=e.get("allowedNetworks"
),this.render()},onChangeFormClick:function(e){e.preventDefault(),this.$(".change-form-btn, .email-group, .confirmPassword-group, .forgot-password-btn, .submit-btn").toggleClass("hide")},onSubmitClick:function(e){e.preventDefault(),this.$(".confirmPassword-group").hasClass("hide")?this.signIn(this.$("#username").val(),this.$("#password").val()):this.signUp(this.$("#username").val(),this.$("#email").val(),this.$("#password").val(),this.$("#confirmPassword").val())},onSignOutClick:function(e){e.preventDefault
(),t.trigger("command:ServerSignOut",this.model,_.bind(function(){this.model.fetch()},this))},onPublishClick:function(e){e.preventDefault(),this.publishing=!0,this.render(),t.trigger("command:PublishServer",this.model.server,!0,_.bind(function(){this.model.fetch({hideLoadingAlert:!0})},this))},onRetryClick:function(e){e.preventDefault(),this.retry()},onUnpublishClick:function(e){e.preventDefault(),this.unpublishing=!0,this.render(),t.trigger("command:PublishServer",this.model.server,!1,_.bind(function(
){this.model.fetch({hideLoadingAlert:!0})},this))},onManualModeChange:function(e){var t=e.currentTarget,n={},r=t.value;t.checked||(r="0"),n[t.name]=r,this.mappingModePref.set("value",t.checked),this.savePreference(n)},onManualPortChange:function(e){var t=e.currentTarget,n={};n[t.name]=t.value,this.mappingPortPref.set("value",t.value),this.savePreference(n)},onRequireAuthenticationChange:function(e){var t=o(e.currentTarget).prop("checked"),n={},r=t?"127.0.0.1/255.255.255.255":"";n.allowedNetworks=
r,this.allowedNetworksPref.set("value",r),this.savePreference(n),this.trigger("change:allowedNetworks",r)}});return u}),define("hb!templates/server/settings/AgentsSettingsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t,r){var i="",s,o,u;i+='\n		<li class="',f=n.key,s=f||e.key,f=n.activeSection,o=f||r.activeSection,f=n.if_eq,u=f||e.if_eq,l=c.program(2,y,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof u===h?s=u.call(e,o,s,l):s=p.call(e,u,o,s,l);if(s||s===0)i+=
s;return i+='"><a href="#',f=n.key,s=f||e.key,typeof s===h?s=s.call(e,{hash:{}}):s===v&&(s=d.call(e,"key",{hash:{}})),i+=m(s)+'">',f=n.label,s=f||e.label,f=n.t,o=f||e.t,typeof o===h?s=o.call(e,s,{hash:{}}):o===v?s=d.call(e,"t",s,{hash:{}}):s=o,i+=m(s)+"</a></li>\n	",i}function y(e,t){return"active"}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.blockHelperMissing,d=n.helperMissing,v=void 0,m=this.escapeExpression;s+='<ul class="agent-sections-nav nav nav-pills">\n	',f=n.sections,o=f||t
.sections,u=n.each,l=c.programWithDepth(g,i,t),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;return s+='\n</ul>\n\n<div class="agent-details">\n	<p class="help-block">',o="<span class='agent-name'></span>",u="Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",f=n.t,a=f||t.t,typeof a===h?o=a.call(t,u,o,{hash:{}}):a===v?o=d.call(t,"t",u,o,{hash:{}}):o=a,s+=m(o)+"</p>\n</div>\n",s})}),define("hb!templates/lists/preferences/items/AgentListItem.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a data-identifier="',u=n.identifier,o=u||t.identifier,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"identifier",{hash:{}})),s+=h(o)+'" href="#">',u=n.name,o=u||t.name,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"name",{hash:{}})),s+=h(o)+"</a>\n",s})}),define("plex/view/lists/preferences/items/AgentListItem"
,["hb!templates/lists/preferences/items/AgentListItem.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",active:!1,initialize:function(e){e.list.collection.first().id===this.model.id&&(this.active=!0),this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e(this.model.toJSON())),this.active&&this.$el.addClass("active"),this}});return r}),define("plex/view/lists/preferences/AgentList",["plex/view/lists/BaseList","plex/view/lists/preferences/items/AgentListItem"
],function(e,t){var n=e.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-minimal",initialize:function(){this.setup(t),this.collection.populate()},render:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("hb!templates/lists/preferences/items/SortableAgentListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"checked"}function m(e,t){return"disabled"}function g(e,t){return'<a class="agent-preferences-btn" href="#"><i class="glyphicon settings"></i> Settings</a>'
}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<i class="move-icon glyphicon sort"></i>\n<input type="checkbox" id="',a=n.identifier,o=a||t.identifier,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"identifier",{hash:{}})),s+=d(o)+'" name="',a=n.identifier,o=a||t.identifier,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"identifier",{hash:{}})),s+=d(o)+'" ',a=n.enabled,o=a||t.enabled,u=n["if"],f=l.program(1,v,i),f.hash={},
f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+=" ",a=n.primary,o=a||t.primary,u=n["if"],f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='>\n<label for="',a=n.identifier,o=a||t.identifier,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"identifier",{hash:{}})),s+=d(o)+'">',a=n.name,o=a||t.name,a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</label> ",a=n.hasPrefs,o=a||t.hasPrefs,u=n["if"
],f=l.program(5,g,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("hb!templates/modals/ChannelSettingsModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r,i;return r="Channel",f=n.t,i=f||e.t,typeof i===h?r=i.call(e,r,{hash:{}}):i===d?r=p.call(e,"t",r,{hash:{}}):r=i,v(r)}function y(e,t){var r;return f=n.channel,r=f||e.channel,r=r===null||r===undefined||r===!1?r:r.name,typeof r===h?r=r.call(e,{hash:{}}):r===
d&&(r=p.call(e,"channel.name",{hash:{}})),v(r)}function b(e,t){var r="",i,s,o;r+="\n			",i="bool",f=n.type,s=f||e.type,f=n.if_eq,o=f||e.if_eq,l=c.program(6,w,t),l.hash={},l.fn=l,l.inverse=c.program(9,S,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n		",r}function w(e,t){var r="",i,s;r+='\n				<label class="checkbox" for="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'">\n					<input id="input_',f=n.id
,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'" type="checkbox" value="true" class="input-dark" name="',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'"',f=n.value,i=f||e.value,s=n["if"],l=c.program(7,E,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="> &nbsp;",f=n.label,i=f||e.label,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s
,r+=v(i)+"\n				</label>\n			",r}function E(e,t){return' checked="checked"'}function S(e,t){var r="",i,s,o;r+='\n				<label class="control-label" for="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'">',f=n.label,i=f||e.label,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</label>\n\n				<div class="controls">\n					',i="enum",f=n.type,s=f||e.type,f=n.if_eq,o=f||e.if_eq,l=c.program(10,x,t)
,l.hash={},l.fn=l,l.inverse=c.program(14,C,t),f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+="\n				</div>\n			",r}function x(e,t){var r="",i,s;r+='\n						<select id="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'" class="input-dark span4" name="',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'">\n							',f=n.values,i=f||e.values,s=n.each,l=c.programWithDepth
(T,t,e),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n						</select>\n					",r}function T(e,t,r){var i="",s,o,u;i+='\n								<option value="',f=n.value,s=f||e.value,typeof s===h?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"value",{hash:{}})),i+=v(s)+'"',f=n.value,s=f||r.value,f=n.value,o=f||e.value,f=n.if_eq,u=f||e.if_eq,l=c.program(12,N,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof u===h?s=u.call(e,o,s,l):s=m.call(e,u,o,s,l);if(s||s===0)i+=s;return i+=">",f=n.label
,s=f||e.label,f=n.t,o=f||e.t,typeof o===h?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+"</option>\n							",i}function N(e,t){return' selected="selected"'}function C(e,t){var r="",i;return r+='\n						<input id="input_',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'" type="text" class="input-dark span4" name="',f=n.id,i=f||e.id,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"id",{hash:{}})),r+=v(i)+'" value="',f=n.
value,i=f||e.value,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"value",{hash:{}})),r+=v(i)+'">\n					',r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon settings"></i> ',o="Preferences...",f=n.channel,u=f||t.channel,u=u===null||u===undefined||u===!1?u
:u.name,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(3,y,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+=" ",o="Settings",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</h3>\n</div>\n\n<form id="channel-preferences-form" class="modal-form">\n	<div class="modal-body minimal-light-scrollbar">\n		',f=n.prefs,o=f||t.prefs,u=n.each,l=c.program(5,b,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u
.call(t,o,l);if(o||o===0)s+=o;return s+='\n	</div>\n\n	<div class="modal-footer">\n		<button class="btn btn-inverse cancel-btn">',o="Cancel",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</button>\n		<button type="submit" class="btn btn-primary">',o="Save",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</button>\n	</div>\n</form>\n",s})}),define("plex/view/modals/ChannelSettingsModal",["hb!templates/modals/ChannelSettingsModal.tpl"
,"plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/model/collections/PreferenceCollection","plex/view/BaseView","jquery"],function(e,t,n,r,i,s,o){var u=s.extend({name:"ChannelSettingsModal",className:"modal channel-preferences-modal fade",changes:null,events:{hidden:"onClose","change input[name]":"onPreferenceChange","change select[name]":"onPreferenceChange","submit form":"onSubmit","click .cancel-btn":"onCancel"},initialize:function(){this.changes={},this
.addBinding(this.collection,"reset",this.render)},render:function(){return this.$el.html(e({channel:this.model.toJSON(),prefs:this.collection.toJSON()})).modal(),this},onClose:function(e){t.trigger("destroy:modal",this)},onPreferenceChange:function(e){var t=e.currentTarget,n=t.value;t.type=="checkbox"&&!t.checked&&(n="0"),this.changes[t.name]=n},onSubmit:function(e){if(_.isEmpty(this.changes))return this.onCancel(e);e.preventDefault();var t=this.collection.first(),i=t.getSaveParams(this.changes),
s=_.isFunction(this.collection.url)?this.collection.url():this.collection.url,u=s+"/set?"+o.param(i);o.ajax(t.server.getAjaxOptions(u)).done(_.bind(function(){_.each(this.changes,function(e,t){var n=this.collection.get(t),r=n.get("type");r=="bool"?n.set("value",e!=="0"):r=="int"?n.set("value",parseInt(e,10)):n.set("value",e)},this),this.$el.modal("hide")},this)).fail(function(){r.set("alert",{status:"error",message:n.t("There was a problem saving your channel settings.")})})},onCancel:function(e)
{e.preventDefault(),this.$el.modal("hide")}});return u}),define("plex/view/lists/preferences/items/SortableAgentListItem",["hb!templates/lists/preferences/items/SortableAgentListItem.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/model/collections/PreferenceCollection","plex/view/BaseView","plex/view/modals/ChannelSettingsModal"],function(e,t,n,r,i,s){var o=i.extend({tagName:"li",events:{"click .agent-preferences-btn":"onPreferencesClick"},initialize:function(){this.addBinding(this.model
,"change",this.render)},render:function(){return this.$el.html(e(this.model.toJSON())),this},onPreferencesClick:function(e){e.preventDefault();var t=new r([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(_.bind(function(){n.set("modal",new s({model:this.model,collection:t}))},this))}});return o}),function(e){var t,n=e();e.fn.sortable=function(r){var i=String(r);return r=e.extend({connectWith:!1},r),this.each(function(){if(/^enable|disable|destroy$/.test(i)){var s=
e(this).children(e(this).data("items")).attr("draggable",i=="enable");i=="destroy"&&s.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s");return}var o,u,s=e(this).children(r.items),a=e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');s.find(r.handle).mousedown(function(){o=!0}).mouseup(function(){o=!1}),e(this).data("items",r.items),n=n.add(a),r.connectWith&&e(r.connectWith).add(this).data("connectWith"
,r.connectWith),s.attr("draggable","true").on("dragstart.h5s",function(n){if(r.handle&&!o)return!1;o=!1;var i=n.originalEvent.dataTransfer;i.effectAllowed="move",i.setData("Text","dummy"),u=(t=e(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){if(!t)return;t.removeClass("sortable-dragging").show(),n.detach(),u!=t.index()&&t.parent().trigger("sortupdate",{item:t}),t=null}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end()
.add([this,a]).on("dragover.h5s dragenter.h5s drop.h5s",function(i){return!s.is(t)&&r.connectWith!==e(t).parent().data("connectWith")?!0:i.type=="drop"?(i.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):(i.preventDefault(),i.originalEvent.dataTransfer.dropEffect="move",s.is(this)?(r.forcePlaceholderSize&&a.height(t.outerHeight()),t.hide(),e(this)[a.index()<e(this).index()?"after":"before"](a),n.not(a).detach()):!n.is(this)&&!e(this).children(r.items).length&&(n.detach
(),e(this).append(a)),!1)})})}}(jQuery),define("sortable",function(){}),define("plex/view/lists/preferences/SortableAgentList",["plex/view/lists/BaseList","plex/view/lists/preferences/items/SortableAgentListItem","jquery","sortable"],function(e,t,n){var r=e.extend({tagName:"ul",className:"sortable-agent-list",events:{"change input[type=checkbox]":"onAgentChecked",sortupdate:"onSortUpdate"},initialize:function(){this.setup(t),this.collection&&this.collection.populate()},render:function(){return this
.$el.empty(),this.collection&&this.populate(this.collection),this},reset:function(t){e.prototype.reset.call(this,t),this.$el.sortable(),this.delegateEvents()},save:function(){var e="";this.$("input[type=checkbox]").each(function(t){var r=n(this),i=r.prop("checked");i&&(e+=this.name+",")}),e=e.substring(0,e.length-1),this.trigger("save",e)},onAgentChecked:function(e){this.save()},onSortUpdate:function(e){this.save()}});return r}),define("plex/view/server/settings/AgentsSettingsView",["hb!templates/server/settings/AgentsSettingsView.tpl"
,"plex/model/collections/AgentCollection","plex/view/BaseView","plex/view/lists/preferences/AgentList","plex/view/lists/preferences/SortableAgentList","jquery"],function(e,t,n,r,i,s){var o=[{key:"movies",typeID:1,label:"Movies"},{key:"tv",typeID:2,label:"TV Shows"},{key:"music",typeID:8,label:"Artists"},{key:"albums",typeID:9,label:"Albums"},{key:"photos",typeID:13,label:"Photos"}],u=_.reduce(o,function(e,t){return e[t.key]=t,e},{}),a=function(e){return u[e]},f=n.extend({id:"agents",className:"preferences-group agents-container"
,activeSection:"movies",activeAgent:null,agentList:null,sortableList:null,events:{"click .agent-sections-nav a":"onAgentSectionClick","click .agents-nav a":"onAgentClick"},initialize:function(){var e=this.populateAgents(this.activeSection);this.agentList=this.registerView(new r({collection:e})),this.sortableList=this.registerView(new i({collection:null})),this.addBinding(this.sortableList,"save",this.onSaveOrder)},render:function(){return this.$el.html(e({activeSection:this.activeSection,sections
:o})),this.$(".agent-sections-nav").after(this.agentList.render().el),this.$(".agent-details").append(this.sortableList.render().el),this},populateAgents:function(e){var n=a(e);return n.agents||(n.agents=new t([],{server:this.model,sectionType:n.typeID})),n.agents.populate().done(_.bind(function(){this.selectAgent(n.agents.first())},this)),n.agents},selectAgent:function(e){this.$(".agent-name").text(e.get("name")),this.activeAgent=e,this.populateAdditionalAgents(e)},populateAdditionalAgents:function(
e){var n=a(this.activeSection),r=new t([],{server:this.model,sectionType:n.typeID,relatedAgent:e.id}),i=new t([],{server:this.model,sectionType:n.typeID,primaryAgent:e.id}),s=r.fetch().pipe(function(e){return i.fetch()});s=s.pipe(_.bind(function(n){var s=function(t){return t.id===e.id?(t.set("primary",!0),!0):i.get(t.id)?!0:!1};this.sortableList.rebase(new t(r.filter(s),{server:this.model}))},this))},onSaveOrder:function(e){var t=a(this.activeSection);this.activeAgent.url="system/agents/"+this.activeAgent
.id+"/config/"+t.typeID,this.activeAgent.save({order:e})},onAgentSectionClick:function(e){e.preventDefault();var t=s(e.target),n=t.attr("href"),r=n.replace("#","");this.activeSection=r;var i=this.populateAgents(r);this.agentList.rebase(i),this.$(".agent-sections-nav li").removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();var t=s(e.target),n=t.data("identifier"),r=this.agentList.collection.get(n);this.selectAgent(r),this.$(".agents-nav li").removeClass
("active"),t.parent("li").addClass("active")}});return f}),define("plex/view/server/settings/ServerSettingsView",["hb!templates/server/settings/ServerSettingsView.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/control/utils/LanguageUtil","plex/model/AppModel","plex/model/AccountModel","plex/model/PreferenceModel","plex/view/BaseView","plex/view/server/settings/PlexWebSettingsView","plex/view/server/settings/MyPlexSettingsView","plex/view/server/settings/AgentsSettingsView"
,"jquery"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=u.extend({className:"settings-container container container-full well",disableForm:!1,plexWebSettings:null,myPlexSettings:null,agentsSettings:null,events:{"click .preferences-nav a":"onPreferenceGroupClick","click a.standard-prefs":"onToggleAdvanced","click a.advanced-prefs":"onToggleStandard","change input[name]":"onPreferenceChange","change select[name]":"onPreferenceChange","submit .preferences-form":"onSubmit","click .cancel-btn":"onCancelClick"
},orderedGroups:[{id:"general",group:"general",title:"General"},{id:"library",group:"library",title:"Library"},{id:"channels",group:"channels",title:"Channels"},{id:"network",group:"network",title:"Network"},{id:"transcoder",group:"transcoder",title:"Transcoder"},{id:"languages",group:"account.language",title:"Languages"},{id:"dlna",group:"dlna",title:"DLNA"},{id:"bonjour",group:"bonjour",title:"Network Discovery"}],initialize:function(e){this.global=e.global,this.changes={},this.plexWebSettings=new 
a({model:i.get("settings"),active:this.global}),this.myPlexSettings=new f({model:this.model.get("myPlexAccount")}),this.agentsSettings=new l({model:this.model}),this.addBinding(this.plexWebSettings,"save",this.save),this.addBinding(this.myPlexSettings,"change:allowedNetworks",this.onAllowedNetworksChange);var t=_.bind(function(){this.removeAllViews(),this.render()},this);this.prefs=this.model.get("preferences"),this.addBinding(this.prefs,"reset",t),this.prefs.populate(),this.account=new s({key:"/accounts/1"
},{server:this.model}),this.account.fetch().done(t)},render:function(){var t="",n=!1,r=this.prefs.get("FriendlyName");r&&!r.get("value")&&(t=r.get("value"),n=!0,r.set("value",this.model.get("name"),{silent:!0}));var i={},s={},o=function(e){if(!e.get("hidden")){var t=e.get("group");i[t]||(i[t]=[]),i[t].push(e.toJSON()),e.get("advanced")||(s[t]=!0)}};this.prefs.each(o),_.each(this.getFakePrefs(),o);var u=_.map(this.orderedGroups,function(e){var t=_.clone(e);return t.prefs=i[e.group],t.advanced=!(e.
group in s),delete i[e.group],t},this);_.each(i,function(e,t){u.push({group:t,title:t,prefs:e,advanced:!(t in s)})});var a={shared:this.model.get("shared"),groups:u,global:this.global};return n&&r.set("value",t,{silent:!0}),this.$el.html(e(a)),this.$(".preferences-group:last").after(this.plexWebSettings.render().el),this.$(".preferences-group:last").after(this.myPlexSettings.render().el),this.$(".preferences-group:last").after(this.agentsSettings.render().el),this.plexWebSettings.delegateEvents()
,this.myPlexSettings.delegateEvents(),this.agentsSettings.delegateEvents(),this.delegateEvents(),this.global&&(this.disableForm=!0,this.$(".main-actions").addClass("hide")),this},getFakePrefs:function(){var e=[],t=_.map(r.byCode,function(e,t){return{value:t,label:e}});return e.push(new o({id:"account.autoSelectAudio",label:"Automatically select audio tracks",summary:"Automatically select audio tracks in your preferred language when possible.","default":!1,value:this.account.get("autoSelectAudio")==="1"
,type:"bool",group:"account.language",advanced:!1,hidden:!1},{server:this.model})),e.push(new o({id:"account.defaultAudioLanguage",label:"Prefer audio tracks in","default":"en",value:this.account.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:t},{server:this.model})),e.push(new o({id:"account.subtitleMode",label:"Subtitle mode","default":0,value:parseInt(this.account.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1
,enumValues:[{value:"0",label:"Manually selected"},{value:"1",label:"Shown with foreign audio"},{value:"2",label:"Always enabled"}]},{server:this.model})),e.push(new o({id:"account.defaultSubtitleLanguage",label:"Prefer subtitles in","default":"en",value:this.account.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:t},{server:this.model})),e},save:function(e){_.isEmpty(this.changes)&&!e&&t.trigger("navigate:back");var r=[],s="account.",o=!1;_.each
(_.keys(this.changes),function(e){e.lastIndexOf(s,0)===0&&(this.account.set(e.substring(s.length),this.changes[e],{silent:!0}),o=!0,delete this.changes[e])},this),o&&r.push(this.account.save()),_.isEmpty(this.changes)||r.push(this.prefs.first().save(this.changes)),c.when.apply(c,r).done(_.bind(function(){_.each(this.changes,function(e,t){var n=this.prefs.get(t),r=n.get("type");r=="bool"?n.set("value",e!=="0"):r=="int"?n.set("value",parseInt(e,10)):n.set("value",e)},this),e||t.trigger("navigate:back"
)},this)).fail(function(){i.set("alert",{status:"error",message:n.t("There was a problem saving your server settings.")})})},onAllowedNetworksChange:function(e){this.$("input[name=allowedNetworks]").val(e)},onPreferenceGroupClick:function(e){e.preventDefault();var t=c(e.target),n=t.attr("href");this.$(".preferences-group").removeClass("active"),this.$(n).addClass("active"),n==="#plexweb"||n==="#myplex"||n==="#agents"?(this.disableForm=!1,this.$(".main-actions").addClass("hide")):(this.disableForm=!1
,this.$(".main-actions").removeClass("hide")),this.$(".preferences-nav li").removeClass("active"),t.parent("li").addClass("active")},onToggleAdvanced:function(e){e.preventDefault(),this.$(".standard-prefs").addClass("hide"),this.$(".advanced-prefs").removeClass("hide")},onToggleStandard:function(e){e.preventDefault(),this.$(".advanced-prefs").hasClass("active")&&this.$(".preferences-nav > li:first a").click(),this.$(".standard-prefs").removeClass("hide"),this.$(".advanced-prefs").addClass("hide")
},onPreferenceChange:function(e){if(this.disableForm)return;var t=e.currentTarget,n=t.value;t.type=="checkbox"&&!t.checked&&(n="0"),this.changes[t.name]=n},onSubmit:function(e){e.preventDefault();if(this.disableForm)return;this.save(),this.plexWebSettings.save(!0)},onCancelClick:function(e){e.preventDefault(),t.trigger("navigate:back")}});return h}),define("hb!templates/server/ServerTimelineView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,
l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<div class="row-fluid">\n	<h1>\n		<i class="glyphicon calendar"></i> ',o="Timeline",f=n.t,u=f||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n	</h1>\n</div>\n\n<div id="timeline-banner" class="banner muted">\n	<div class="pull-right">\n		',o="Since",f=n.t,u=f||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+" ",o="LT",f=n.startTime,u=f||
t.startTime,f=n.formatDateCustom,a=f||t.formatDateCustom,typeof a===c?o=a.call(t,u,o,{hash:{}}):a===p?o=h.call(t,"formatDateCustom",u,o,{hash:{}}):o=a,s+=d(o)+'\n	</div>\n\n	<span class="banner-title">',o="Server Events",f=n.t,u=f||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</span> <span class="banner-count"></span>\n</div>\n',s})}),define("hb!templates/lists/items/ServerEventListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i
){function g(e,t){return'\n	<i class="server-event-icon glyphicon settings"></i>\n'}function y(e,t){var r,i,s;return r="status",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i._type,f=n.if_eq,s=f||e.if_eq,l=c.program(4,b,t),l.hash={},l.fn=l,l.inverse=c.program(6,w,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function b(e,t){return'\n	<i class="server-event-icon glyphicon bullhorn"></i>\n'}function w(e,t){var r,i,s;return r="websocket",f=n.event,i=f||e.event,
i=i===null||i===undefined||i===!1?i:i._type,f=n.if_eq,s=f||e.if_eq,l=c.program(7,E,t),l.hash={},l.fn=l,l.inverse=c.program(12,T,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function E(e,t){var r="",i,s;r+="\n	",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.opened,s=n["if"],l=c.program(8,S,t),l.hash={},l.fn=l,l.inverse=c.program(10,x,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n",r}function S(e,t){return'\n		<i class="server-event-icon glyphicon bullhorn"></i>\n	'
}function x(e,t){return'\n		<i class="server-event-icon glyphicon warning-sign"></i>\n	'}function T(e,t){var r,i,s;return r=0,f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.state,f=n.if_eq,s=f||e.if_eq,l=c.program(13,N,t),l.hash={},l.fn=l,l.inverse=c.program(15,C,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function N(e,t){return'\n	<i class="server-event-icon glyphicon-plus"></i>\n'}function C(e,t){var r,i,s;return r=5,f=n.event,i=f||e.event,i=i===null||i===
undefined||i===!1?i:i.state,f=n.if_eq,s=f||e.if_eq,l=c.program(16,k,t),l.hash={},l.fn=l,l.inverse=c.program(18,L,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function k(e,t){return'\n	<i class="server-event-icon glyphicon ok-2"></i>\n'}function L(e,t){var r,i,s;return r=6,f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.state,f=n.if_eq,s=f||e.if_eq,l=c.program(19,A,t),l.hash={},l.fn=l,l.inverse=c.program(21,O,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,
i,r,l),r||r===0?r:""}function A(e,t){return'\n	<i class="server-event-icon glyphicon magic"></i>\n'}function O(e,t){var r,i,s;return r=9,f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.state,f=n.if_eq,s=f||e.if_eq,l=c.program(22,M,t),l.hash={},l.fn=l,l.inverse=c.program(24,_,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function M(e,t){return'\n	<i class="server-event-icon glyphicon ban"></i>\n'}function _(e,t){return'\n	<i class="server-event-icon glyphicon cogwheels"></i>\n'
}function D(e,t){var r="",i,s,o,u;return r+="\n	",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.value,f=n.event,s=f||e.event,s=s===null||s===undefined||s===!1?s:s.label,o="Preference {1} set to {2}.",f=n.t,u=f||e.t,typeof u===h?i=u.call(e,o,s,i,{hash:{}}):u===v?i=d.call(e,"t",o,s,i,{hash:{}}):i=u,r+=m(i)+"\n",r}function P(e,t){var r,i,s;return r="status",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i._type,f=n.if_eq,s=f||e.if_eq,l=c.program(29,H,t),l.hash={},l.fn=l,l.
inverse=c.program(35,I,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function H(e,t){var r="",i,s;r+="\n	",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.message,s=n["if"],l=c.program(30,B,t),l.hash={},l.fn=l,l.inverse=c.program(32,j,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n",r}function B(e,t){var r="",i,s;return r+="\n		",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.message,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=
d.call(e,"t",i,{hash:{}}):i=s,r+=m(i)+"\n	",r}function j(e,t){var r="",i,s;r+="\n		",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.title,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=d.call(e,"t",i,{hash:{}}):i=s,r+=m(i),f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.description,s=n["if"],l=c.program(33,F,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n	",r}function F(e,t){var r="",i,s;return r+=": ",f=n.event,i=f||e.event
,i=i===null||i===undefined||i===!1?i:i.description,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=d.call(e,"t",i,{hash:{}}):i=s,r+=m(i),r}function I(e,t){var r,i,s;return r="timeline",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i._type,f=n.if_eq,s=f||e.if_eq,l=c.program(36,q,t),l.hash={},l.fn=l,l.inverse=c.program(38,R,t),f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function q(e,t){var r="",i,s;return r+="\n	",f=n.event,i=f||e.event,i=i===null||i===
undefined||i===!1?i:i.stateString,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=d.call(e,"t",i,{hash:{}}):i=s,r+=m(i)+'\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===v&&(i=d.call(e,"serverID",{hash:{}})),r+=m(i)+"/sections/",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===v&&(i=d.call(e,"event.sectionID",{hash:{}})),r+=m(i)+"/details/",f=n.event,i=f||e.event,i=i===null||i===undefined||
i===!1?i:i.itemID,typeof i===h?i=i.call(e,{hash:{}}):i===v&&(i=d.call(e,"event.itemID",{hash:{}})),r+=m(i)+'">',f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.mediaTitle,typeof i===h?i=i.call(e,{hash:{}}):i===v&&(i=d.call(e,"event.mediaTitle",{hash:{}})),r+=m(i)+"</a>\n	",i="in",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=d.call(e,"t",i,{hash:{}}):i=s,r+=m(i)+'\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===v&&(i=d.call(e,"serverID"
,{hash:{}})),r+=m(i)+"/sections/",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===v&&(i=d.call(e,"event.sectionID",{hash:{}})),r+=m(i)+'">',f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.sectionTitle,typeof i===h?i=i.call(e,{hash:{}}):i===v&&(i=d.call(e,"event.sectionTitle",{hash:{}})),r+=m(i)+"</a>\n",r}function R(e,t){var r,i,s;return r="websocket",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i._type,f=n.if_eq
,s=f||e.if_eq,l=c.program(39,U,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof s===h?r=s.call(e,i,r,l):r=p.call(e,s,i,r,l),r||r===0?r:""}function U(e,t){var r="",i,s;r+="\n	",f=n.event,i=f||e.event,i=i===null||i===undefined||i===!1?i:i.opened,s=n["if"],l=c.program(40,z,t),l.hash={},l.fn=l,l.inverse=c.program(42,W,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n",r}function z(e,t){var r="",i,s,o;return r+="\n		",f=n.serverName,i=f||e.serverName,s="Opened connection to {1}, listening for events.",f=
n.t,o=f||e.t,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===v?i=d.call(e,"t",s,i,{hash:{}}):i=o,r+=m(i)+"\n	",r}function W(e,t){var r,i;return f=n.event,r=f||e.event,r=r===null||r===undefined||r===!1?r:r.closed,i=n["if"],l=c.program(43,X,t),l.hash={},l.fn=l,l.inverse=c.program(45,V,t),r=i.call(e,r,l),r||r===0?r:""}function X(e,t){var r="",i,s,o;return r+="\n		",f=n.serverName,i=f||e.serverName,s="Connection to {1} closed.",f=n.t,o=f||e.t,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===v?i=d.call(e,"t",s,i
,{hash:{}}):i=o,r+=m(i)+"\n	",r}function V(e,t){var r="",i,s,o;return r+="\n		",f=n.serverName,i=f||e.serverName,s="Unable to listen for events on {1}.",f=n.t,o=f||e.t,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===v?i=d.call(e,"t",s,i,{hash:{}}):i=o,r+=m(i)+"\n	",r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.blockHelperMissing,d=n.helperMissing,v=void 0,m=this.escapeExpression;o="preference",f=n.event,u=f||t.event,u=u===null||u===undefined||u===!1?u:u._type,f=n.if_eq,a=f||t.if_eq,l=c.program
(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(3,y,i),f&&typeof a===h?o=a.call(t,u,o,l):o=p.call(t,a,u,o,l);if(o||o===0)s+=o;s+='\n\n<div class="server-event-details">\n<span class="server-event-time">',o="LT",f=n.event,u=f||t.event,u=u===null||u===undefined||u===!1?u:u.time,f=n.formatDateCustom,a=f||t.formatDateCustom,typeof a===h?o=a.call(t,u,o,{hash:{}}):a===v?o=d.call(t,"formatDateCustom",u,o,{hash:{}}):o=a,s+=m(o)+"</span>\n",o="preference",f=n.event,u=f||t.event,u=u===null||u===undefined||u===!1?
u:u._type,f=n.if_eq,a=f||t.if_eq,l=c.program(26,D,i),l.hash={},l.fn=l,l.inverse=c.program(28,P,i),f&&typeof a===h?o=a.call(t,u,o,l):o=p.call(t,a,u,o,l);if(o||o===0)s+=o;return s+="\n</div>\n",s})}),define("plex/view/lists/items/ServerEventListItem",["hb!templates/lists/items/ServerEventListItem.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",className:"server-event-list-item",render:function(){var t={serverID:this.model.server.id,serverName:this.model
.server.get("friendlyName"),event:this.model.toJSON()};if(this.model.get("_type")=="timeline"){t.event.sectionTitle=this.model.get("section")?this.model.get("section").get("title"):"section "+this.model.get("sectionID"),t.event.mediaTitle=this.model.get("title")||"item "+this.model.get("itemID");switch(this.model.get("state")){case 0:t.event.stateString="Created";break;case 1:t.event.stateString="Progress for";break;case 2:t.event.stateString="Matching";break;case 3:t.event.stateString="Downloading metadata for"
;break;case 4:t.event.stateString="Loading metadata for";break;case 5:t.event.stateString="Finished processing";break;case 6:t.event.stateString="Analyzing";break;case 9:t.event.stateString="Deleted"}}return this.$el.html(e(t)),this}});return r}),define("plex/view/lists/ServerEventList",["plex/view/lists/BaseList","plex/view/lists/items/ServerEventListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"server-event-list",reverseItems:!0,initialize:function(){this.setup(t)},render:function(
){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("plex/view/server/ServerTimelineView",["hb!templates/server/ServerTimelineView.tpl","plex/control/Dispatcher","plex/control/utils/StringUtil","plex/view/BaseView","plex/view/lists/ServerEventList"],function(e,t,n,r,i){var s=r.extend({className:"timeline-container container container-full well",eventList:null,initialize:function(){var e=this.model.get("timeline");this.addBinding(e,"add",function(e,t){this.$("#timeline-banner .banner-count"
).html(t.length)}),this.eventList=this.registerView(new i({collection:e}))},render:function(){return this.$el.html(e({startTime:this.model.get("timeline").startTime})),this.$("#timeline-banner").after(this.eventList.render().el),this}});return s}),define("hb!templates/server/ServerView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+='\n			<div class="manage-controls">\n				<a class="btn btn-primary prefs-btn" href="#!/servers/',a=n.server
,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+'/settings"><i class="glyphicon settings"></i> ',i="Settings",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n\n				<a class="btn btn-inverse timeline-btn" href="#!/servers/',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i
.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+'/timeline"><i class="glyphicon calendar"></i> ',i="Timeline",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n\n				<div class="btn-group">\n					<a class="btn btn-split btn-inverse refresh-btn"><i class="glyphicon repeat"></i> ',i="Refresh",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n					<a class="btn btn-inverse dropdown-toggle" data-toggle="dropdown">\n						<span class="caret"></span>\n					</a>\n					<ul class="dropdown-menu pull-right">\n						<li><a class="refresh-btn" data-refresh-type="turbo" href="#">'
,i="Turbo Scan (Default)",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a></li>\n						<li><a class="refresh-btn" data-refresh-type="deep" href="#">',i="Deep Scan",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a></li>\n					</ul>\n				</div>\n			</div>\n		",r}function m(e,t){var r="",i,s,o;r+='\n			<h1 class="inline-control-group"><span class="server-name">',i=15,a=n.server,s=a||e.server,
s=s===null||s===undefined||s===!1?s:s.friendlyName,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"</span> ",a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.shared,s=n.unless,f=l.program(4,g,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+='</h1>\n			<input class="input-inline input-large input-dark span4 hide" type="text" value="',a=n.server,i=a||e.server,i=i===null||i===undefined||
i===!1?i:i.friendlyName,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.friendlyName",{hash:{}})),r+=d(i)+'">\n		',r}function g(e,t){return'<i class="glyphicon pencil"></i>'}function y(e,t){var r="",i,s,o;r+='\n			<h1 class="inline-control-group"><span class="server-name">',i=15,a=n.server,s=a||e.server,s=s===null||s===undefined||s===!1?s:s.name,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"</span> ",a=n.server
,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.shared,s=n.unless,f=l.program(7,b,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+='</h1>\n			<input class="input-inline input-large input-dark span4 hide" type="text" value="',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.name,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.name",{hash:{}})),r+=d(i)+'">\n		',r}function b(e,t){return'<i class="glyphicon pencil"></i>'}function w(e,t){
var r="",i,s;r+='\n	<div id="controls-banner" class="banner">\n		<span class="banner-title">',i="Maintenance",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</span>\n	</div>\n\n	<div class="row-fluid">\n		<div class="maintenance-control">\n			<a class="btn btn-inverse optimize-btn"><i class="glyphicon flash"></i> ',i="Optimize",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n			<div class="help-block">'
,i="Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</div>\n		</div>\n\n		",a=n.supportsCleanBundles,i=a||e.supportsCleanBundles,s=n["if"],f=l.program(10,E,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	</div>\n",r}function E(e,t){var r=""
,i,s;return r+='\n			<div class="maintenance-control">\n				<a class="btn btn-inverse clean-bundles-btn"><i class="glyphicon bin"></i> ',i="Clean Bundles",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n				<div class="help-block">',i="The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the Internet. Running this task works in the background to delete any bundles which are no longer in use. On Windows and OS X, these files will be moved to the trash."
,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</div>\n			</div>\n		",r}function S(e,t){var r="",i,s;return r+='\n		<a class="add-section pull-right" href="#"><i class="glyphicon-plus"></i> ',i="Add a Section",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a>\n	",r}function x(e,t){var r="",i,s;return r+='\n	<div id="channels-banner" class="banner">\n		<a class="pull-right" href="#!/servers/'
,a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+'/channels/directory"><i class="glyphicon show-big-thumbnails"></i> ',i="Directory",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n		<a class="pull-right" href="#!/servers/',a=n.server,i=a||e.server,i=i===null||i===undefined||i===!1?i:i.machineIdentifier,typeof 
i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"server.machineIdentifier",{hash:{}})),r+=d(i)+'/channels"><i class="glyphicon list"></i> ',i="My Channels",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n\n		<span class="banner-title">',i="Channels",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</span> <span class="banner-count"></span>\n	</div>\n',r}n=n||e.helpers;var s="",o,u,a,f,l=this,
c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="row-fluid">\n	<i class="manage-icon plex-icon-server"></i>\n\n	<div class="row-fluid">\n		',a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.shared,u=n.unless,f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n		",a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.friendlyName,u=n["if"],f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.program(6,y,i),o=
u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n		<div class="metadata">\n			<span class="metadata-label">',o="Version",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</span>",a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.version,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"server.version",{hash:{}})),s+=d(o)+'\n		</div>\n\n		<div class="metadata">\n			<span class="metadata-label">',o="IP Address",a=n.t,u=a||t.t,typeof u===c?o=
u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</span>",a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.address,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"server.address",{hash:{}})),s+=d(o)+"\n		</div>\n	</div>\n</div>\n\n",a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.shared,u=n.unless,f=l.program(9,w,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n<div id="sections-banner" class="banner">\n	',a=n.server
,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.shared,u=n.unless,f=l.program(12,S,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n	<span class="banner-title">',o="Sections",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</span> <span class="banner-count"></span>\n</div>\n\n',a=n.server,o=a||t.server,o=o===null||o===undefined||o===!1?o:o.shared,u=n.unless,f=l.program(14,x,i),f.hash={},f.fn=f,f.inverse=l.noop,o=
u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("hb!templates/lists/items/SectionListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s;return r+='\n	<ul class="iconbar">\n		<li>\n			<a class="gray section-icon-btn iconbar-icon-btn" rel="tooltip" title="',i="Manage",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'" href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call
(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.section,i=f||e.section,i=i===null||i===undefined||i===!1?i:i.key,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"section.key",{hash:{}})),r+=v(i)+'/manage">\n				<i class="plex-icon-wrench"></i>\n			</a>\n		</li>\n\n		<li>\n			<a class="gray section-icon-btn edit-btn" rel="tooltip" title="',i="Edit",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'" href="#">\n				<i class="glyphicon pencil"></i>\n			</a>\n		</li>\n\n		<li>\n			<a class="gray section-icon-btn section-refresh-btn" rel="tooltip" title="'
,i="Refresh",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'" href="#">\n				<i class="glyphicon repeat"></i>\n			</a>\n		</li>\n	</ul>\n',r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression;f=n.shared,o=f||t.shared,u=n.unless,l=c.program(1,m,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;return s+='\n\n<a href="#!/servers/',f=n.serverID,o=f||t.serverID,typeof o===h?o=
o.call(t,{hash:{}}):o===d&&(o=p.call(t,"serverID",{hash:{}})),s+=v(o)+"/sections/",f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.key,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"section.key",{hash:{}})),s+=v(o)+'">\n	<i class="section-icon plex-icon-',f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.type,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"section.type",{hash:{}})),s+=v(o)+'"></i>\n\n	<div class="section-details">\n		<h3>',o=15,f=n.section
,u=f||t.section,u=u===null||u===undefined||u===!1?u:u.title,f=n.truncate,a=f||t.truncate,typeof a===h?o=a.call(t,u,o,{hash:{}}):a===d?o=p.call(t,"truncate",u,o,{hash:{}}):o=a,s+=v(o)+'</h3>\n\n		<div class="metadata metadata-top">\n			<span class="type">',f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.scanner,f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</span>\n		</div>\n\n		<div class="metadata">\n			',o="Updated",f=n.t,u=f||
t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+" ",f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.updatedAt,f=n.timeAgo,u=f||t.timeAgo,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"timeAgo",o,{hash:{}}):o=u,s+=v(o)+"\n		</div>\n	</div>\n</a>\n",s})}),define("plex/view/lists/items/SectionListItem",["hb!templates/lists/items/SectionListItem.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView","plex/view/modals/EditSectionModal"
,"jquery"],function(e,t,n,r,i,s){var o=r.extend({tagName:"li",className:"section-list-item",events:{"click .section-refresh-btn":"onRefreshClick","click .edit-btn":"onEditClick"},initialize:function(){this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({serverID:this.model.server.id,shared:this.model.server.get("shared"),section:this.model.toJSON()})),s(".tooltip").remove(),this.$el.tooltip({selector:".section-icon-btn",placement:"left"}),this},onRefreshClick
:function(e){e.preventDefault(),t.trigger("command:StartLibraryScan",this.model.server,this.model)},onEditClick:function(e){e.preventDefault(),n.set("modal",new i({server:this.model.server,section:this.model}))}});return o}),define("plex/view/lists/SectionList",["plex/view/lists/BaseList","plex/view/lists/items/SectionListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"tile-list section-list",initialize:function(){this.setup(t),this.collection.fetch()},render:function(){return this.$el
.empty(),this.populate(this.collection),this}});return n}),define("hb!templates/lists/channels/items/ChannelListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function y(e,t){var r="",i,s,o;return r+="\n			<h3>",i=15,c=n.channel,s=c||e.channel,s=s===null||s===undefined||s===!1?s:s.title,c=n.truncate,o=c||e.truncate,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncate",s,i,{hash:{}}):i=o,r+=g(i)+"</h3>\n		",r}function b(e,t){var r="",i,s,o;return r+="\n			<h3>"
,i=15,c=n.channel,s=c||e.channel,s=s===null||s===undefined||s===!1?s:s.name,c=n.truncate,o=c||e.truncate,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncate",s,i,{hash:{}}):i=o,r+=g(i)+"</h3>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression;s+='<ul class="iconbar">\n	<li>\n		<a class="gray channel-icon-btn update-btn" rel="tooltip" title="',o="Update",c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call
(t,"t",o,{hash:{}}):o=u,s+=g(o)+'" href="#">\n			<i class="glyphicon circle-arrow-top"></i>\n		</a>\n	</li>\n	<li>\n		<a class="gray channel-icon-btn uninstall-btn" rel="tooltip" title="',o="Uninstall",c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+'" href="#">\n			<i class="glyphicon ban"></i>\n		</a>\n	</li>\n</ul>\n\n<a href="#!/servers/',c=n.serverID,o=c||t.serverID,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"serverID",{hash:{}})),
s+=g(o)+"/channels?key=",c=n.channel,o=c||t.channel,o=o===null||o===undefined||o===!1?o:o.key,c=n.encodeURL,u=c||t.encodeURL,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"encodeURL",o,{hash:{}}):o=u,s+=g(o)+'">\n	<img class="channel-icon" data-original="',o=50,u=50,c=n.channel,a=c||t.channel,a=a===null||a===undefined||a===!1?a:a.thumb,c=n.serverObj,f=c||t.serverObj,c=n.transcodeImage,l=c||t.transcodeImage,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"transcodeImage",f,a,u,
o,{hash:{}}):o=l,s+=g(o)+'" src="img/posters/poster_square.png" width="50" height="50">\n\n	<div class="section-details">\n		',c=n.channel,o=c||t.channel,o=o===null||o===undefined||o===!1?o:o.title,u=n["if"],h=p.program(1,y,i),h.hash={},h.fn=h,h.inverse=p.program(3,b,i),o=u.call(t,o,h);if(o||o===0)s+=o;return s+='\n\n		<div class="metadata metadata-top">\n			<span class="type">',c=n.channel,o=c||t.channel,o=o===null||o===undefined||o===!1?o:o.type,c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}
}):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+" ",o="Channel",c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+"</span>\n		</div>\n	</div>\n</a>\n",s})}),define("plex/view/lists/channels/items/ChannelListItem",["hb!templates/lists/channels/items/ChannelListItem.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",className:"section-list-item",events:{"click .update-btn":"onUpdateClick","click .uninstall-btn"
:"onUninstallClick"},initialize:function(){this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),serverObj:this.model.server,channel:this.model.toJSON()})),this.$el.tooltip({selector:".channel-icon-btn",placement:"left"}),this},onUpdateClick:function(e){e.preventDefault();var n={server:this.model.server,channel:this.model};t.trigger("command:UpdateChannel",n)},onUninstallClick:function(e){e.preventDefault
();var n=function(){this.model.trigger("destroy",this.model,this.model.collection)};t.trigger("command:UninstallChannel",this.model,_.bind(n,this))}});return r}),define("plex/view/lists/channels/ChannelList",["plex/view/lists/BaseList","plex/view/lists/channels/items/ChannelListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"tile-list section-list channel-list",initialize:function(){this.setup(t),this.collection.url&&this.collection.fetch(),this.loadPosterThrottle=_.throttle(_.debounce
(this.loadPoster,500),100)},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);this.loadPosterThrottle()},loadPoster:function(){this.$(".channel-icon").lazyload({threshold:100})}});return n}),define("plex/view/server/ServerView",["hb!templates/server/ServerView.tpl","plex/control/Dispatcher","plex/control/utils/StringUtil","plex/model/AppModel","plex/view/BaseView","plex/view/lists/SectionList","plex/view/lists/channels/ChannelList"
,"plex/view/modals/EditSectionModal","jquery"],function(e,t,n,r,i,s,o,u,a){var f=i.extend({className:"manage-container container container-full well",sectionList:null,channelList:null,events:{"click .inline-control-group":"onNameClick","blur .input-inline":"onNameInputBlur","keyup .input-inline":"onNameInputKeyUp","click .add-section":"onAddSectionClick","click .optimize-btn":"onOptimizeClick","click .clean-bundles-btn":"onCleanBundlesClick","click .refresh-btn":"onRefreshClick"},initialize:function(
){var e=this.model.get("sections"),t=this.model.get("channels");this.addBinding(this.model,"change:name",this.onNameChange),this.addBinding(this.model,"change:friendlyName",this.onNameChange),this.addBinding(e,"reset",this.onSectionsReset),this.sectionList=this.registerView(new s({collection:e})),this.model.get("shared")||(this.addBinding(t,"reset",this.onChannelsReset),this.channelList=this.registerView(new o({collection:t})))},render:function(){return this.$el.html(e({server:this.model.toJSON()
,supportsCleanBundles:this.model.supports("cleanBundles")})),this.$("#sections-banner").after(this.sectionList.render().el),this.channelList&&this.$("#channels-banner").after(this.channelList.render().el),this},onSectionsReset:function(){var e=this.model.get("sections").length;this.$("#sections-banner .banner-count").html(e)},onChannelsReset:function(){var e=this.model.get("channels").length;this.$("#channels-banner .banner-count").html(e)},onNameChange:function(e,t){this.$(".server-name").text(n
.truncate(t,15))},onNameClick:function(e){this.model.get("shared")||(this.$("h1").addClass("hide"),this.$(".input-inline").removeClass("hide").focus().select())},onNameInputBlur:function(e){var t=a(e.target).val();this.model.get("friendlyName")!==t&&(this.model.set("friendlyName",t),this.model.get("preferences").populate().then(function(e){var n=e.get("FriendlyName");n&&n.save({value:t})})),this.$("h1").removeClass("hide"),this.$(".input-inline").addClass("hide")},onNameInputKeyUp:function(e){e.keyCode===13&&
a(e.target).blur()},onAddSectionClick:function(e){e.preventDefault(),r.set("modal",new u({server:this.model,redirect:!0}))},onOptimizeClick:function(e){e.preventDefault();var n=a(e.target);n.addClass("disabled"),t.trigger("command:OptimizeLibrary",this.model,function(){n.removeClass("disabled")})},onCleanBundlesClick:function(e){e.preventDefault();var n=a(e.target);n.addClass("disabled"),t.trigger("command:CleanBundles",this.model,function(){n.removeClass("disabled")})},onRefreshClick:function(e)
{e.preventDefault();var n={},r=a(e.target).data("refreshType");r&&(n[r]=!0),t.trigger("command:StartLibraryScan",this.model,null,n)}});return f}),define("hb!templates/section/ManageSectionView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s;r+="\n		",f=n.shared,i=f||e.shared,s=n.unless,l=c.program(2,g,t),l.hash={},l.fn=l,l.inverse=c.program(4,y,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n	",r}function g(e,t){var r="",i;return r+='\n			<img class="manage-icon" src="'
,f=n.thumbUrl,i=f||e.thumbUrl,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"thumbUrl",{hash:{}})),r+=v(i)+'" width="150" height="150">\n		',r}function y(e,t){var r="",i;return r+='\n			<i class="manage-icon plex-icon-',f=n.section,i=f||e.section,i=i===null||i===undefined||i===!1?i:i.type,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"section.type",{hash:{}})),r+=v(i)+'-large"></i>\n		',r}function b(e,t){var r="",i;return r+='\n		<i class="manage-icon plex-icon-',f=n.section,i=f||
e.section,i=i===null||i===undefined||i===!1?i:i.type,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"section.type",{hash:{}})),r+=v(i)+'-large"></i>\n	',r}function w(e,t){var r="",i,s;r+='\n			<div class="manage-controls">\n				<a class="btn btn-primary" href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.section,i=f||e.section,i=i===null||i===undefined||i===!1?i:i.key,typeof i===h?i=i.call(e,
{hash:{}}):i===d&&(i=p.call(e,"section.key",{hash:{}})),r+=v(i)+'"><i class="glyphicon show-thumbnails"></i> ',i="Browse",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n\n				<a class="btn btn-inverse edit-btn"><i class="glyphicon pencil"></i> ',i="Edit",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n\n				<div class="btn-group refresh-btn-group ',f=n.section,i=f||e.section,i=i===null||
i===undefined||i===!1?i:i.refreshing,s=n["if"],l=c.program(9,E,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;r+='">\n					<a class="btn btn-split btn-inverse refresh-btn "><i class="glyphicon repeat"></i> ',i="Refresh",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n					<a class="btn btn-inverse dropdown-toggle" data-toggle="dropdown">\n						<span class="caret"></span>\n					</a>\n					<ul class="dropdown-menu pull-right">\n						<li><a class="refresh-btn" data-refresh-type="turbo" href="#">'
,i="Turbo Scan (Default)",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a></li>\n						<li><a class="refresh-btn" data-refresh-type="deep" href="#">',i="Deep Scan",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a></li>\n					</ul>\n				</div>\n\n				<a class="btn btn-inverse stop-refresh-btn ',f=n.section,i=f||e.section,i=i===null||i===undefined||i===!1?i:i.refreshing,s=n.unless,l=c.program
(11,S,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+='"><i class="glyphicon circle-remove"></i> ',i="Stop Refresh",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a>\n			</div>\n		",r}function E(e,t){return"hide"}function S(e,t){return"hide"}function x(e,t){return'<i class="glyphicon pencil"></i>'}function T(e,t){var r="",i,s;return r+='\n	<div id="controls-banner" class="banner">\n		<span class="banner-title">'
,i="Maintenance",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</span>\n	</div>\n\n	<div class="row-fluid">\n		<div class="maintenance-control">\n			<a class="btn btn-inverse empty-trash-btn"><i class="glyphicon bin"></i> ',i="Empty Trash",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n			<div class="help-block">',i="By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted. No files on disk are touched."
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</div>\n		</div>\n\n		<div class="maintenance-control">\n			<a class="btn btn-inverse force-refresh-btn"><i class="glyphicon refresh"></i> ',i="Force Refresh",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n			<div class="help-block">',i="Forces a download of fresh media information from the Internet. This can take a long time. Any locked fields are not modified."
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</div>\n		</div>\n\n		<div class="maintenance-control">\n			<a class="btn btn-inverse analyze-media-btn"><i class="glyphicon magic"></i> ',i="Analyze Media",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n			<div class="help-block">',i="Analyzes all the media files in the library section. The analysis captures information about the media which helps Plex decide how to optimally play back the media."
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</div>\n		</div>\n\n		<div class="maintenance-control">\n			<a class="btn btn-danger delete-btn"><i class="glyphicon ban"></i> ',i="Delete",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+'</a>\n			<div class="help-block">',i="Removes a library section and all items inside. It does not delete any media files. View progress and ratings are preserved, in case any of the items are added in the future."
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</div>\n		</div>\n	</div>\n",r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression;s+='<div class="row-fluid">\n	',f=n.thumbUrl,o=f||t.thumbUrl,u=n["if"],l=c.program(1,m,i),l.hash={},l.fn=l,l.inverse=c.program(6,b,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n	<div class="manage-details">\n		',f=n.shared,o=f||t.shared,u=n.unless,l=c.program(8,w,i),
l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n		<h1 class="inline-control-group"><span class="section-title">',o=15,f=n.section,u=f||t.section,u=u===null||u===undefined||u===!1?u:u.title,f=n.truncate,a=f||t.truncate,typeof a===h?o=a.call(t,u,o,{hash:{}}):a===d?o=p.call(t,"truncate",u,o,{hash:{}}):o=a,s+=v(o)+"</span> ",f=n.shared,o=f||t.shared,u=n.unless,l=c.program(13,x,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='</h1>\n		<input class="input-inline input-large input-dark span4 hide" type="text" value="'
,f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.title,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"section.title",{hash:{}})),s+=v(o)+'">\n\n		<div class="metadata">\n			<span class="metadata-label">',o="Scanner",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</span>\n			",f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.scanner,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"section.scanner",{hash
:{}})),s+=v(o)+'\n		</div>\n\n		<div class="metadata">\n			<span class="metadata-label">',o="Agent",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</span>\n			",f=n.section,o=f||t.section,o=o===null||o===undefined||o===!1?o:o.agent,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"section.agent",{hash:{}})),s+=v(o)+'\n		</div>\n\n		<div class="metadata">\n			<span class="metadata-label">',o="Language",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,
o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</span>\n			",f=n.languageName,o=f||t.languageName,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"languageName",{hash:{}})),s+=v(o)+"\n		</div>\n	</div>\n</div>\n\n",f=n.shared,o=f||t.shared,u=n.unless,l=c.program(15,T,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/section/ManageSectionView",["hb!templates/section/ManageSectionView.tpl","plex/model/AppModel","plex/control/Dispatcher"
,"plex/control/utils/StringUtil","plex/control/utils/LanguageUtil","plex/control/utils/SectionTypes","plex/view/BaseView","plex/view/modals/EditSectionModal","jquery"],function(e,t,n,r,i,s,o,u,a){var f=o.extend({className:"manage-container container container-full well",events:{"click .inline-control-group":"onTitleClick","blur .input-inline":"onTitleInputBlur","keyup .input-inline":"onTitleInputKeyUp","click .edit-btn":"onEditClick","click .refresh-btn":"onRefreshClick","click .stop-refresh-btn"
:"onStopRefreshClick","click .empty-trash-btn":"onEmptyTrashClick","click .force-refresh-btn":"onForceRefreshClick","click .analyze-media-btn":"onAnalyzeMediaClick","click .delete-btn":"onDeleteClick"},initialize:function(){this.addBinding(this.model,"change:title",this.onTitleChange),this.addBinding(this.model,"change:refreshing",this.onRefreshingChange),this.addBinding(this.model,"destroy",function(e){n.trigger("navigate:server",e.server.id)})},render:function(){var t=this.model.get("thumb"),n;
return t&&(n=this.model.server.resolveUrl(t)),this.$el.html(e({serverID:this.model.server.id,shared:this.model.server.get("shared"),section:this.model.toJSON(),thumbUrl:n,sectionTypes:s.getSectionTypes(),languageName:i.getLanguageName(this.model.get("language"))})),this},onTitleChange:function(e,t){this.$(".section-title").text(r.truncate(t,15))},onRefreshingChange:function(e,t){t?(this.$(".refresh-btn-group").addClass("hide"),this.$(".stop-refresh-btn").removeClass("hide")):(this.$(".refresh-btn-group"
).removeClass("hide"),this.$(".stop-refresh-btn").addClass("hide"))},onTitleClick:function(e){this.model.server.get("shared")||(this.$("h1").addClass("hide"),this.$(".input-inline").removeClass("hide").focus().select())},onTitleInputBlur:function(e){var t=a(e.target).val();this.model.get("title")!==t&&this.model.save("title",t),this.$("h1").removeClass("hide"),this.$(".input-inline").addClass("hide")},onTitleInputKeyUp:function(e){e.keyCode===13&&a(e.target).blur()},onEditClick:function(e){e.preventDefault
(),t.set("modal",new u({server:this.model.server,section:this.model}))},onRefreshClick:function(e){e.preventDefault();var t={},r=a(e.target).data("refreshType");r&&(t[r]=!0),this.$(".refresh-btn-group").addClass("hide"),this.$(".stop-refresh-btn").removeClass("hide"),n.trigger("command:StartLibraryScan",this.model.server,this.model,t)},onStopRefreshClick:function(e){e.preventDefault(),this.$(".refresh-btn-group").removeClass("hide"),this.$(".stop-refresh-btn").addClass("hide"),n.trigger("command:StopLibraryScan"
,this.model.server,this.model)},onEmptyTrashClick:function(e){e.preventDefault(),n.trigger("command:EmptyTrash",this.model.server,this.model)},onForceRefreshClick:function(e){e.preventDefault(),n.trigger("command:StartLibraryScan",this.model.server,this.model,{force:!0}),n.trigger("navigate:section",this.model.server.id,this.model.id)},onAnalyzeMediaClick:function(e){e.preventDefault(),n.trigger("command:StartMediaAnalysis",this.model.server,this.model),n.trigger("navigate:section",this.model.server
.id,this.model.id)},onDeleteClick:function(e){e.preventDefault(),n.trigger("command:DeleteSection",this.model)}});return f}),define("hb!templates/section/SectionView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){return"selected"}function y(e,t){var r="",i,s,o;r+='<li><a class="onDeck-btn gray ',i="onDeck",f=n.subset,s=f||e.subset,f=n.if_eq,o=f||e.if_eq,l=c.program(4,b,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof o===h?i=o.call(e,s,i,l):i=p.call(e,o,s,i,l)
;if(i||i===0)r+=i;return r+='" href="#">',i="On Deck",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=d.call(e,"t",i,{hash:{}}):i=s,r+=m(i)+"</a></li>",r}function b(e,t){return"selected"}function w(e,t){var r="",i,s,o;r+='<li><a class="recentlyAdded-btn gray ',i="recentlyAdded",f=n.subset,s=f||e.subset,f=n.if_eq,o=f||e.if_eq,l=c.program(7,E,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof o===h?i=o.call(e,s,i,l):i=p.call(e,o,s,i,l);if(i||i===0)r+=i;return r+='" href="#">',i="Recently Added"
,f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=d.call(e,"t",i,{hash:{}}):i=s,r+=m(i)+"</a></li>",r}function E(e,t){return"selected"}function S(e,t){return"sidebar-hidden"}function x(e,t){return"hide"}function T(e,t){return"hide"}function N(e,t){var r="",i,s;return r+='\n		<div class="section-tip">',i="Tip: Select items by holding control/command or shift when clicking.",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===v?i=d.call(e,"t",i,{hash:{}}):i=s,r+=m(i)+"</div>\n	",r}n=
n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.blockHelperMissing,d=n.helperMissing,v=void 0,m=this.escapeExpression;s+='<div id="section-banner" class="section-banner banner animated slideDown">\n	<ul class="banner-nav">\n		<li><a class="all-btn gray ',o="all",f=n.subset,u=f||t.subset,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=p.call(t,a,u,o,l);if(o||o===0)s+=o;s+='" href="#">',o="All",f=n.t,u=f||t.t,typeof u===h?o=u.call
(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+"</a></li>\n		",f=n.showOnDeck,o=f||t.showOnDeck,u=n["if"],l=c.program(3,y,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n		",f=n.showRecentlyAdded,o=f||t.showRecentlyAdded,u=n["if"],l=c.program(6,w,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n	</ul>\n</div>\n\n<div class="section-row ',o="all",f=n.subset,u=f||t.subset,f=n.if_neq,a=f||t.if_neq,l=c.program(9,S,i),l.hash={},l.fn=
l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=p.call(t,a,u,o,l);if(o||o===0)s+=o;s+='">\n	<h2 class="section-search-header section-header ',f=n.search,o=f||t.search,u=n.unless,l=c.program(11,x,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n		<span class="results-count"></span> <span class="results-title singular">',o="Result for",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</span> <span class="results-title plural">'
,o="Results for",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</span> <span class="primary">',o=25,f=n.search,u=f||t.search,f=n.truncate,a=f||t.truncate,typeof a===h?o=a.call(t,u,o,{hash:{}}):a===v?o=d.call(t,"truncate",u,o,{hash:{}}):o=a,s+=m(o)+'</span> <a class="clear-filters-btn pill-btn" href="#"><i class="glyphicon circle-minus"></i> ',o="Clear Filters",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}})
:o=u,s+=m(o)+'</a>\n	</h2>\n\n	<h2 class="section-filtered-header section-header ',f=n.filtered,o=f||t.filtered,u=n.unless,l=c.program(13,T,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n		<span class="results-count"></span> <span class="results-title singular">',o="Result",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</span> <span class="results-title plural">',o="Results",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,
o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</span> <a class="clear-filters-btn pill-btn" href="#"><i class="glyphicon circle-minus"></i> ',o="Clear Filters",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+"</a>\n	</h2>\n\n	",f=n.showMultiselectTip,o=f||t.showMultiselectTip,u=n["if"],l=c.program(15,N,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;return s+='\n\n	<div class="media-list-container"></div>\n</div>\n'
,s})}),define("hb!templates/lists/media/items/PosterListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r="",i,s,o;r+='\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/folder?key=",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?
i:i.key,f=n.encodeURL,s=f||e.encodeURL,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"encodeURL",i,{hash:{}}):i=s,r+=v(i),i="photo",f=n.media,s=f||e.media,s=s===null||s===undefined||s===!1?s:s.type,f=n.if_eq,o=f||e.if_eq,l=c.program(2,y,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+='">\n',r}function y(e,t){return"&type=photo"}function b(e,t){var r="",i;return r+='\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof 
i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/details/",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.ratingKey",{hash:{}})),r+=v(i)+'">\n',r}function w(e,t){return'\n			<div class="card-overlay">\n				<span class="card-episode-index"></span>\n			</div>\n		'
}function E(e,t){return'\n				<div class="media-added-at poster-sort"></div>\n			'}function S(e,t){var r,i,s;return r="originallyAvailableAt",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(11,x,t),l.hash={},l.fn=l,l.inverse=c.program(13,T,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function x(e,t){return'\n				<div class="media-available-at poster-sort"></div>\n			'}function T(e,t){var r,i,s;return r="mediaHeight",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c
.program(14,N,t),l.hash={},l.fn=l,l.inverse=c.program(16,C,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function N(e,t){return'\n				<div class="media-resolution poster-sort"></div>\n			'}function C(e,t){var r,i,s;return r="duration",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(17,k,t),l.hash={},l.fn=l,l.inverse=c.program(19,L,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function k(e,t){return'\n				<div class="media-duration poster-sort"></div>\n			'
}function L(e,t){return'\n				<div class="media-rating metadata"></div>\n			'}function A(e,t){return'\n			<h4>\n				<span class="media-subtitle"></span>\n\n				<div class="unwatched-icon unwatched-partial-icon"></div>\n				<div class="unwatched-icon unwatched-full-icon"></div>\n			</h4>\n		'}function O(e,t){return'\n			<h4>\n				<span class="media-subtitle"></span>\n			</h4>\n		'}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing
;f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.folder,u=n["if"],l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(4,b,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n	<div class="poster-container">\n		<img class="media-poster poster">\n\n		',o="episode",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(6,w,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+='\n	</div>\n\n	<div class="poster-details">\n		<div class="metadata-right">\n			'
,o="addedAt",f=n.sort,u=f||t.sort,f=n.if_eq,a=f||t.if_eq,l=c.program(8,E,i),l.hash={},l.fn=l,l.inverse=c.program(10,S,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+='\n		</div>\n\n		<h3 class="media-title"></h3>\n\n		',o="episode",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(21,A,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n		",o="album",f=n.
media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(23,O,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+='\n\n		<div class="media-tagline metadata"></div>\n\n		<div class="media-summary summary"></div>\n	</div>\n</a>\n',s})}),define("plex/view/lists/media/items/PosterListItem",["hb!templates/lists/media/items/PosterListItem.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({tagName
:"li",className:"well",sort:null,events:{"click a":"onClick"},initialize:function(e){var t=e.list.collection;this.sort=t.sort.key},render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),sectionID:this.model.section.id,media:this.model.toJSON(),sort:this.sort})),this.bindView(),this},select:function(){this.$("a").addClass("selected")},deselect:function(){this.$("a").removeClass("selected")},bindings:{".media-title":{modelAttr:"title",format:function(
e,t){var n=this.model.get("type");return n==="episode"&&(t=this.model.get("grandparentTitle")),n==="album"&&(t=this.model.get("parentTitle")),Handlebars.helpers.truncate.call(this,t,40)}},".media-subtitle":{modelAttr:"title",format:function(e,t){var n=this.model.get("type");if(n!=="episode"&&n!=="album")return;return Handlebars.helpers.truncate.call(this,t,40)}},".media-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster.png");var n=this.model.get("grandparentThumb"
)||t,r=window.devicePixelRatio?window.devicePixelRatio:1,i=100*r,s=150*r;if(!n)return;var o=Handlebars.helpers.transcodeImage.call(this,this.model.server,n,i,s);e.data("original",o),this.trigger("change:poster")}},".card-episode-index":{modelAttr:"index",hideEmpty:!0,format:function(e,t){var n=this.model.get("type");if(n!=="episode")return;if(t>0){var r=Handlebars.helpers.leadingZero.call(this,this.model.get("parentIndex")),i=Handlebars.helpers.leadingZero.call(this,t);return"S"+r+"E"+i}var s=this
.model.get("originallyAvailableAt");return Handlebars.helpers.formatDateCustom.call(this,s,"D/M/YY")}},".unwatched-icon":{modelAttr:"viewCount",format:function(e,t){var n=this.model.get("type"),r=this.model.get("viewOffset");if(this.model.server.get("shared")){e.addClass("hide");return}if(n!=="episode")return;t||r?e.addClass("hide"):(e.removeClass("hide"),this.$(".unwatched-partial-icon").addClass("hide"))}},".unwatched-partial-icon":{modelAttr:"viewOffset",format:function(e,t){var n=this.model.get
("type");if(this.model.server.get("shared")){e.addClass("hide");return}if(n!=="episode")return;t?(e.removeClass("hide"),this.$(".unwatched-full-icon").addClass("hide")):e.addClass("hide")}},".media-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?'<span class="rating">'+Handlebars.helpers.starRating.call(this,t)+"</span>":""}},".media-tagline":{modelAttr:"tagline",hideEmpty:!0,format:function(e,t){return t?'<div class="tagline">'+Handlebars.helpers.truncate.call(this,t,55)+"</div>"
:""}},".media-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,180)}},".media-added-at":{modelAttr:"addedAt",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.timeAgo.call(this,t)}},".media-available-at":{modelAttr:"originallyAvailableAt",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.formatDate.call(this,t)}},".media-resolution":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){return t?Handlebars.helpers.formatResolution
.call(this,t.videoResolution):""}},".media-duration":{modelAttr:"duration",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.formatMinutes.call(this,t)}}},onClick:function(e){if(e.metaKey||e.ctrlKey||e.shiftKey)e.preventDefault(),this.trigger("select",this,e.shiftKey)}});return n}),define("plex/view/lists/media/PosterList",["plex/view/lists/SelectableList","plex/view/lists/media/items/PosterListItem","lazyload"],function(e,t){var n=e.extend({tagName:"ul",className:"poster-list",loadPosterThrottle
:null,initialize:function(){this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100)},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"change:poster",this.loadPosterThrottle),this.loadPosterThrottle()},loadPoster:function(){this.$(".poster").lazyload({threshold:100})}});return n}),define("hb!templates/lists/media/items/CompactListItem.tpl",["handlebars"
],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r="",i,s,o;r+='\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/folder?key=",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.key,f=n.encodeURL,s=f||e.encodeURL,typeof s===h?i=s.call(e,i,{hash:{}
}):s===d?i=p.call(e,"encodeURL",i,{hash:{}}):i=s,r+=v(i),i="photo",f=n.media,s=f||e.media,s=s===null||s===undefined||s===!1?s:s.type,f=n.if_eq,o=f||e.if_eq,l=c.program(2,y,t),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof o===h?i=o.call(e,s,i,l):i=m.call(e,o,s,i,l);if(i||i===0)r+=i;return r+='">\n',r}function y(e,t){return"&type=photo"}function b(e,t){var r="",i;return r+='\n	<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}}
)),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/details/",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.ratingKey",{hash:{}})),r+=v(i)+'">\n',r}function w(e,t){return'\n		<div class="media-added-at compact-sort"></div>\n	'}function E(e,t){var r,i,s;return r="originallyAvailableAt",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.
if_eq,l=c.program(9,S,t),l.hash={},l.fn=l,l.inverse=c.program(11,x,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function S(e,t){return'\n		<div class="media-available-at compact-sort"></div>\n	'}function x(e,t){var r,i,s;return r="mediaHeight",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(12,T,t),l.hash={},l.fn=l,l.inverse=c.program(14,N,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function T(e,t){return'\n		<div class="media-resolution compact-sort"></div>\n	'
}function N(e,t){var r,i,s;return r="duration",f=n.sort,i=f||e.sort,f=n.if_eq,s=f||e.if_eq,l=c.program(15,C,t),l.hash={},l.fn=l,l.inverse=c.program(17,k,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function C(e,t){return'\n		<div class="media-duration compact-sort"></div>\n	'}function k(e,t){var r,i,s;return r="track",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.type,f=n.if_eq,s=f||e.if_eq,l=c.program(18,L,t),l.hash={},l.fn=l,l.inverse=c.program(20,A,t),f&&typeof 
s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function L(e,t){return'\n		<div class="media-duration compact-sort"></div>\n	'}function A(e,t){return'\n		<span class="media-rating rating"></span>\n	'}function O(e,t){return'\n		<i class="folder-icon glyphicon folder-open"></i>\n	'}function M(e,t){return'\n		<span class="media-subtitle metadata-compact"></span>\n	'}function _(e,t){var r,i,s;return r="album",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.type,f=n.if_eq,s=f||e
.if_eq,l=c.program(27,D,t),l.hash={},l.fn=l,l.inverse=c.program(29,P,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function D(e,t){return'\n		<span class="media-subtitle metadata-compact"></span>\n	'}function P(e,t){var r,i,s;return r="track",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.type,f=n.if_eq,s=f||e.if_eq,l=c.program(30,H,t),l.hash={},l.fn=l,l.inverse=c.program(32,B,t),f&&typeof s===h?r=s.call(e,i,r,l):r=m.call(e,s,i,r,l),r||r===0?r:""}function H(
e,t){return'\n		<span class="media-subtitle metadata-compact"></span>\n	'}function B(e,t){return'\n		<span class="media-year metadata-compact"></span>\n	'}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.folder,u=n["if"],l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(4,b,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n	",o="addedAt",f=n.sort,u=f||t.sort,f=
n.if_eq,a=f||t.if_eq,l=c.program(6,w,i),l.hash={},l.fn=l,l.inverse=c.program(8,E,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+="\n\n	",f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.folder,u=n["if"],l=c.program(22,O,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n	<span class="media-title"></span>\n\n	',o="episode",f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.type,f=n.if_eq,a=f||t.if_eq,l=c.program(24,M,i),
l.hash={},l.fn=l,l.inverse=c.program(26,_,i),f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;return s+="\n</a>\n",s})}),define("plex/view/lists/media/items/CompactListItem",["hb!templates/lists/media/items/CompactListItem.tpl","plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",sort:null,events:{"click a":"onClick"},initialize:function(e){var t=e.list.collection;this.sort=t.sort.key},render:function(){return this.$el.html(e({serverID
:this.model.server.id,sectionID:this.model.section.id,media:this.model.toJSON(),sort:this.sort})),this.bindView(),this},select:function(){this.$("a").addClass("selected")},deselect:function(){this.$("a").removeClass("selected")},bindings:{".media-title":{modelAttr:"title",format:function(e,t){var n=this.model.get("type");return n==="episode"&&(t=this.model.get("grandparentTitle")),n==="album"&&(t=this.model.get("parentTitle")),n==="track"&&(t=this.model.get("grandparentTitle")||this.model.get("originalTitle"
)),Handlebars.helpers.truncate.call(this,t,50)}},".media-subtitle":{modelAttr:"title",format:function(e,t){var n=this.model.get("type");if(n!=="episode"&&n!=="album"&&n!=="track")return;return Handlebars.helpers.truncate.call(this,t,50)}},".media-year":{modelAttr:"year"},".media-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?Handlebars.helpers.starRating.call(this,t):""}},".media-added-at":{modelAttr:"addedAt",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.timeAgo
.call(this,t)}},".media-available-at":{modelAttr:"originallyAvailableAt",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.formatDate.call(this,t)}},".media-resolution":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){return t?Handlebars.helpers.formatResolution.call(this,t.videoResolution):""}},".media-duration":{modelAttr:"duration",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.formatMinutes.call(this,t)}}},onClick:function(e){if(this.model.get("type")==="track"){e.preventDefault
(),t.trigger("command:PlayTrack",this.model);return}if(e.metaKey||e.ctrlKey||e.shiftKey)e.preventDefault(),this.trigger("select",this,e.shiftKey)}});return r}),define("plex/view/lists/media/CompactList",["plex/view/lists/SelectableList","plex/view/lists/media/items/CompactListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"compact-list",initialize:function(){this.setup(t)},render:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("hb!templates/section/SectionActionBarView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r,i;return a=n.showSelection,r=a||e.showSelection,i=n.unless,f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function m(e,t){var r="",i,s;r+="\n		",a=n.showManage,i=a||e.showManage,s=n["if"],f=l.program(3,g,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showEdit,i=a||e.showEdit,s=n["if"],f=l.program(5,y,t),f.hash={},f.fn=f,f.inverse=l.noop
,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showRefresh,i=a||e.showRefresh,s=n["if"],f=l.program(7,b,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	",r}function g(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-icon-btn manage-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Manage",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					',i="Manage",a=n.t,s=a||
e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n				</a>\n			</li>\n		",r}function y(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn edit-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Edit",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon pencil"></i>\n				</a>\n			</li>\n		',r}function b(e,t){var r="",i,s;r+='\n			<li class="refresh '
,a=n.refreshing,i=a||e.refreshing,s=n["if"],f=l.program(8,w,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='">\n				<a class="actionbar-glyphicon-btn refresh-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Refresh",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon repeat"></i>\n				</a>\n			</li>\n			<li class="stop-refresh ',a=n.refreshing,i=a||e.refreshing,s=n.unless
,f=l.program(10,E,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+='">\n				<a class="actionbar-icon-btn stop-refresh-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Stop Refresh",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					',i="Stop Refresh",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n				</a>\n			</li>\n		",r}function w
(e,t){return"hide"}function E(e,t){return"hide"}function S(e,t){var r="",i,s;r+='\n		<li>\n			<a class="actionbar-glyphicon-btn close-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Deselect All",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n				<i class="glyphicon circle-remove"></i>\n			</a>\n		</li>\n\n		',a=n.shared,i=a||e.shared,s=n.unless,f=l.program(13,x,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);
if(i||i===0)r+=i;return r+="\n	",r}function x(e,t){var r="",i,s;r+="\n			",a=n.showSelectionRefresh,i=a||e.showSelectionRefresh,s=n["if"],f=l.program(14,T,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n			",a=n.showAddCollection,i=a||e.showAddCollection,s=n["if"],f=l.program(16,N,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n			",a=n.showWatch,i=a||e.showWatch,s=n["if"],f=l.program(18,C,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,
i,f);if(i||i===0)r+=i;r+="\n\n			",a=n.showMerge,i=a||e.showMerge,s=n["if"],f=l.program(20,k,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n		",r}function T(e,t){var r="",i,s;return r+='\n				<li>\n					<a class="actionbar-glyphicon-btn selection-refresh-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Refresh",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n						<i class="glyphicon repeat"></i>\n					</a>\n				</li>\n			'
,r}function N(e,t){var r="",i,s;return r+='\n				<li>\n					<a class="actionbar-glyphicon-btn add-collection-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Add to Collection",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n						<i class="glyphicon folder-plus"></i>\n					</a>\n				</li>\n			',r}function C(e,t){var r="",i,s;return r+='\n				<li>\n					<a class="actionbar-icon-btn watch-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="'
,i="Mark as Watched",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n						',i="Mark as Watched",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'\n					</a>\n				</li>\n\n				<li>\n					<a class="actionbar-icon-btn unwatch-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Mark as Unwatched",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash
:{}}):i=s,r+=d(i)+'">\n						',i="Mark as Unwatched",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n					</a>\n				</li>\n			",r}function k(e,t){var r="",i,s;return r+='\n				<li>\n					<a class="actionbar-glyphicon-btn merge-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Merge",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n						<i class="glyphicon resize-small"></i>\n					</a>\n				</li>\n			'
,r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<ul class="iconbar">\n	',a=n.shared,o=a||t.shared,u=n.unless,f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n	",a=n.showSelection,o=a||t.showSelection,u=n["if"],f=l.program(12,S,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n</ul>\n",s})}),define("hb!templates/modals/AddToCollectionModal.tpl",["handlebars"],
function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+='\n		<ul class="select-collections-list select-list minimal-light-scrollbar">\n			',a=n.collections,i=a||e.collections,s=n.each,f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n		</ul>\n	",r}function m(e,t){var r="",i,s,o;return r+='\n				<li>\n					<a class="collection" data-id="',a=n.key,i=a||e.key,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"key",{hash:{
}})),r+=d(i)+'" href="#">\n						',i=30,a=n.title,s=a||e.title,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n					</a>\n				</li>\n			",r}function g(e,t){var r="",i,s;return r+='\n		<div class="empty-message">',i="There are no collections yet.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</div>\n	",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing
,p=void 0,d=this.escapeExpression;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon folder-plus"></i> ',o="Add to Collection",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	',a=n.collections,o=a||t.collections,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program
(4,g,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n	<div class="input-minimal-container">\n		<input id="new-collection" class="input-dark input-minimal" type="text" placeholder="',o="New Collection...",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'">\n	</div>\n</div>\n\n<div class="modal-footer pull-center">\n	<button class="add-btn btn btn-medium btn-primary disabled">',o="Add",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h
.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</button>\n</div>\n",s})}),define("plex/view/modals/AddToCollectionModal",["hb!templates/modals/AddToCollectionModal.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView","jquery"],function(e,t,n,r,i,s){var o=i.extend({className:"modal modal-small select-modal add-to-collection-modal fade",collectionIDs:null,events:{hidden:"onClose","click .collection":"onCollectionClick","keyup #new-collection":"onNewCollectionKeyUp"
,"click .add-btn":"onAddClick"},initialize:function(e){this.collectionIDs=[],this.models=e.models},render:function(){return this.$el.html(e({collections:this.collection.toJSON()})).modal(),this},enableAddButton:function(){var e=this.$("#new-collection").val();this.collectionIDs.length||e.length?this.$(".add-btn").removeClass("disabled"):this.$(".add-btn").addClass("disabled")},onClose:function(e){t.trigger("destroy:modal",this)},onCollectionClick:function(e){e.preventDefault();var t=s(e.currentTarget
),n=t.data("id");t.hasClass("selected")?this.collectionIDs.splice(_.indexOf(this.collectionIDs,n),1):this.collectionIDs.push(n),s(e.target).toggleClass("selected"),this.enableAddButton()},onNewCollectionKeyUp:function(e){this.enableAddButton()},onAddClick:function(e){e.preventDefault();var i=s(e.currentTarget);if(i.hasClass("disabled"))return;var o=[],u=this.$("#new-collection").val();u&&o.push(this.models[0].batchAdd(this.models,"collection",u)),this.collectionIDs.length&&_.each(this.collectionIDs
,_.bind(function(e){var t=this.collection.get(e);o.push(this.models[0].batchAdd(this.models,"collection",t.get("title")))},this)),t.trigger("command:ShowLoading",!0),s.when.apply(s,o).always(function(){t.trigger("command:ShowLoading",!1)}).done(_.bind(function(){this.$el.modal("hide")},this)).fail(function(e){r.set("alert",{status:"error",message:n.t("There was a problem adding these items to a collection.")})})}});return o}),define("plex/view/section/SectionActionBarView",["hb!templates/section/SectionActionBarView.tpl"
,"plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/model/FilterModel","plex/view/BaseView","plex/view/modals/EditSectionModal","plex/view/modals/ConfirmModal","plex/view/modals/AddToCollectionModal","jquery"],function(e,t,n,r,i,s,o,u,a,f){var l={showManage:!0,showEdit:!0,showRefresh:!0,showSelection:!0},c={movie:{showSelectionEdit:!0,showSelectionRefresh:!0,showAddCollection:!0,showWatch:!0,showMerge:!0},show:{showSelectionEdit:!0,showSelectionRefresh:!0,
showAddCollection:!0,showWatch:!0,showMerge:!0},episode:{showSelectionEdit:!0,showSelectionRefresh:!0,showAddCollection:!0,showWatch:!0,showMerge:!0},artist:{showSelectionEdit:!0,showSelectionRefresh:!0,showAddCollection:!0,showMerge:!0},album:{showSelectionEdit:!0,showSelectionRefresh:!0,showAddCollection:!0,showMerge:!0},photo:{showSelectionEdit:!0,showSelectionRefresh:!0,showAddCollection:!0}},h=s.extend({className:"actionbar",models:null,shared:!1,collectionFilter:null,events:{"click .manage-icon-btn"
:"onManageClick","click .edit-icon-btn":"onEditClick","click .refresh-icon-btn":"onRefreshClick","click .stop-refresh-icon-btn":"onStopRefreshClick","click .close-icon-btn":"onDeselectClick","click .selection-refresh-icon-btn":"onSelectionRefreshClick","click .add-collection-icon-btn":"onAddCollectionClick","click .watch-icon-btn":"onWatchClick","click .unwatch-icon-btn":"onUnwatchClick","click .merge-icon-btn":"onMergeClick"},initialize:function(e){var t=_.clone(l);this.visibilityOptions=_.extend
(t,e),this.collectionFilter=new i({filter:"collection",filterType:"string",type:"filter",title:"Collection"}),this.addBinding(this.model,"change:refreshing",this.onRefreshingChange)},render:function(){var t=_.extend({},this.visibilityOptions);t.shared=this.model.server.get("shared"),t.refreshing=this.model.get("refreshing"),t.showSelection&&this.models&&(this.models.length||(t.showSelection=!1));if(t.showSelection){var n=this.models[0],r=c[n.get("type")];t=_.extend(t,r),t.showAddCollection&&(n.server
.supports("batchEdit")||(t.showAddCollection=!1)),t.showMerge&&(this.models.length<2||!n.server.supports("merge"))&&(t.showMerge=!1)}return this.$el.html(e(t)),f(".tooltip").remove(),this.$el.tooltip({selector:".actionbar-icon-btn, .actionbar-glyphicon-btn",placement:"right"}),this},setModels:function(e){this.models=e;if(e.length){var t=e[0];this.collectionFilter.set("key","/library/sections/"+t.section.id+"/collection"),this.collectionFilter.server=t.server,this.collectionFilter.section=t.section
;var n=this.collectionFilter.get("options");n.server=t.server,n.section=t.section}else this.removeAllViews();this.render()},onRefreshingChange:function(e,t){t?(this.$(".refresh").addClass("hide"),this.$(".stop-refresh").removeClass("hide")):(this.$(".refresh").removeClass("hide"),this.$(".stop-refresh").addClass("hide"))},onManageClick:function(e){e.preventDefault(),t.trigger("navigate:manageSection",this.model.server.id,this.model.id)},onEditClick:function(e){e.preventDefault(),r.set("modal",new 
o({server:this.model.server,section:this.model}))},onRefreshClick:function(e){e.preventDefault(),this.$(".refresh").addClass("hide"),this.$(".stop-refresh").removeClass("hide"),f(".tooltip").remove(),t.trigger("command:StartLibraryScan",this.model.server,this.model)},onStopRefreshClick:function(e){e.preventDefault(),this.$(".refresh").removeClass("hide"),this.$(".stop-refresh").addClass("hide"),f(".tooltip").remove(),t.trigger("command:StopLibraryScan",this.model.server,this.model)},onDeselectClick
:function(e){e.preventDefault(),this.trigger("deselect")},onSelectionRefreshClick:function(e){e.preventDefault(),_.each(this.models,function(e){t.trigger("command:RefreshMetadata",e)})},onAddCollectionClick:function(e){e.preventDefault();var t=this.collectionFilter.get("options");t.fetch().always(_.bind(function(){r.set("modal",new a({collection:t,models:this.models}))},this))},onWatchClick:function(e){e.preventDefault();var i=_.bind(function(){_.each(this.models,function(e){t.trigger("command:MarkWatched"
,e)})},this),s=new u({title:n.t("Mark as Watched"),message:n.t("Are you sure you want to mark all selected items as watched?")});s.on("yes",i),r.set("modal",s)},onUnwatchClick:function(e){e.preventDefault();var i=_.bind(function(){_.each(this.models,function(e){t.trigger("command:MarkUnwatched",e)})},this),s=new u({title:n.t("Mark as Unwatched"),message:n.t("Are you sure you want to mark all selected items as unwatched?")});s.on("yes",i),r.set("modal",s)},onMergeClick:function(e){e.preventDefault
();var n=this.models[0],r=this.models.slice(1);t.trigger("command:Merge",n,r)}});return h}),define("hb!templates/section/SidebarView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function y(e,t){var r;return c=n.totalSize,r=c||e.totalSize,typeof r===d?r=r.call(e,{hash:{}}):r===m&&(r=v.call(e,"totalSize",{hash:{}})),g(r)}function b(e,t){var r="",i,s;return r+='\n			<h2 class="type-header top-header">',i="Type",c=n.t,s=c||e.t,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call
(e,"t",i,{hash:{}}):i=s,r+=g(i)+"</h2>\n		",r}function w(e,t){return"top-header"}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression;s+='<a class="sidebar-toggle" href="#">\n	<i class="glyphicon show-lines"></i>\n	<i class="expand-icon glyphicon chevron-left"></i>\n	<i class="collapse-icon glyphicon chevron-right"></i>\n</a>\n\n<div class="sidebar">\n	<span class="sidebar-title">',o=17,c=n.section,u=c||t.section,u=u===null||u===undefined||u===!1?
u:u.title,c=n.truncate,a=c||t.truncate,typeof a===d?o=a.call(t,u,o,{hash:{}}):a===m?o=v.call(t,"truncate",u,o,{hash:{}}):o=a,s+=g(o)+'</span> <span class="sidebar-count">',c=n.totalSize,o=c||t.totalSize,u=n["if"],h=p.program(1,y,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+='</span>\n\n	<div class="sidebar-content">\n		<div class="list-type-btn-group btn-group" data-toggle="buttons-radio">\n			<a class="poster-tile-list-btn btn btn-inverse ',o="",u="selected active",a="poster-tile-list"
,c=n.listType,f=c||t.listType,c=n.eq,l=c||t.eq,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'">\n				<i class="glyphicon show-big-thumbnails"></i>\n			</a>\n\n			<a class="poster-list-btn btn btn-inverse ',o="",u="selected active",a="poster-list",c=n.listType,f=c||t.listType,c=n.eq,l=c||t.eq,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'">\n				<i class="glyphicon list"></i>\n			</a>\n\n			<a class="compact-list-btn btn btn-inverse '
,o="",u="selected active",a="compact-list",c=n.listType,f=c||t.listType,c=n.eq,l=c||t.eq,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'">\n				<i class="glyphicon justify"></i>\n			</a>\n\n			<a class="folder-list-btn btn btn-inverse">\n				<i class="glyphicon folder-open"></i>\n			</a>\n		</div>\n\n		',c=n.showTypes,o=c||t.showTypes,u=n["if"],h=p.program(3,b,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+='\n\n		<h2 class="filter-header '
,c=n.showTypes,o=c||t.showTypes,u=n.unless,h=p.program(5,w,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;return s+='">\n			<a class="close-filter-options-btn gray" href="#"><i class="glyphicon circle-remove"></i></a>\n			<span class="filter-header-title">',o="Filter",c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+'</span>\n		</h2>\n\n		<h2 class="sort-header">',o="Sort",c=n.t,u=c||t.t,typeof u===d?o=u.call(t,o,{hash:{}}):u===
m?o=v.call(t,"t",o,{hash:{}}):o=u,s+=g(o)+"</h2>\n	</div>\n</div>\n",s})}),define("plex/control/utils/MediaTypes",["underscore"],function(){var e=function(){this.types=[{id:1,typeString:"movie",label:"Movie"},{id:2,typeString:"show",label:"Show",related:[4]},{id:4,typeString:"episode",label:"Episode",related:[2]},{id:8,typeString:"artist",label:"Artist",related:[9]},{id:9,typeString:"album",label:"Album",related:[8]},{id:13,typeString:"photo",label:"Photo"}],this.byID=_.reduce(this.types,function(
e,t){return e[t.id]=t,e},{}),this.byType=_.reduce(this.types,function(e,t){return e[t.typeString]=t,e},{}),this.getMediaTypes=function(){return this.types},this.getMediaType=function(e){return this.byID[e]},this.getMediaTypeByString=function(e){return this.byType[e]},this.getRelatedMediaTypes=function(e){var t=this.byType[e],n=_.map(t.related,_.bind(function(e){return this.byID[e]},this));return n.unshift(t),n}};return new e}),define("hb!templates/section/FilterOptionView.tpl",["handlebars"],function(
e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="search-container">\n	<form class="search-form">\n		<input type="text" class="input-dark input-search" autocomplete="off" spellcheck="false">\n		<i class="glyphicon search"></i>\n		<a class="clear-search-btn gray hide" href="#"><i class="glyphicon circle-remove"></i></a>\n	</form>\n	<a class="deselect-btn gray" href="#">',o="Deselect All"
,a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+"</a>\n</div>\n",s})}),define("hb!templates/lists/sidebar/items/FilterOptionListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"selected"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a class="gray ',a=n.selected,o=a||t.selected,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop
,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='" href="#">',a=n.option,o=a||t.option,o=o===null||o===undefined||o===!1?o:o.title,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"option.title",{hash:{}})),s+=d(o)+' <i class="glyphicon ok-2"></i></a>\n',s})}),define("plex/view/lists/sidebar/items/FilterOptionListItem",["hb!templates/lists/sidebar/items/FilterOptionListItem.tpl","plex/control/Dispatcher","plex/view/BaseView","jquery"],function(e,t,n,r){var i=n.extend({tagName:"li",className:"filter-option"
,selected:!1,events:{"click a":"onClick"},initialize:function(e){this.parentFilter=e.parentFilter,this.selected=e.selected,this.addBinding(this.model,"change",this.render),this.addBinding(t,"removeAll:filter",this.onRemoveAll)},render:function(){return this.$el.html(e({option:this.model.toJSON(),selected:this.selected})),this},onClick:function(e){e.preventDefault();var n=r(e.currentTarget),i=n.hasClass("selected"),s={key:this.parentFilter.id,title:this.model.get("title"),value:this.model.id};i?t.
trigger("remove:filter",s):t.trigger("add:filter",s),n.toggleClass("selected")},onRemoveAll:function(e){e.key===this.parentFilter.id&&this.$(".selected").removeClass("selected")}});return i}),define("plex/view/lists/sidebar/FilterOptionList",["plex/view/lists/BaseList","plex/view/lists/sidebar/items/FilterOptionListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"filter-option-list minimal-scrollbar",activeFilters:null,initialize:function(e){this.activeFilters=e.activeFilters,this.setup
(t)},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(e){if(e.get("title")){var n=this.collection.parentFilter,r=!1;_.each(this.activeFilters,function(t){if(t.key===n.id){var i=_.find(t.titles,function(t){return t==e.get("title")});i&&(r=!0)}});var i=new t({model:e,parentFilter:n,selected:r});this.registerView(i),this.items[e.id]=i,this.$el.append(i.render().el)}}});return n}),define("plex/view/section/FilterOptionView",["hb!templates/section/FilterOptionView.tpl"
,"plex/control/Dispatcher","plex/view/BaseView","plex/view/lists/sidebar/FilterOptionList","jquery"],function(e,t,n,r,i){var s=n.extend({className:"filter-options-container hide",list:null,filter:null,filterOptions:null,activeFilters:null,active:!1,events:{"focus .input-search":"onSearchFocus","blur .input-search":"onSearchBlur","keyup .input-search":"onSearchKeyUp","click .clear-search-btn":"onClearSearchClick","submit .search-form":"onSearchSubmit","click .deselect-btn":"onDeselectClick"},initialize
:function(e){this.activeFilters=e.activeFilters},render:function(){return this.$el.html(e()),this},open:function(e){this.filter=e,this.filterOptions=e.get("options"),this.active=!0,this.list?this.list.rebase(this.filterOptions):(this.list=new r({collection:this.filterOptions,activeFilters:this.activeFilters}),this.$(".search-container").after(this.list.render().el)),this.$(".input-search").val(""),this.$el.removeClass("hide"),_.defer(_.bind(function(){this.$el.addClass("open")},this))},close:function(
){this.active=!1,this.$el.removeClass("open"),_.delay(_.bind(function(){this.$el.addClass("hide")},this),800)},reset:function(e){this.filterOptions&&(this.filterOptions.activeFilters=e,this.filterOptions.fetch(),this.list.rebase(this.filterOptions)),this.$(".clear-search-btn").addClass("hide"),this.$(".input-search").val("")},onSearchFocus:function(e){this.$(".search-container").addClass("selected")},onSearchBlur:function(e){this.$(".search-container").removeClass("selected")},onSearchKeyUp:function(
e){var t=i(e.target),n=t.val(),r=this.filterOptions.search(n);n.length===0?this.$(".clear-search-btn").addClass("hide"):this.$(".clear-search-btn").removeClass("hide"),this.list.rebase(r)},onClearSearchClick:function(e){e.preventDefault(),this.$(".clear-search-btn").addClass("hide"),this.$(".input-search").val(""),this.list.rebase(this.filterOptions)},onSearchSubmit:function(e){e.preventDefault();var n=this.$(".input-search").val();if(!n)return;var r=this.list.collection.models;for(var i=0,s=r.length
;i<s;i++){var o=r[i],u=o.get("title");if(u&&u.toLowerCase()===n.toLowerCase()){var a={key:this.filter.id,title:u,value:o.id};t.trigger("add:filter",a);break}}},onDeselectClick:function(e){e.preventDefault(),t.trigger("removeAll:filter",{key:this.filter.id})}});return s}),define("hb!templates/lists/sidebar/items/AlphanumericListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"selected"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing
,p=void 0,d=this.escapeExpression;s+='<a class="gray ',a=n.active,o=a||t.active,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='" href="#">',a=n.character,o=a||t.character,o=o===null||o===undefined||o===!1?o:o.title,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"character.title",{hash:{}})),s+=d(o)+"</a>\n",s})}),define("plex/view/lists/sidebar/items/AlphanumericListItem",["hb!templates/lists/sidebar/items/AlphanumericListItem.tpl"
,"plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",active:!1,events:{click:"onClick"},initialize:function(e){this.active=this.model.id===e.list.activeCharacter,this.addBinding(this.model,"change",this.render),this.addBinding(t,"change:firstCharacter",this.onFirstCharacterChange),this.addBinding(t,"reset:filter",this.onFirstCharacterChange)},render:function(){return this.$el.html(e({active:this.active,character:this.model.toJSON()})),this},onClick:function(
e){e.preventDefault(),this.active?t.trigger("change:firstCharacter",null):t.trigger("change:firstCharacter",this.model.id)},onFirstCharacterChange:function(e){this.active=this.model.id===e,this.render()}});return r}),define("plex/view/lists/sidebar/AlphanumericList",["plex/view/lists/BaseList","plex/view/lists/sidebar/items/AlphanumericListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"alphanumeric-list",initialize:function(e){this.setup(t),this.activeCharacter=e.activeCharacter},render
:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("hb!templates/lists/sidebar/items/FilterListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){return"boolean-toggle"}function y(e,t){var r,i;return f=n.unwatched,r=f||e.unwatched,i=n["if"],l=c.program(4,b,t),l.hash={},l.fn=l,l.inverse=c.program(6,w,t),r=i.call(e,r,l),r||r===0?r:""}function b(e,t){return"unwatched-toggle"}function w(e,t){return"options-toggle"}n=n||
e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.blockHelperMissing,d=n.helperMissing,v=void 0,m=this.escapeExpression;s+='<a class="gray remove-filters-btn hide" href="#">\n	<i class="glyphicon circle-minus"></i>\n</a>\n\n<a class="gray ',o="boolean",f=n.filter,u=f||t.filter,u=u===null||u===undefined||u===!1?u:u.filterType,f=n.if_eq,a=f||t.if_eq,l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(3,y,i),f&&typeof a===h?o=a.call(t,u,o,l):o=p.call(t,a,u,o,l);if(o||o===0)s+=o;return s+='" data-tooltip-position="fixed" href="#">\n	'
,f=n.filter,o=f||t.filter,o=o===null||o===undefined||o===!1?o:o.title,f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+"\n</a>\n",s})}),define("plex/view/lists/sidebar/items/FilterListItem",["hb!templates/lists/sidebar/items/FilterListItem.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/view/BaseView","jquery"],function(e,t,n,r,i){var s=r.extend({tagName:"li",selectedOptions:null,events:{"click .unwatched-toggle":"onUnwatchedToggleClick"
,"click .boolean-toggle":"onBooleanToggleClick","click .options-toggle":"onOptionsToggleClick","click .remove-filters-btn":"onRemoveFiltersClick"},initialize:function(e){var n=[],r=e.list.activeFilters;for(var i=0,s=r.length;i<s;i++){var o=r[i];o.key===this.model.id&&(n=o.titles)}this.selectedOptions=n,this.addBinding(this.model,"change",this.render),this.addBinding(t,"add:filter",this.onAddFilter),this.addBinding(t,"remove:filter",this.onRemoveFilter),this.addBinding(t,"removeAll:filter",this.onRemoveAllFilters
)},render:function(){var t=this.model.id==="viewCount"||this.model.id==="unviewedLeafCount";return this.$el.html(e({filter:this.model.toJSON(),unwatched:t})),t||this.model.get("filterType")==="boolean"?this.selectedOptions.length>0&&this.$(".unwatched-toggle, .boolean-toggle").addClass("selected"):this.updateLabel(),this},updateLabel:function(){var e=this.$(".options-toggle"),t=n.t(this.model.get("title")),r=this.selectedOptions.length;if(r){e.addClass("selected"),t+=": ";for(var i=0;i<r;i++)t+=this
.selectedOptions[i],i+1<r&&(t+=", ");this.$(".remove-filters-btn").removeClass("hide")}else e.removeClass("selected"),this.$(".remove-filters-btn").addClass("hide");e.text(t)},onUnwatchedToggleClick:function(e){e.preventDefault();var n=i(e.target),r={key:this.model.id,title:"Unwatched"};this.model.id==="unviewedLeafCount"?r.value=1:r.value=0,n.hasClass("selected")?t.trigger("remove:filter",r,!0):t.trigger("add:filter",r,!0),n.toggleClass("selected")},onBooleanToggleClick:function(e){e.preventDefault
();var n=i(e.target),r={key:this.model.id,title:this.model.get("title"),value:1};n.hasClass("selected")?t.trigger("remove:filter",r,!0):t.trigger("add:filter",r,!0),n.toggleClass("selected")},onOptionsToggleClick:function(e){e.preventDefault();var n=this.model.get("options");n.fetch().done(_.bind(function(){t.trigger("show:filterOptions",this.model)},this))},onRemoveFiltersClick:function(e){e.preventDefault(),t.trigger("removeAll:filter",{key:this.model.id})},onAddFilter:function(e,t){if(e.key!==
this.model.id||t)return;this.selectedOptions.push(e.title),this.updateLabel()},onRemoveFilter:function(e,t){if(e.key!==this.model.id||t)return;this.selectedOptions=_.reject(this.selectedOptions,function(t){return t===e.title}),this.updateLabel()},onRemoveAllFilters:function(e){if(e.key!==this.model.id)return;this.selectedOptions.length=0,this.updateLabel()}});return s}),define("plex/view/lists/sidebar/FilterList",["plex/view/lists/BaseList","plex/view/lists/sidebar/items/FilterListItem"],function(
e,t){var n=e.extend({tagName:"ul",className:"filter-list",activeFilters:null,initialize:function(e){this.setup(t),this.activeFilters=e.activeFilters,this.collection.populate()},render:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("hb!templates/lists/sidebar/items/SortListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+='\n	<a class="gray selected" href="#">',a=n.sort,i=a||e.sort,i=i===null||i===
undefined||i===!1?i:i.title,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+" ",a=n.descending,i=a||e.descending,s=n["if"],f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.program(4,g,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="</a>\n",r}function m(e,t){return'<i class="glyphicon-caret small"></i>'}function g(e,t){return'<i class="glyphicon-caret reverse small"></i>'}function y(e,t){var r="",i,s;return r+='\n	<a class="gray" href="#">',a=n.sort,
i=a||e.sort,i=i===null||i===undefined||i===!1?i:i.title,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a>\n",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.active,o=a||t.active,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(6,y,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/lists/sidebar/items/SortListItem",["hb!templates/lists/sidebar/items/SortListItem.tpl"
,"plex/control/Dispatcher","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",active:!1,direction:"desc",events:{click:"onClick"},initialize:function(e){var n=e.list.activeSort;this.addBinding(this.model,"change",this.render),this.addBinding(t,"change:sort",this.onSortChange);if(_.isEmpty(n)){var r=this.model.get("default");r&&(this.active=!0,this.direction=r)}else this.model.id===n.key&&(this.active=!0,this.direction=n.direction)},render:function(){return this.$el.html(e({active:
this.active,descending:this.direction==="desc",sort:this.model.toJSON()})),this},onClick:function(e){e.preventDefault(),this.active?this.direction==="desc"?this.direction="asc":this.active=!1:(this.active=!0,this.direction="desc"),this.render(),this.active?t.trigger("change:sort",{key:this.model.id,direction:this.direction}):t.trigger("change:sort",{key:null})},onSortChange:function(e){this.model.id!==e.key&&(this.active=!1),this.render()}});return r}),define("plex/view/lists/sidebar/SortList",["plex/view/lists/BaseList"
,"plex/view/lists/sidebar/items/SortListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"filter-list",activeSort:null,initialize:function(e){this.setup(t),this.activeSort=e.activeSort,this.collection.populate()},render:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("hb!templates/lists/sidebar/items/MediaTypeListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){return"selected"}n=n||e.helpers;var s=""
,o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a class="gray ',a=n.active,o=a||t.active,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='" href="#">',a=n.label,o=a||t.label,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"label",{hash:{}})),s+=d(o)+"</a>\n",s})}),define("plex/view/lists/sidebar/items/MediaTypeListItem",["hb!templates/lists/sidebar/items/MediaTypeListItem.tpl","plex/control/Dispatcher"
,"plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",active:!1,direction:"desc",events:{click:"onClick"},initialize:function(e){var n=e.list.activeType;this.addBinding(t,"change:mediaType",this.onMediaTypeChange),this.model.id===n&&(this.active=!0)},render:function(){var t={active:this.active,label:this.model.label};return this.$el.html(e(t)),this},onClick:function(e){e.preventDefault(),this.active=!0,this.render(),t.trigger("change:mediaType",this.model.id)},onMediaTypeChange:function(
e){this.model.id!==e&&(this.active=!1),this.render()}});return r}),define("plex/view/lists/sidebar/MediaTypeList",["plex/view/BaseView","plex/view/lists/sidebar/items/MediaTypeListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"filter-list",activeType:null,initialize:function(e){this.activeType=e.activeType},render:function(){return this.$el.empty(),_.each(this.collection,_.bind(function(e){var n=this.registerView(new t({model:e,list:this}));this.$el.append(n.render().el)},this)),this
}});return n}),define("plex/view/section/SidebarView",["hb!templates/section/SidebarView.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/control/utils/MediaTypes","plex/model/AppModel","plex/view/BaseView","plex/view/section/FilterOptionView","plex/view/lists/sidebar/AlphanumericList","plex/view/lists/sidebar/FilterList","plex/view/lists/sidebar/SortList","plex/view/lists/sidebar/MediaTypeList","jquery"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=s.extend({className:"sidebar-container"
,typeList:null,filterList:null,filterOptions:null,sortList:null,listType:"poster-tile-list",events:{"click .sidebar-toggle":"onSidebarToggleClick","click .poster-tile-list-btn":"onPosterTileListClick","click .poster-list-btn":"onPosterListClick","click .compact-list-btn":"onCompactListClick","click .folder-list-btn":"onFolderListClick","click .close-filter-options-btn":"onCloseFilterOptionsClick"},initialize:function(e){var n=this.model.get("media"),i=this.model.get("alphanumeric"),s=this.model.get
("filters"),h=this.model.get("sorts"),p=r.getRelatedMediaTypes(this.model.get("type")),d=n.mediaType||p[0].id;n.mediaType=d,i.mediaType=d,s.mediaType=d,h.mediaType=d,this.alphanumericList=this.registerView(new u({collection:i,activeCharacter:n.firstCharacter})),this.filterList=this.registerView(new a({collection:s,activeFilters:n.filters})),this.filterOptions=this.registerView(new o({activeFilters:n.filters})),this.sortList=this.registerView(new f({collection:h,activeSort:n.sort})),p.length>1&&(this
.mediaTypeList=this.registerView(new l({collection:p,activeType:n.mediaType}))),e.hidden&&this.$el.addClass("hidden"),_.bindAll(this,"onResize"),c(window).on("resize",this.onResize),this.addBinding(this.model,"change:title",_.bind(this.onTitleChange,this)),this.addBinding(t,"show:filterOptions",_.bind(this.onShowFilterOptions,this)),this.addBinding(t,"add:filter",_.bind(this.onAddFilter,this)),this.addBinding(t,"remove:filter",_.bind(this.onRemoveFilter,this)),this.addBinding(t,"removeAll:filter"
,_.bind(this.onRemoveAllFilters,this)),this.addBinding(t,"reset:filter",_.bind(this.onResetFilters,this)),this.addBinding(t,"change:firstCharacter",_.bind(this.onFirstCharacter,this)),this.addBinding(t,"change:sort",_.bind(this.onSortChange,this)),this.addBinding(t,"change:mediaType",_.bind(this.onMediaTypeChange,this)),this.addBinding(t,"search:section",_.bind(this.onSearch,this)),this.addBinding(n,"reset",_.bind(this.onMediaCollectionChange,this)),this.addBinding(n,"add",_.bind(this.onMediaCollectionChange
,this))},render:function(){return this.listType=i.get("settings").get("listType"),this.$el.html(e({section:this.model.toJSON(),totalSize:this.model.get("media").totalSize,listType:this.listType,showTypes:!!this.mediaTypeList})),this.$el.prepend(this.alphanumericList.render().el),this.$(".filter-header").after(this.filterList.render().el),this.$(".filter-header").after(this.filterOptions.render().el),this.$(".sort-header").after(this.sortList.render().el),this.mediaTypeList&&this.$(".type-header")
.after(this.mediaTypeList.render().el),this},destroy:function(){c(window).off("resize",this.onResize),s.prototype.destroy.call(this)},propagateFilters:function(e){var t=this.model.get("filters");t.each(function(t){var n=t.get("options");n.activeFilters=e})},propagateMediaType:function(e){var t=this.model.get("filters");t.each(function(t){var n=t.get("options");n.activeType=e})},fetchMedia:function(){var e=this.model.get("media");e.start=0,e.fetch().done(function(){window.scrollTo&&window.scrollTo
(0,0)})},fetchAlphanumeric:function(){var e=this.model.get("media"),t=this.model.get("alphanumeric");t.filters=e.filters,t.fetch()},onSidebarToggleClick:function(e){e.preventDefault(),this.$el.hasClass("open")?this.trigger("close"):this.trigger("open"),this.$el.toggleClass("open")},onPosterTileListClick:function(e){e.preventDefault();var t="poster-tile-list";if(this.listType!==t){var n=i.get("settings");n.save("listType",t),this.trigger("change:listType",t),this.listType=t}},onPosterListClick:function(
e){e.preventDefault();var t="poster-list";if(this.listType!==t){var n=i.get("settings");n.save("listType",t),this.trigger("change:listType",t),this.listType=t}},onCompactListClick:function(e){e.preventDefault();var t="compact-list";if(this.listType!==t){var n=i.get("settings");n.save("listType",t),this.trigger("change:listType",t),this.listType=t}},onFolderListClick:function(e){e.preventDefault(),t.trigger("navigate:sectionFolder",this.model.server.id,this.model.id)},onCloseFilterOptionsClick:function(
e){e.preventDefault(),this.$(".filter-header").removeClass("active"),this.$(".filter-header-title").text(n.t("Filter")),this.filterOptions.close()},onResize:function(e){var t=this.$(".type-header"),n=c(window).height(),r=0;r+=52,r+=32,r+=this.$(".sidebar-title").outerHeight(),r+=19,r+=this.$(".filter-header").outerHeight(!0),r+=this.$(".search-container").outerHeight(!0),t.length&&(r+=t.outerHeight(!0)+t.next().outerHeight(!0)),this.$(".filter-option-list").height(n-r)},onTitleChange:function(e,t
){this.$(".sidebar-title").text(Handlebars.helpers.truncate.call(this,t,17))},onShowFilterOptions:function(e){var t=n.t(e.get("title"));this.$(".filter-header").addClass("active"),this.$(".filter-header-title").text(n.t("Filter By {1}",t)),this.filterOptions.open(e),this.onResize()},onAddFilter:function(e,t){var n=this.model.get("media"),r=n.filters,i=_.find(r,function(t){return t.key===e.key});i?(t&&(i.titles.length=0,i.values.length=0),i.titles.push(e.title),i.values.push(e.value)):r.push({key:
e.key,titles:[e.title],values:[e.value]}),this.propagateFilters(r),this.fetchMedia(),this.fetchAlphanumeric()},onRemoveFilter:function(e){var t=this.model.get("media"),n=t.filters,r=_.find(n,function(t){return t.key===e.key});r&&(r.titles=_.reject(r.titles,function(t){return t===e.title}),r.values=_.reject(r.values,function(t){return t===e.value})),this.propagateFilters(n),this.fetchMedia(),this.fetchAlphanumeric()},onRemoveAllFilters:function(e){var t=this.model.get("media"),n=t.filters,r=_.find
(n,function(t){return t.key===e.key});r&&(r.titles.length=0,r.values.length=0),this.propagateFilters(n),this.fetchMedia(),this.fetchAlphanumeric()},onResetFilters:function(){var e=this.model.get("media"),t=this.model.get("filters");e.filters.length=0,e.search=null,e.firstCharacter=null,this.alphanumericList.activeCharacter=null,this.filterList.reset(t),this.filterOptions.reset(e.filters),this.fetchMedia(),this.fetchAlphanumeric()},onFirstCharacter:function(e){var t=this.model.get("media");t.firstCharacter=
e,this.fetchMedia()},onSortChange:function(e){var t=this.model.get("media");t.sort=e,this.fetchMedia()},onMediaTypeChange:function(e){var t=this.model.get("media"),r=this.model.get("alphanumeric"),i=this.model.get("filters"),s=this.model.get("sorts");t.mediaType=e,r.mediaType=e,i.mediaType=e,s.mediaType=e,t.firstCharacter=null,t.filters.length=0,this.propagateFilters(t.filters),this.propagateMediaType(e),this.fetchMedia(),this.fetchAlphanumeric(),i.fetch(),s.fetch(),this.filterOptions.active&&(this
.$(".filter-header").removeClass("active"),this.$(".filter-header-title").text(n.t("Filter")),this.filterOptions.close())},onSearch:function(e){var t=this.model.get("media");e?this.onAddFilter({key:"title",value:e},!0):this.onRemoveFilter({key:"title",value:t.search}),t.search=e},onMediaCollectionChange:function(){var e=this.model.get("media");e.totalSize?this.$(".sidebar-count").text(e.totalSize):this.$(".sidebar-count").text("")}});return h}),define("plex/view/section/SectionView",["hb!templates/section/SectionView.tpl"
,"plex/control/Dispatcher","plex/control/utils/StringUtil","plex/model/AppModel","plex/model/FilterModel","plex/model/media/collections/MediaCollection","plex/view/BaseView","plex/view/lists/media/PosterTileList","plex/view/lists/media/PosterList","plex/view/lists/media/CompactList","plex/view/modals/EditSectionModal","plex/view/section/SectionActionBarView","plex/view/section/SidebarView","jquery"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){var d={movie:{showOnDeck:!0,showRecentlyAdded:!0},show:{showOnDeck
:!0,showRecentlyAdded:!0},photo:{showOnDeck:!1,showRecentlyAdded:!0},artist:{showOnDeck:!1,showRecentlyAdded:!0}},v=o.extend({className:"container-fluid container-fluid-full",listType:"poster-tile-list",list:null,actionBar:null,sidebar:null,showMultiselectTip:!0,loading:!1,events:{"click .all-btn":"onAllClick","click .onDeck-btn":"onOnDeckClick","click .recentlyAdded-btn":"onRecentlyAddedClick","click .clear-filters-btn":"onClearFiltersClick"},initialize:function(e){var t=r.get("settings"),n=this
.model.get("media"),i=this.model.get("type"),s=this.model.get("alphanumeric"),o=d[i],u=this.getListConstructor(t.get("listType"));this.subsetAttr=this.model.server.id+"!"+this.model.id+"!subset",this.subset=r.get("settings").get(this.subsetAttr),this.subset||(this.subset="all");var a=this.subset==="all"?n:this.model.get(this.subset);this.list=this.registerView(new u({collection:a})),this.actionBar=this.registerView(new c({model:this.model})),this.actionBar.setModels([]),this.sidebar=this.registerView
(new h({model:this.model,hidden:this.subset!=="all"})),this.showMultiselectTip=t.get("showMultiselectTip"),this.showMultiselectTip&&t.save("showMultiselectTip",!1),_.bindAll(this,"onScroll"),p(window).on("scroll",this.onScroll),this.addBinding(n,"reset",this.onReset),this.addBinding(n,"merge",this.onMerge),this.addBinding(this.list,"change:selectedItems",this.onSelectedItemsChange),this.addBinding(this.actionBar,"deselect",this.onDeselectItems),this.addBinding(this.sidebar,"open",this.onSidebarOpen
),this.addBinding(this.sidebar,"close",this.onSidebarClose),this.addBinding(this.sidebar,"change:listType",this.onListTypeChange),n.size=this.calculatePageSize(),a.length?a===n&&this.showAll():(a===n&&s.fetch(),a.fetch())},render:function(){var t=this.model.get("media"),n=this.model.get("type"),r=d[n];return this.$el.html(e({serverID:this.model.server.id,shared:this.model.server.get("shared"),section:this.model.toJSON(),subset:this.subset,showOnDeck:r.showOnDeck,showRecentlyAdded:r.showRecentlyAdded
,search:this.model.get("media").search,showMultiselectTip:this.showMultiselectTip})),this.$el.prepend(this.actionBar.render().el),this.$(".section-row").append(this.sidebar.render().el),this.$(".media-list-container").html(this.list.render().el),this.$el.tooltip({selector:".banner-icon-btn",placement:"bottom"}),t.length&&this.onReset(t),this},destroy:function(){p(window).off("scroll",this.onScroll),o.prototype.destroy.call(this)},getListConstructor:function(e){this.listType=e;switch(e){case"poster-tile-list"
:return u;case"poster-list":return a;case"compact-list":return f;default:return u}},calculatePageSize:function(){var e=170,t=180,n=125,r=28,i=150,s=150,o=p(window).width()-s,u=p(window).height()-i,a;return this.listType==="poster-tile-list"?a=o*u/(e*t):this.listType==="poster-list"?a=u/n:a=u/r,Math.round(a*3)},showAll:function(){var e=r.get("settings"),t=this.model.get("scrollPosition"),n=this.model.get("media"),i=this.model.get("alphanumeric");e.save(this.subsetAttr,"all"),this.$(".banner-nav a"
).removeClass("selected"),this.$(".all-btn").addClass("selected"),this.$(".sidebar-container").removeClass("hidden"),this.$(".section-row").removeClass("sidebar-hidden");var s=_.bind(function(){this.list.off("complete",s),t&&window.scrollTo&&window.scrollTo(0,t)},this);this.list.on("complete",s);if(this.list.collection!==n){var o=[];o.push(i.populate()),o.push(n.populate()),p.when.apply(p,o).done(_.bind(function(){this.list.rebase(n)},this))}},showSubset:function(e){var t=r.get("settings"),n=this
.$("."+e+"-btn"),i=n.hasClass("selected");t.save(this.subsetAttr,e);if(i)return;this.$(".banner-nav a").removeClass("selected"),n.addClass("selected"),this.$(".sidebar-container").addClass("hidden"),this.$(".section-row").addClass("sidebar-hidden");var s=this.model.get(e);s.fetch().done(_.bind(function(){this.list.rebase(s),window.scrollTo&&window.scrollTo(0,0)},this))},onScroll:function(){var e=p(document).height(),t=p(window).height(),n=p(window).scrollTop(),r=this.model.get("media");if(this.list
.collection!==r)return;this.model.set("scrollPosition",n),!this.loading&&e-t-n<200&&(this.loading=!0,r.next().done(_.bind(function(){this.loading=!1},this)))},onReset:function(e){var t=this.model.get("media"),r=t.filters;this.$(".section-header").addClass("hide"),this.$(".results-title").addClass("hide"),this.$(".results-count").html(e.totalSize),e.totalSize===1?this.$(".results-title.singular").removeClass("hide"):this.$(".results-title.plural").removeClass("hide");if(t.search)this.$(".section-search-header"
).removeClass("hide"),this.$(".section-search-header .primary").text(n.truncate(t.search,25)),this.list.collection!==t&&this.showAll();else{var i=!1;_.each(r,function(e){e.values.length&&(i=!0)}),(t.firstCharacter||i)&&this.$(".section-filtered-header").removeClass("hide")}},onMerge:function(e){var t=this.model.get("alphanumeric"),n=this.model.get("recentlyAdded");t.fetch({hideLoadingAlert:!0}),this.list.collection===n&&n.fetch({hideLoadingAlert:!0})},onSelectedItemsChange:function(e){this.actionBar
.setModels(_.pluck(e,"model"))},onDeselectItems:function(){this.list.deselectAll()},onSidebarOpen:function(){this.$(".section-row").addClass("sidebar-open")},onSidebarClose:function(){_.delay(_.bind(function(){this.$(".section-row").removeClass("sidebar-open"),this.list.loadPosterThrottle&&this.list.loadPosterThrottle()},this),600)},onListTypeChange:function(e){var t=this.getListConstructor(e),n=this.list.selectedItems,r=this.model.get("media"),i=this.calculatePageSize();r.length<i&&r.next(i),r.size=
i,this.removeView(this.list),this.removeBinding(this.list,"change:selectedItems",this.onSelectedItemsChange),this.list=this.registerView(new t({collection:r})),this.list.selectedItems=n,this.addBinding(this.list,"change:selectedItems",this.onSelectedItemsChange),this.$(".media-list-container").html(this.list.render().el)},onAllClick:function(e){e.preventDefault(),this.showAll()},onOnDeckClick:function(e){e.preventDefault(),this.showSubset("onDeck")},onRecentlyAddedClick:function(e){e.preventDefault
(),this.showSubset("recentlyAdded")},onClearFiltersClick:function(e){e.preventDefault(),t.trigger("reset:filter")}});return v}),define("hb!templates/section/SectionFolderView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<div class="folder-section-row">\n	<div class="media-list-container"></div>\n</div>\n'})}),define("plex/view/section/SectionFolderView",["hb!templates/section/SectionFolderView.tpl","plex/view/BaseView","plex/model/media/collections/MediaCollection"
,"plex/view/section/SectionActionBarView","plex/view/lists/media/PosterTileList","plex/view/lists/media/CompactList"],function(e,t,n,r,i,s){var o=t.extend({className:"container-fluid container-fluid-full",list:null,actionBar:null,initialize:function(e){var t="library/sections/"+this.model.id+"/folder";e.folderID&&(t=decodeURIComponent(e.folderID));var o=new n([],{server:this.model.server,section:this.model,url:t,listen:!1});this.actionBar=this.registerView(new r({model:this.model})),this.actionBar
.setModels([]),e.type==="photo"?this.list=this.registerView(new i({collection:o})):this.list=this.registerView(new s({collection:o})),this.addBinding(this.list,"change:selectedItems",this.onSelectedItemsChange),this.addBinding(this.actionBar,"deselect",this.onDeselectItems),o.fetch()},render:function(){return this.$el.html(e()),this.$el.prepend(this.actionBar.render().el),this.$(".media-list-container").html(this.list.render().el),this},onSelectedItemsChange:function(e){this.actionBar.setModels(_
.pluck(e,"model"))},onDeselectItems:function(){this.list.deselectAll()}});return o}),define("hb!templates/details/DetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<div class="fanart"></div>\n<div class="fanart-overlay"></div>\n'})}),define("hb!templates/details/MovieDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.
escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<div class="poster-container">\n			<img class="movie-poster poster large-poster">\n\n			<span class="media-count"></span>\n		</div>\n\n		<div class="media-flags">\n			<img class="movie-video-resolution media-flag">\n			<img class="movie-audio-codec media-flag">\n			<img class="movie-audio-channels media-flag">\n		</div>\n	</div>\n\n	<div class="movie-metadata details-metadata">\n		<div class="metadata-right">\n			<h1 class="movie-year"></h1>\n\n			<div class="movie-content-rating metadata"><img class="media-flag"></div>\n\n			<div class="movie-rating metadata"></div>\n		</div>\n\n		<h1><span class="movie-title"></span><a class="movie-unavailable unavailable-btn pill-btn" href="#">'
,o="Unavailable",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</a></h1>\n\n		<div class="movie-genre metadata"></div>\n\n		<div class="metadata metadata-duration">\n			<span class="movie-duration"></span>\n\n			<div class="unwatched-icon unwatched-partial-icon"></div>\n			<div class="unwatched-icon unwatched-full-icon"></div>\n		</div>\n\n		<h2 class="movie-tagline tagline"></h2>\n\n		<div class="movie-director metadata metadata-top"></div>\n		<div class="movie-writer metadata"></div>\n		<div class="movie-cast metadata"></div>\n\n		<div class="movie-audio metadata metadata-top hide"><span class="metadata-label">'
,o="Audio",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span></div>\n		<div class="movie-subtitles metadata hide"><span class="metadata-label">',o="Subtitles",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span></div>\n\n		<div class="movie-summary summary"></div>\n\n		<div class="media-flags">\n			<img class="movie-studio studio">\n		</div>\n	</div>\n</div>\n',s})}),define("hb!templates/details/ActionBarView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+="\n		",a=n.showEdit,i=a||e.showEdit,s=n["if"],f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showRefresh,i=a||e.showRefresh,s=n["if"],f=l.program(4,g,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showWatch,i=a||e.showWatch,s=n["if"],f=l.program(6,y,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||
i===0)r+=i;r+="\n\n		",a=n.showUnwatch,i=a||e.showUnwatch,s=n["if"],f=l.program(8,b,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showFixMatch,i=a||e.showFixMatch,s=n["if"],f=l.program(10,w,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showUnmatch,i=a||e.showUnmatch,s=n["if"],f=l.program(12,E,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showSplitApart,i=a||e.showSplitApart,s=n["if"
],f=l.program(14,S,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showDownload,i=a||e.showDownload,s=n["if"],f=l.program(16,x,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showDelete,i=a||e.showDelete,s=n["if"],f=l.program(19,N,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n		",a=n.showPlaylistDelete,i=a||e.showPlaylistDelete,s=n["if"],f=l.program(21,C,t),f.hash={},f.fn=f,f.inverse=l.noop
,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	",r}function m(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn edit-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Edit",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon pencil"></i>\n				</a>\n			</li>\n		',r}function g(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn refresh-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="'
,i="Refresh",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon repeat"></i>\n				</a>\n			</li>\n		',r}function y(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-icon-btn watch-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Mark as Watched",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					',i="Mark as Watched",a=n.t,s=
a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n				</a>\n			</li>\n		",r}function b(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-icon-btn unwatch-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Mark as Unwatched",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					',i="Mark as Unwatched",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call
(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n				</a>\n			</li>\n		",r}function w(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn fix-match-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Fix Incorrect Match",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon nameplate"></i>\n				</a>\n			</li>\n		',r}function E(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-icon-btn unmatch-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="'
,i="Unmatch",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					',i="Unmatch",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n				</a>\n			</li>\n		",r}function S(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn split-apart-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Split Apart",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}
):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon resize-full"></i>\n				</a>\n			</li>\n		',r}function x(e,t){var r,i;return a=n.downloadUrl,r=a||e.downloadUrl,i=n["if"],f=l.program(17,T,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function T(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn download-icon-btn" href="',a=n.downloadUrl,i=a||e.downloadUrl,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"downloadUrl"
,{hash:{}})),r+=d(i)+'" rel="tooltip" data-tooltip-position="fixed" title="',i="Download",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'" download="',a=n.downloadName,i=a||e.downloadName,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"downloadName",{hash:{}})),r+=d(i)+'">\n					<i class="glyphicon hdd"></i>\n				</a>\n			</li>\n		',r}function N(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn delete-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="'
,i="Delete",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon ban"></i>\n				</a>\n			</li>\n		',r}function C(e,t){var r="",i,s;return r+='\n			<li>\n				<a class="actionbar-glyphicon-btn delete-playlist-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Delete from Playlist",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n					<i class="glyphicon ban"></i>\n				</a>\n			</li>\n		'
,r}function k(e,t){var r="",i,s;return r+='\n		<li>\n			<a class="actionbar-glyphicon-btn share-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Share",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n				<i class="glyphicon share"></i>\n			</a>\n		</li>\n\n		<li>\n			<a class="actionbar-glyphicon-btn recommend-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Recommend",a=n.t,s=a||e.t,typeof 
s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n				<i class="glyphicon share-alt"></i>\n			</a>\n		</li>\n	',r}function L(e,t){var r="",i,s;return r+='\n		<li>\n			<a class="actionbar-glyphicon-btn info-icon-btn" href="#" rel="tooltip" data-tooltip-position="fixed" title="',i="Media Info",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n				<i class="glyphicon circle-info"></i>\n			</a>\n		</li>\n	',r}n=n||e.helpers
;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<ul class="iconbar">\n	',a=n.shared,o=a||t.shared,u=n.unless,f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n	",a=n.showShare,o=a||t.showShare,u=n["if"],f=l.program(23,k,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n	",a=n.showInfo,o=a||t.showInfo,u=n["if"],f=l.program(25,L,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(
o||o===0)s+=o;return s+="\n</ul>\n",s})}),define("hb!templates/modals/MediaInfoModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s;r+='\n		<div class="media-info-container error">\n			<h4><i class="glyphicon warning-sign"></i> ',i="Problems",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h4>\n\n			<ul>\n				",a=n.missingParts,i=a||e.missingParts,s=n.each,f=l.program(2,g,t),f.hash={},f.fn=f,f
.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n			</ul>\n		</div>\n	",r}function g(e,t){var r="",i,s,o;r+='\n					<li>\n						<span class="media-info-detail-label">',a=n.file,i=a||e.file,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"file",{hash:{}})),r+=d(i)+'</span>\n\n						<ul>\n							<li><span class="media-info-detail">\n								',i="1",a=n.exists,s=a||e.exists,a=n.if_eq,o=a||e.if_eq,f=l.program(3,y,t),f.hash={},f.fn=f,f.inverse=l.program(5,b,t),a&&typeof o===c?i=o.call
(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;return r+="\n							</span></li>\n						</ul>\n					</li>\n				",r}function y(e,t){var r="",i,s;return r+="\n									",i="Please check the permissions for this file.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n								",r}function b(e,t){var r="",i,s;return r+="\n									",i="Please check that this file exists and the necessary drive is mounted.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash
:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n								",r}function w(e,t){var r="",i,s;r+='\n		<div class="media-info-container">\n			<h4>',i="Media",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h4>\n			<ul>\n				",a=n.properties,i=a||e.properties,s=n.each,f=l.program(8,E,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n			</ul>\n\n			",a=n.Part,i=a||e.Part,s=n.each,f=l.program(10,S,t),f.hash={},f.fn=f,f.inverse=
l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n		</div>\n	",r}function E(e,t){var r="",i,s;return r+='\n					<li>\n						<span class="media-info-detail-label">',a=n.name,i=a||e.name,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</span>\n						<span class="media-info-detail">',a=n.value,i=a||e.value,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"value",{hash:{}})),r+=d(i)+"</span>\n					</li>\n				",r}function S(e,t){var r="",i,s;r+='\n				<div class="media-info-part">\n					<h4>'
,i="File",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h4>\n					<ul>\n						",a=n.properties,i=a||e.properties,s=n.each,f=l.program(11,x,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n					</ul>\n\n					",a=n.Stream,i=a||e.Stream,s=n.each,f=l.program(13,T,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n				</div>\n			",r}function x(e,t){var r="",i,s;return r+='\n							<li>\n								<span class="media-info-detail-label">'
,a=n.name,i=a||e.name,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</span>\n								<span class="media-info-detail">',a=n.value,i=a||e.value,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"value",{hash:{}})),r+=d(i)+"</span>\n							</li>\n						",r}function T(e,t){var r="",i,s,o;r+='\n						<div class="media-info-stream">\n							',i="1",a=n.streamType,s=a||e.streamType,a=n.if_eq,o=a||e.if_eq,f=l.program(14,N,t),f.hash={},f.fn=f,f.inverse=
l.program(16,C,t),a&&typeof o===c?i=o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;r+="\n\n							<ul>\n								",a=n.properties,i=a||e.properties,s=n.each,f=l.program(22,O,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n							</ul>\n						</div>\n					",r}function N(e,t){var r="",i,s;return r+="\n								<h4>",i="Video",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h4>\n							",r}function C(e,t){var r
,i,s;return r="2",a=n.streamType,i=a||e.streamType,a=n.if_eq,s=a||e.if_eq,f=l.program(17,k,t),f.hash={},f.fn=f,f.inverse=l.program(19,L,t),a&&typeof s===c?r=s.call(e,i,r,f):r=v.call(e,s,i,r,f),r||r===0?r:""}function k(e,t){var r="",i,s;return r+="\n								<h4>",i="Audio",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h4>\n							",r}function L(e,t){var r,i,s;return r="3",a=n.streamType,i=a||e.streamType,a=n.if_eq,s=a||e.if_eq,f=l.program(20,A
,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof s===c?r=s.call(e,i,r,f):r=v.call(e,s,i,r,f),r||r===0?r:""}function A(e,t){var r="",i,s;return r+="\n								<h4>",i="Subtitles",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h4>\n							",r}function O(e,t){var r="",i,s;return r+='\n									<li>\n										<span class="media-info-detail-label">',a=n.name,i=a||e.name,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash
:{}}):i=s,r+=d(i)+'</span>\n										<span class="media-info-detail">',a=n.value,i=a||e.value,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"value",{hash:{}})),r+=d(i)+"</span>\n									</li>\n								",r}function M(e,t){var r="",i,s;return r+='\n	<div class="modal-footer">\n		<div class="pull-left">\n			<a href="',a=n.url,i=a||e.url,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"url",{hash:{}})),r+=d(i)+'" target="_blank">',i="View XML",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,
{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a>\n		</div>\n	</div>\n",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression,v=n.blockHelperMissing;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon circle-info"></i> ',o="Media Info",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=
d(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	',a=n.hasMissingParts,o=a||t.hasMissingParts,u=n["if"],f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n\n	",a=n.media,o=a||t.media,u=n.each,f=l.program(7,w,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+="\n</div>\n\n",a=n.key,o=a||t.key,u=n["if"],f=l.program(24,M,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define
("plex/view/modals/MediaInfoModal",["hb!templates/modals/MediaInfoModal.tpl","plex/view/BaseView"],function(e,t){var n=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode"],r={size:"formatBytes",duration:"formatDuration",codec:"upper",format:"upper",container:"upper",videoResolution:"formatResolution",channels:"formatAudioChannels",level:"formatVideoLevel",bitrateMode:"upper",accessible:"formatBoolean",exists:"formatBoolean"},i={frameRate:" fps",dialogNorm
:" dB",bitrate:" kbps",samplingRate:" Hz"},s=function(e,t){var s={properties:[]},o=[];for(var u in e){if(u===t||_.indexOf(n,u)!==-1)continue;var a=e[u];r[u]&&(a=Handlebars.helpers[r[u]].call(this,a));if(!a)continue;i[u]&&(a+=i[u]),s.properties.push({name:Handlebars.helpers.formatLabel.call(this,u),value:a})}if(t&&e){var f=e[t];(t==="Part"||t==="Stream")&&!_.isArray(f)&&(f=[f]),s[t]=f}return s},o=t.extend({name:"mediaInfoModal",className:"modal modal-large media-info-modal fade",initialize:function(
){var e=this.model.get("Media"),t=[];_.isArray(e)||(e=[e]),_.each(e,function(e){var n=s(e,"Part"),r=[];_.each(n.Part,function(e){var t=s(e,"Stream"),n=[];_.each(t.Stream,function(e){n.push(s(e,"streamType"))}),t.Stream=n,r.push(t)}),n.Part=r,t.push(n)}),this.media=t},render:function(){var t=this.model.get("key"),n=this.model.getMissingParts();return this.$el.html(e({key:t,url:this.model.server.resolveUrl(t,!1,!0),media:this.media,hasMissingParts:!!n.length,missingParts:n})).modal(),this}});return o
}),define("hb!templates/modals/FixMatchModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){return"hide"}function g(e,t){return" hide"}function y(e,t){return" hide"}function b(e,t){var r="",i,s,o;r+='\n					<div class="row-fluid">\n						<div class="span10">\n							<a class="match-result" data-guid="',f=n.guid,i=f||e.guid,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"guid",{hash:{}})),r+=v(i)+'" data-name="',f=n.name,i=f||e.name,typeof i===h?i=i.call
(e,{hash:{}}):i===d&&(i=p.call(e,"name",{hash:{}})),r+=v(i)+'" href="#">\n								',i=40,f=n.name,s=f||e.name,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i),f=n.year,i=f||e.year,s=n["if"],l=c.program(8,w,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+='\n							</a>\n						</div>\n						<div class="span2">\n							<div class="match-score">\n								<div class="bar" style="width: ',f=n.score
,i=f||e.score,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"score",{hash:{}})),r+=v(i)+'%"></div>\n							</div>\n						</div>\n					</div>\n				',r}function w(e,t){var r="",i;return r+=" (",f=n.year,i=f||e.year,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"year",{hash:{}})),r+=v(i)+")",r}function E(e,t){var r="",i,s;return r+='\n					<h4 class="no-matches">',i="No matches found",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</h4>\n				"
,r}function S(e,t){return"hide"}function x(e,t){var r="",i,s;r+='\n						<option value="',f=n.identifier,i=f||e.identifier,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"identifier",{hash:{}})),r+=v(i)+'"',f=n.selected,i=f||e.selected,s=n["if"],l=c.program(15,T,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+=">",f=n.name,i=f||e.name,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"name",{hash:{}})),r+=v(i)+"</option>\n						",r}function T(e,t){return" selected"
}function N(e,t){var r="",i,s;return r+='\n						<option value="">',i="Loading...",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</option>\n						",r}function C(e,t){var r="",i;return r+='\n						<option value="',f=n.value,i=f||e.value,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"value",{hash:{}})),r+=v(i)+'">',f=n.label,i=f||e.label,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"label",{hash:{}})),r+=v(i)+"</option>\n						",
r}function k(e,t){var r="",i,s,o,u;return r+='\n	<div class="media-location">\n		',i="File",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+": ",i=12,s=60,f=n.path,o=f||e.path,f=n.truncateMiddle,u=f||e.truncateMiddle,typeof u===h?i=u.call(e,o,s,i,{hash:{}}):u===d?i=p.call(e,"truncateMiddle",o,s,i,{hash:{}}):i=u,r+=v(i)+"\n	</div>\n	",r}function L(e,t){return"hide"}function A(e,t){return"hide"}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=
n.helperMissing,d=void 0,v=this.escapeExpression;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon nameplate"></i> ',o="Fix Incorrect Match",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</h3>\n</div>\n\n<form class="modal-form fix-match-form">\n	<div class="modal-body minimal-light-scrollbar">\n\n		<div class="fix-match-results ',f=n.unmatched
,o=f||t.unmatched,u=n["if"],l=c.program(1,m,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n			<h4>',f=n.type,o=f||t.type,u="Select the correct {1} from the list below",f=n.t,a=f||t.t,typeof a===h?o=a.call(t,u,o,{hash:{}}):a===d?o=p.call(t,"t",u,o,{hash:{}}):o=a,s+=v(o)+'</h4>\n\n			<h4 class="match-results-loading',f=n.loading,o=f||t.loading,u=n.unless,l=c.program(3,g,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n				',o="Searching for possible matches..."
,f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'\n			</h4>\n			<div class="match-results',f=n.loading,o=f||t.loading,u=n["if"],l=c.program(5,y,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n				',f=n.results,o=f||t.results,u=n.each,l=c.program(7,b,i),l.hash={},l.fn=l,l.inverse=c.program(10,E,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n			</div>\n		</div>\n\n		<div class="fix-match-search row-fluid ',f=n.unmatched,o=f||
t.unmatched,u=n.unless,l=c.program(12,S,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='">\n			<div class="span6">\n				<div class="control-group">\n					<label>',o="Name",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<input type="text" name="name" value="',f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.title,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"media.title",{hash:{}})),s+=
v(o)+'">\n				</div>\n\n				<div class="control-group">\n					<label>',o="Year",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<input type="text" name="year" value="',f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.year,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"media.year",{hash:{}})),s+=v(o)+'">\n				</div>\n			</div>\n\n			<div class="span6">\n				<div class="control-group">\n					<label>',o="Search using"
,f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<select name="agent">\n						',f=n.agents,o=f||t.agents,u=n.each,l=c.program(14,x,i),l.hash={},l.fn=l,l.inverse=c.program(17,N,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n					</select>\n				</div>\n\n				<div class="control-group">\n					<label>',o="Language",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</label>\n					<select name="language">\n						'
,f=n.languages,o=f||t.languages,u=n.each,l=c.program(19,C,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n					</select>\n				</div>\n			</div>\n		</div>\n\n	</div>\n\n	",f=n.path,o=f||t.path,u=n["if"],l=c.program(21,k,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n	<div class="modal-footer">\n		<a class="pull-left toggle-custom ',f=n.unmatched,o=f||t.unmatched,u=n["if"],l=c.program(23,L,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l
);if(o||o===0)s+=o;s+='" href="#">',o="Custom Search",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n		<a class="pull-left toggle-default hide" href="#">',o="Search Results",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n\n		<button class="cancel-btn btn btn-inverse">',o="Cancel",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</button>\n		<button type="submit" class="search-btn btn btn-primary '
,f=n.unmatched,o=f||t.unmatched,u=n.unless,l=c.program(25,A,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;return s+='"><i class="glyphicon search"></i> ',o="Search",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</button>\n	</div>\n</form>\n\n",s})}),define("plex/model/MatchResultModel",["plex/model/BaseModel","jquery"],function(e,t){var n=e.extend({idAttribute:"guid",whitelistedAttrs:["guid","name","lang","score","year"]
,parse:function(e){var n=t.xml2json(e)||e;return n=_.pick(n,this.whitelistedAttrs),n}});return n}),define("plex/model/collections/MatchResultCollection",["plex/model/collections/BaseCollection","plex/model/MatchResultModel","jquery"],function(e,t,n){var r=e.extend({model:t,initialize:function(e,t){this.media=t.media,this.server=t.server},url:function(){return"/library/metadata/"+this.media.id+"/matches"},parse:function(e){return n.xml2json(e).SearchResult}});return r}),define("hb!templates/lists/MatchUsingDropdownList.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<a class="match-using dropdown-toggle" href="#match-using-dropdown-list" data-toggle="dropdown">',o="Match Using",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+' <i class="glyphicon-caret orange small"></i></a>\n\n<ul class="dropdown-menu dropdown-menu-large"></ul>\n',s}
)}),define("hb!templates/lists/items/MatchUsingDropdownListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a href="#">',u=n.name,o=u||t.name,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"name",{hash:{}})),s+=h(o)+"</a>\n",s})}),define("plex/view/lists/items/MatchUsingDropdownListItem",["hb!templates/lists/items/MatchUsingDropdownListItem.tpl","plex/control/Dispatcher"
,"plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",media:null,events:{"click a":"onClick"},initialize:function(e){this.media=e.list.model,this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e(this.model.toJSON())),this},onClick:function(e){e.preventDefault(),t.trigger("command:MatchUsing",this.media,this.model)}});return r}),define("plex/view/lists/MatchUsingDropdownList",["hb!templates/lists/MatchUsingDropdownList.tpl","plex/view/lists/BaseList"
,"plex/view/lists/items/MatchUsingDropdownListItem"],function(e,t,n){var r=t.extend({id:"match-using-dropdown-list",tagName:"span",className:"dropdown pull-left",initialize:function(){this.setup(n,".dropdown-menu")},render:function(){return this.$el.html(e()),this.populate(this.collection),this},addItem:function(e,n,r){if(e.id!=="com.plexapp.agents.none")return t.prototype.addItem.apply(this,arguments)}});return r}),define("plex/view/modals/FixMatchModal",["hb!templates/modals/FixMatchModal.tpl","plex/control/Dispatcher"
,"plex/control/utils/LocalizationUtil","plex/control/utils/LanguageUtil","plex/control/utils/SectionTypes","plex/model/collections/AgentCollection","plex/model/collections/MatchResultCollection","plex/view/BaseView","plex/view/lists/MatchUsingDropdownList","jquery"],function(e,t,n,r,i,s,o,u,a,f){var l=function(e){return _.map(e,function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"}).join("\n")},c=function(e,t){for(var n=0;n<e.options.length;n++)if(t==
e.options[n].value){e.selectedIndex=n;return}},h=function(e){return e?_.map(e.get("language"),function(e){return{label:r.getLanguageName(e),value:e}}):[]},p=u.extend({name:"fixMatchModal",className:"fix-match-modal modal fade",custom:!1,matchUsingList:null,events:{hidden:"onClose","click .match-result":"onMatchResultClick",'change select[name="agent"]':"onAgentChange","submit form":"onSubmitSearch","click .toggle-custom":"onToggleCustomClick","click .toggle-default":"onToggleDefaultClick","click .cancel-btn"
:"onCancel"},initialize:function(e){var n=i.getSectionTypeByString(this.model.section.get("type"));this.results=new o([],{server:this.model.server,media:this.model}),this.agents=new s([],{server:this.model.server,sectionType:n.typeID}),this.loading=!0,this.addBinding(t,"hide:fixMatchModal",this.onCancel),this.addBinding(this.results,"reset",function(e){this.loading=!1,this.render()}),this.results.populate({processData:!0,timeout:1e5,hideLoadingAlert:!0}).fail(_.bind(function(){this.loading=!1,this
.render()},this)),this.agents.populate({hideLoadingAlert:!0}).done(_.bind(function(e){var t=this.$("select[name=agent]");if(t){var n=this.model.section.get("agent");t.empty().append(l(e.map(function(e){return{label:e.get("name"),value:e.get("identifier"),selected:n==e.get("identifier")}}))),this.setLanguages(e.get(n))}},this)),this.matchUsingList=this.registerView(new a({model:this.model,collection:this.agents}))},render:function(){var t=this.model.section.get("agent"),r=this.agents.get(t),i=this
.model.get("guid"),s=this.model.get("type")||"item",o={media:this.model.toJSON(),results:this.results.toJSON(),agents:this.agents.toJSON(),languages:h(r),loading:this.loading,type:n.t(s),path:this.model.getMediaLocation(),unmatched:(!i||/none\:\/\//.test(i))&&!this.custom};return _.each(o.agents,function(e){e.identifier===t&&(e.selected=!0)}),this.$el.html(e(o)).modal(),this.$(".modal-footer").prepend(this.matchUsingList.render().el),this},setLanguages:function(e){var t=this.$('select[name="language"]'
);t.empty(),e&&t.append(l(h(e)))},onClose:function(e){t.trigger("destroy:modal",this)},onMatchResultClick:function(e){e.preventDefault();var t=f(e.target),n={guid:t.data("guid"),name:t.data("name")},r="/library/metadata/"+this.model.id+"/match?"+f.param(n),i=_.extend({type:"PUT"},this.model.server.getAjaxOptions(r));f.ajax(i),this.$el.modal("hide")},onAgentChange:function(e){var t=this.agents.get(e.target.value);this.setLanguages(t)},onSubmitSearch:function(e){e.preventDefault();var t=e.target,n=
{title:t.name.value,year:t.year.value,agent:t.agent.value,language:t.language.value,manual:1};this.$(".unmatched-container").addClass("hide"),this.$(".results-container").removeClass("hide"),this.$(".match-results").addClass("hide"),this.$(".match-results-loading").removeClass("hide"),this.$(".fix-match-search").addClass("hide"),this.$(".fix-match-results").removeClass("hide"),this.$(".toggle-custom").removeClass("hide"),this.$(".toggle-default").addClass("hide"),this.$(".search-btn").addClass("hide"
),this.loading=!0,this.custom=!0,this.results.fetch({data:n,processData:!0,timeout:1e5,hideLoadingAlert:!0}).fail(_.bind(function(){this.loading=!1,this.render()},this))},onToggleCustomClick:function(e){e.preventDefault(),this.$(".fix-match-results").addClass("hide"),this.$(".fix-match-search").removeClass("hide"),this.$(".toggle-custom").addClass("hide"),this.$(".toggle-default").removeClass("hide"),this.$(".search-btn").removeClass("hide")},onToggleDefaultClick:function(e){e.preventDefault(),this
.$(".fix-match-search").addClass("hide"),this.$(".fix-match-results").removeClass("hide"),this.$(".toggle-custom").removeClass("hide"),this.$(".toggle-default").addClass("hide"),this.$(".search-btn").addClass("hide")},onCancel:function(e){e&&e.preventDefault(),this.$el.modal("hide")}});return p}),define("hb!templates/modals/ShareModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s;r+='\n		<ul class="select-networks-list select-list minimal-light-scrollbar">\n			'
,a=n.networks,i=a||e.networks,s=n.each,f=l.programWithDepth(g,t,e),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n		</ul>\n	",r}function g(e,t,r){var i="",s,o,u;i+='\n				<li>\n					<a class="network ',a=n.autoSelect,s=a||r.autoSelect,o=n["if"],f=l.program(3,y,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;i+='" data-id="',a=n.key,s=a||e.key,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"key",{hash:{}})),i+=v(s)+'" href="#">',s="facebook"
,a=n.key,o=a||e.key,a=n.if_eq,u=a||e.if_eq,f=l.program(5,b,t),f.hash={},f.fn=f,f.inverse=l.program(7,w,t),a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+=" ",a=n.title,s=a||e.title,typeof s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"title",{hash:{}})),i+=v(s)+"</a>\n				</li>\n			",i}function y(e,t){return"selected"}function b(e,t){return'<i class="network-icon glyphicon facebook"></i>'}function w(e,t){var r,i,s;return r="twitter",a=n.key,i=a||e.key,a=n.if_eq,s=
a||e.if_eq,f=l.program(8,E,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof s===c?r=s.call(e,i,r,f):r=h.call(e,s,i,r,f),r||r===0?r:""}function E(e,t){return'<i class="network-icon glyphicon twitter"></i>'}function S(e,t){var r="",i,s,o;return r+='\n		<div class="empty-message">',a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.url,s="You need to <a href='{1}users/edit' target='_blank'>link your account</a>.",a=n.t,o=a||e.t,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"t",s,
i,{hash:{}}):i=o,r+=v(i)+"</div>\n	",r}function x(e,t){return"hidden"}function T(e,t){return"disabled"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.blockHelperMissing,p=n.helperMissing,d=void 0,v=this.escapeExpression;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon share"></i> ',o="Share",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=
u,s+=v(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	',a=n.networks,o=a||t.networks,u=n["if"],f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.program(10,S,i),o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n	<div class="input-minimal-container ',a=n.autoSelect,o=a||t.autoSelect,u=n.unless,f=l.program(12,x,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='">\n		<textarea id="share-message" class="input-dark input-minimal" placeholder="',o="Say something about this..."
,a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'"></textarea>\n	</div>\n</div>\n\n<div class="modal-footer pull-center">\n	<span class="characters-remaining"></span>\n	<button class="share-btn btn btn-medium btn-primary ',a=n.autoSelect,o=a||t.autoSelect,u=n.unless,f=l.program(14,T,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='">',o="Share",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t"
,o,{hash:{}}):o=u,s+=v(o)+"</button>\n</div>\n",s})}),define("plex/view/modals/ShareModal",["hb!templates/modals/ShareModal.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView","jquery"],function(e,t,n,r,i){var s=r.extend({className:"modal modal-small select-modal fade",linkedNetworks:null,networkIDs:null,maxLength:0,events:{hidden:"onClose","click .network":"onNetworkClick","keyup #share-message":"onMessageKeyUp","click .share-btn":"onShareClick"},initialize:function(){this.
linkedNetworks=n.get("socialNetworks").where({linked:"1"}),this.networkIDs=[]},render:function(){var t=[],r=this.linkedNetworks.length===1;for(var i=0,s=this.linkedNetworks.length;i<s;i++)t.push(this.linkedNetworks[i].toJSON());return this.$el.html(e({myPlex:n.get("myPlex").toJSON(),networks:t,autoSelect:r})).modal(),r&&(this.networkIDs.push(this.linkedNetworks[0].id),this.calculateMaxLength()),this},calculateMaxLength:function(){var e=null,t=n.get("socialNetworks");_.each(this.networkIDs,function(
n){var r=t.get(n),i=r.get("maxLength");if(e===null||e>i)e=i}),this.maxLength=e,this.calculateCharactersRemaining()},calculateCharactersRemaining:function(){var e=this.$("#share-message").val(),t=this.maxLength-e.length,n=this.$(".characters-remaining");if(this.maxLength===null){n.addClass("hide");return}t<0?(n.addClass("error").removeClass("hide"),this.$(".share-btn").addClass("disabled")):(n.removeClass("error hide"),this.$(".share-btn").removeClass("disabled")),this.$(".characters-remaining").text
(this.maxLength-e.length)},onClose:function(e){t.trigger("destroy:modal",this)},onNetworkClick:function(e){e.preventDefault();var t=i(e.currentTarget),n=t.data("id");t.hasClass("selected")?this.networkIDs.splice(_.indexOf(this.networkIDs,n),1):this.networkIDs.push(n),t.toggleClass("selected"),this.networkIDs.length?(this.$(".share-btn").removeClass("disabled"),this.$(".input-minimal-container").removeClass("hidden")):(this.$(".share-btn").addClass("disabled"),this.$(".input-minimal-container").addClass
("hidden")),this.calculateMaxLength()},onMessageKeyUp:function(e){this.calculateCharactersRemaining()},onShareClick:function(e){e.preventDefault();var n=i(e.currentTarget);if(n.hasClass("disabled"))return;n.addClass("disabled");var r=this.$("#share-message").val(),s=_.bind(function(){this.$el.modal("hide")},this),o=_.bind(function(){n.removeClass("disabled")});t.trigger("command:Share",this.model,this.networkIDs,r,s,o)}});return s}),define("hb!templates/modals/RecommendModal.tpl",["handlebars"],function(
e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+='\n		<ul class="select-friends-list select-list minimal-light-scrollbar">\n			',a=n.friends,i=a||e.friends,s=n.each,f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n		</ul>\n	",r}function m(e,t){var r="",i,s,o;return r+='\n				<li>\n					<a class="friend" data-id="',a=n.recommendationsPlaylistId,i=a||e.recommendationsPlaylistId,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call
(e,"recommendationsPlaylistId",{hash:{}})),r+=d(i)+'" href="#">\n						<img class="friend-poster" data-original="',a=n.thumb,i=a||e.thumb,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"thumb",{hash:{}})),r+=d(i)+'" src="img/posters/friend.png" width="25" height="25">\n						',i=20,a=n.title,s=a||e.title,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"\n					</a>\n				</li>\n			",r}function g(e,t){var r="",i,s;return r+='\n		<div class="empty-message">'
,i="You need <a class='friends-btn' href='#!/friends'>friends</a> to recommend media.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</div>\n	",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3><i class="glyphicon share-alt"></i> ',o="Select Friends",a=
n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	',a=n.friends,o=a||t.friends,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(4,g,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n\n	<div class="input-minimal-container hidden">\n		<textarea id="recommend-message" class="input-dark input-minimal" placeholder="',o="Say something about this...",a=n.t,u=a||t.t,typeof u===
c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'"></textarea>\n	</div>\n</div>\n\n<div class="modal-footer pull-center">\n	<button class="send-btn btn btn-medium btn-primary disabled">',o="Send",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</button>\n</div>\n",s})}),define("plex/view/modals/RecommendModal",["hb!templates/modals/RecommendModal.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView","jquery"
,"lazyload"],function(e,t,n,r,i){var s=r.extend({className:"modal modal-small select-modal fade",playlistIDs:null,events:{hidden:"onClose","click .friend":"onFriendClick","click .friends-btn":"onFriendsClick","click .send-btn":"onSendClick"},initialize:function(){this.playlistIDs=[],this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100)},render:function(){return this.$el.html(e({friends:n.get("friends").toJSON()})).modal(),this.loadPosterThrottle(),this},loadPoster:function(){this
.$(".friend-poster").lazyload({threshold:100})},onClose:function(e){t.trigger("destroy:modal",this)},onFriendClick:function(e){e.preventDefault();var t=i(e.currentTarget),n=t.data("id");t.hasClass("selected")?this.playlistIDs.splice(_.indexOf(this.playlistIDs,n),1):this.playlistIDs.push(n),t.toggleClass("selected"),this.playlistIDs.length?(this.$(".send-btn").removeClass("disabled"),this.$(".input-minimal-container").removeClass("hidden")):(this.$(".send-btn").addClass("disabled"),this.$(".input-minimal-container"
).addClass("hidden"))},onFriendsClick:function(e){this.$el.modal("hide")},onSendClick:function(e){e.preventDefault();var n=i(e.currentTarget);if(n.hasClass("disabled"))return;n.addClass("disabled");var r=this.$("#recommend-message").val(),s=_.bind(function(){this.$el.modal("hide")},this),o=_.bind(function(){n.removeClass("disabled")});t.trigger("command:Recommend",this.model,this.playlistIDs,r,s,o)}});return s}),define("plex/view/details/ActionBarView",["hb!templates/details/ActionBarView.tpl","plex/control/Dispatcher"
,"plex/model/AppModel","plex/view/BaseView","plex/view/modals/MediaInfoModal","plex/view/modals/FixMatchModal","plex/view/modals/ShareModal","plex/view/modals/RecommendModal","jquery"],function(e,t,n,r,i,s,o,u,a){var f={movie:{showEdit:!0,showRefresh:!0,showWatch:!0,showFixMatch:!0,showUnmatch:!0,showSplitApart:!0,showDownload:!0,showDelete:!0,showInfo:!0},show:{showEdit:!0,showRefresh:!0,showWatch:!0,showFixMatch:!0,showUnmatch:!0},season:{showEdit:!0,showWatch:!0},episode:{showEdit:!0,showRefresh
:!0,showWatch:!0,showDownload:!0,showDelete:!0,showInfo:!0},artist:{showEdit:!0,showRefresh:!0,showFixMatch:!0,showUnmatch:!0},album:{showEdit:!0,showRefresh:!0,showFixMatch:!0,showUnmatch:!0},track:{showEdit:!0,showDownload:!0,showDelete:!0},photo:{showEdit:!0,showDelete:!0},channelVideo:{showShare:!0,showInfo:!0},playlistItem:{showPlaylistDelete:!0}},l=r.extend({className:"actionbar",events:{"click .edit-icon-btn":"onEditClick","click .refresh-icon-btn":"onRefreshClick","click .watch-icon-btn":"onWatchClick"
,"click .unwatch-icon-btn":"onUnwatchClick","click .fix-match-icon-btn":"onFixMatchClick","click .unmatch-icon-btn":"onUnmatchClick","click .split-apart-icon-btn":"onSplitApartClick","click .delete-icon-btn":"onDeleteClick","click .delete-playlist-icon-btn":"onDeletePlaylistClick","click .share-icon-btn":"onShareClick","click .recommend-icon-btn":"onRecommendClick","click .info-icon-btn":"onInfoClick"},initialize:function(e){var t=_.clone(f[this.model.get("type")]);this.visibilityOptions=_.extend
(t,e);if(this.visibilityOptions.showWatch||this.visibilityOptions.showUnwatch)this.addBinding(this.model,"change:unviewedLeafCount",this.render),this.addBinding(this.model,"change:viewedLeafCount",this.render),this.addBinding(this.model,"change:viewCount",this.render),this.addBinding(this.model,"change:viewOffset",this.render);this.visibilityOptions.showUnmatch&&this.addBinding(this.model,"change:guid",this.render),this.visibilityOptions.showSplitApart&&this.addBinding(this.model,"change:Media",this
.render)},render:function(){var t=_.extend({},this.visibilityOptions);t.shared=this.model.server.get("shared"),t.downloadUrl=this.model.getDownloadUrl();var n=this.model.getMediaLocation();if(n){var r=/[^\/\\]+$/;t.downloadName=_.first(r.exec(n))}if(t.showWatch||t.showUnwatch){var i=this.model.get("type");if(i==="show"||i==="season")t.showWatch=this.model.get("unviewedLeafCount")>0,t.showUnwatch=this.model.get("viewedLeafCount")>0;else{var s=!!this.model.get("viewCount"),o=!!this.model.get("viewOffset"
);t.showWatch=!s||o,t.showUnwatch=s||o}}if(t.showSplitApart){var u=this.model.get("Media");t.showSplitApart=_.isArray(u)&&u.length&&this.model.server.supports("splitApart")}if(t.showUnmatch){var f=this.model.get("guid");if(!f||/(local|none)\:\/\//.test(f))t.showUnmatch=!1}return t.showDelete&&(t.showDelete=this.model.server.get("allowMediaDeletion")),this.$el.html(e(t)),a(".tooltip").remove(),this.$el.tooltip({selector:".actionbar-icon-btn, .actionbar-glyphicon-btn",placement:"right"}),this},onEditClick
:function(e){e.preventDefault(),t.trigger("navigate:edit",this.model.server.id,this.model.section.id,this.model.id)},onRefreshClick:function(e){e.preventDefault(),t.trigger("command:RefreshMetadata",this.model)},onWatchClick:function(e){e.preventDefault(),t.trigger("command:MarkWatched",this.model)},onUnwatchClick:function(e){e.preventDefault(),t.trigger("command:MarkUnwatched",this.model)},onFixMatchClick:function(e){e.preventDefault();var t=new s({model:this.model});n.set("modal",t)},onUnmatchClick
:function(e){e.preventDefault(),t.trigger("command:Unmatch",this.model)},onSplitApartClick:function(e){e.preventDefault(),t.trigger("command:SplitApart",this.model)},onDeleteClick:function(e){e.preventDefault(),t.trigger("command:DeleteMedia",this.model)},onDeletePlaylistClick:function(e){e.preventDefault(),this.model.destroy()},onShareClick:function(e){e.preventDefault(),n.set("modal",new o({model:this.model}))},onRecommendClick:function(e){e.preventDefault(),n.set("modal",new u({model:this.model
}))},onInfoClick:function(e){e.preventDefault(),n.set("modal",new i({model:this.model}))}});return l}),define("hb!templates/details/PlaySplitButton.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+='\n	<div class="btn-group">\n		',a=n.channel,i=a||e.channel,s=n["if"],f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.program(7,b,t),i=s.call(e,i,f);if(i||i===0)r+=i;r+='\n			<i class="glyphicon play"></i> ',i="Play",a=n.t,s=a||e.t,typeof s===c?i=s.call
(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'\n		</a>\n		<button class="btn btn-primary dropdown-toggle" data-toggle="dropdown">\n			<i class="caret"></i>\n		</button>\n		<ul class="dropdown-menu dropdown-menu-large pull-right">\n			',a=n.channel,i=a||e.channel,s=n["if"],f=l.program(9,w,t),f.hash={},f.fn=f,f.inverse=l.program(14,x,t),i=s.call(e,i,f);if(i||i===0)r+=i;r+="\n\n			",a=n.clients,i=a||e.clients,s=n.each,f=l.program(16,T,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,
i,f);if(i||i===0)r+=i;return r+="\n		</ul>\n	</div>\n",r}function m(e,t){var r="",i,s;r+='\n			<a class="play-btn btn btn-primary" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/channels/player?",a=n.channelKey,i=a||e.channelKey,s=n["if"],f=l.program(3,g,t),f.hash={},f.fn=f,f.inverse=l.program(5,y,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="&path=",a=n.video,i=a||e.video,i=i===null||i===undefined||i===!1?i:
i.key,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i)+'">\n		',r}function g(e,t){var r="",i,s;return r+="key=",a=n.channelKey,i=a||e.channelKey,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i),r}function y(e,t){var r="",i;return r+="identifier=",a=n.channelID,i=a||e.channelID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"channelID",{hash:{}}))
,r+=d(i),r}function b(e,t){var r="",i;return r+='\n			<a class="play-btn btn btn-primary" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/sections/",a=n.sectionID,i=a||e.sectionID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"sectionID",{hash:{}})),r+=d(i)+"/player/",a=n.video,i=a||e.video,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"video.ratingKey"
,{hash:{}})),r+=d(i)+'">\n		',r}function w(e,t){var r="",i,s;r+='\n				<li><a class="play-btn" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/channels/player?",a=n.channelKey,i=a||e.channelKey,s=n["if"],f=l.program(10,E,t),f.hash={},f.fn=f,f.inverse=l.program(12,S,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="&path=",a=n.video,i=a||e.video,i=i===null||i===undefined||i===!1?i:i.key,a=n.encodeURL,s=a||e.encodeURL
,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i)+'">',i="Play here",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a></li>\n			",r}function E(e,t){var r="",i,s;return r+="key=",a=n.channelKey,i=a||e.channelKey,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i),r}function S(e,t){var r="",i;return r+="identifier=",a=n.channelID,i=a||
e.channelID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"channelID",{hash:{}})),r+=d(i),r}function x(e,t){var r="",i,s;return r+='\n				<li><a class="play-btn" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/sections/",a=n.sectionID,i=a||e.sectionID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"sectionID",{hash:{}})),r+=d(i)+"/player/",a=n.video,i=a||e.video,i=i===null||i===undefined||i===!1?
i:i.ratingKey,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"video.ratingKey",{hash:{}})),r+=d(i)+'">',i="Play here",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a></li>\n			",r}function T(e,t){var r="",i,s,o;return r+='\n				<li><a class="client-btn" data-id="',a=n.machineIdentifier,i=a||e.machineIdentifier,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"machineIdentifier",{hash:{}})),r+=d(i)+'" href="#">',i="Play on",a=n.t,s=
a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+" ",i=15,a=n.name,s=a||e.name,a=n.truncate,o=a||e.truncate,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"truncate",s,i,{hash:{}}):i=o,r+=d(i)+"</a></li>\n			",r}function N(e,t){var r="",i,s;r+="\n	",a=n.channel,i=a||e.channel,s=n["if"],f=l.program(19,C,t),f.hash={},f.fn=f,f.inverse=l.program(24,A,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+='\n		<i class="glyphicon play"></i> ',i="Play",a=n.t,s=a||
e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n	</a>\n",r}function C(e,t){var r="",i,s;r+='\n		<a class="play-btn btn btn-primary" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/channels/player?",a=n.channelKey,i=a||e.channelKey,s=n["if"],f=l.program(20,k,t),f.hash={},f.fn=f,f.inverse=l.program(22,L,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="&path=",a=n.video,i=a||
e.video,i=i===null||i===undefined||i===!1?i:i.key,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i)+'">\n	',r}function k(e,t){var r="",i,s;return r+="key=",a=n.channelKey,i=a||e.channelKey,a=n.encodeURL,s=a||e.encodeURL,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"encodeURL",i,{hash:{}}):i=s,r+=d(i),r}function L(e,t){var r="",i;return r+="identifier=",a=n.channelID,i=a||e.channelID,typeof i===c?i=i.call(e,{hash:{}})
:i===p&&(i=h.call(e,"channelID",{hash:{}})),r+=d(i),r}function A(e,t){var r="",i;return r+='\n		<a class="play-btn btn btn-primary" href="#!/servers/',a=n.serverID,i=a||e.serverID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"serverID",{hash:{}})),r+=d(i)+"/sections/",a=n.sectionID,i=a||e.sectionID,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"sectionID",{hash:{}})),r+=d(i)+"/player/",a=n.video,i=a||e.video,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===c?i=i.call(e,
{hash:{}}):i===p&&(i=h.call(e,"video.ratingKey",{hash:{}})),r+=d(i)+'">\n	',r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.showDropdown,o=a||t.showDropdown,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(18,N,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("hb!templates/modals/SelectOffsetModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l=this,
c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3>',o="Resume",f=n.t,u=f||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	<ul class="select-list">\n		<li><a class="offset" data-offset="',f=n.offset,o=f||t.offset,typeof o===c?o=o.call
(t,{hash:{}}):o===p&&(o=h.call(t,"offset",{hash:{}})),s+=d(o)+'" href="#">',f=n.formattedOffset,o=f||t.formattedOffset,u="Resume from {1}",f=n.t,a=f||t.t,typeof a===c?o=a.call(t,u,o,{hash:{}}):a===p?o=h.call(t,"t",u,o,{hash:{}}):o=a,s+=d(o)+'</a></li>\n		<li><a class="offset" data-offset="0" href="#">',o="Start from beginning",f=n.t,u=f||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"</a></li>\n	</ul>\n</div>\n",s})}),define("plex/view/modals/SelectOffsetModal"
,["hb!templates/modals/SelectOffsetModal.tpl","plex/control/Dispatcher","plex/view/BaseView","jquery"],function(e,t,n,r){var i=n.extend({name:"selectOffsetModal",className:"modal modal-small select-modal fade",offset:0,events:{hidden:"onClose","click .offset":"onOffsetClick"},initialize:function(e){this.offset=e.offset},render:function(){return this.$el.html(e({offset:this.offset,formattedOffset:Handlebars.helpers.formatDuration.call(this,this.offset)})).modal(),this},onClose:function(e){this.trigger
("select:offset",0),t.trigger("destroy:modal",this)},onOffsetClick:function(e){e.preventDefault(),this.trigger("select:offset",parseInt(r(e.target).data("offset"),10)),this.$el.modal("hide")}});return i}),define("plex/view/details/PlaySplitButton",["hb!templates/details/PlaySplitButton.tpl","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView","plex/view/modals/SelectOffsetModal","jquery"],function(e,t,n,r,i,s){var o=r.extend({className:"play-btn-container",channel:!1,events
:{"click .play-btn":"onPlayClick","click .client-btn":"onClientClick"},initialize:function(e){this.channel=e.channel,this.collection=n.get("clients"),this.collection.fetch({hideLoadingAlert:!0}).done(_.bind(this.render,this))},render:function(){var t=this.collection.length&&!this.model.server.get("shared"),n={serverID:this.model.server.id,video:this.model.toJSON(),channel:this.channel,showDropdown:t,clients:this.collection.toJSON()};return this.channel?(n.channelKey=this.model.channel.id,n.channelID=
this.model.channel.get("identifier")):n.sectionID=this.model.section.id,this.$el.html(e(n)),this},checkMediaParts:function(){var e=this.model.getMissingParts();if(!e.length)return!0;var r=e[0],i=t.t("Please check that the file exists and the necessary drive is mounted.");return r.exists==1&&(i=t.t("Please check the permissions for this file.")),n.set("alert",{status:"error",message:i}),!1},selectOffset:function(e){var t=this.model.get("viewOffset")||0;if(t){var r=new i({offset:t}),s=_.bind(function(
t){r.off("select:offset",s),this.playRemote(e,t)},this);r.on("select:offset",s),n.set("modal",r)}else this.playRemote(e,t)},playRemote:function(e,r){var i=this.model.server.get("accessToken"),o={key:this.model.get("key"),path:this.model.server.resolveExternalUrl(this.model.get("key")),viewOffset:r};i&&(o["X-Plex-Token"]=i);var u="/system/players/"+e.get("host")+"/application/playMedia?"+s.param(o);s.ajax(this.model.server.getAjaxOptions(u)).fail(_.bind(function(){n.set("alert",{status:"error",message
:t.t("There was a problem trying to play {1} on {2}.",this.model.get("title"),e.get("name"))})},this))},onPlayClick:function(e){this.checkMediaParts()||e.preventDefault()},onClientClick:function(e){e.preventDefault();if(!this.checkMediaParts())return;var t=s(e.target).data("id"),n=this.collection.get(t);this.selectOffset(n)}});return o}),define("hb!templates/details/StreamDropdown.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s,o;r+='\n	<a class="stream-name dropdown-toggle" href="#'
,a=n.type,i=a||e.type,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"type",{hash:{}})),r+=d(i)+'-dropdown-list" data-toggle="dropdown">',a=n.selectedStream,i=a||e.selectedStream,i=i===null||i===undefined||i===!1?i:i.language,s=n["if"],f=l.program(2,g,t),f.hash={},f.fn=f,f.inverse=l.program(4,y,t),i=s.call(e,i,f);if(i||i===0)r+=i;i="audio",a=n.type,s=a||e.type,a=n.if_eq,o=a||e.if_eq,f=l.program(6,b,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(
i||i===0)r+=i;r+=' <i class="glyphicon-caret orange"></i></a>\n\n	<ul class="dropdown-menu dropdown-menu-large">\n		',a=n.streams,i=a||e.streams,s=n.each,f=l.programWithDepth(E,t,e),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	</ul>\n",r}function g(e,t){var r;return a=n.selectedStream,r=a||e.selectedStream,r=r===null||r===undefined||r===!1?r:r.language,typeof r===c?r=r.call(e,{hash:{}}):r===p&&(r=h.call(e,"selectedStream.language",{hash:{}})),d(r)}function y(e,
t){var r,i;return r="Unknown",a=n.t,i=a||e.t,typeof i===c?r=i.call(e,r,{hash:{}}):i===p?r=h.call(e,"t",r,{hash:{}}):r=i,d(r)}function b(e,t){var r,i;return a=n.selectedStream,r=a||e.selectedStream,r=r===null||r===undefined||r===!1?r:r.codec,i=n["if"],f=l.program(7,w,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function w(e,t){var r="",i,s;return r+=" (",a=n.selectedStream,i=a||e.selectedStream,i=i===null||i===undefined||i===!1?i:i.codec,a=n.formatAudioCodec,s=a||e.formatAudioCodec
,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatAudioCodec",i,{hash:{}}):i=s,r+=d(i)+" ",a=n.selectedStream,i=a||e.selectedStream,i=i===null||i===undefined||i===!1?i:i.channels,a=n.formatAudioChannels,s=a||e.formatAudioChannels,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatAudioChannels",i,{hash:{}}):i=s,r+=d(i)+")",r}function E(e,t,r){var i="",s,o,u;i+='\n			<li><a data-id="',a=n.id,s=a||e.id,typeof s===c?s=s.call(e,{hash:{}}):s===p&&(s=h.call(e,"id",{hash:{}})),i+=d
(s)+'" href="#">',a=n.language,s=a||e.language,o=n["if"],f=l.program(10,S,t),f.hash={},f.fn=f,f.inverse=l.program(12,x,t),s=o.call(e,s,f);if(s||s===0)i+=s;s="audio",a=n.type,o=a||r.type,a=n.if_eq,u=a||e.if_eq,f=l.program(14,T,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=v.call(e,u,o,s,f);if(s||s===0)i+=s;i+=" ",a=n.selected,s=a||e.selected,o=n["if"],f=l.program(17,C,t),f.hash={},f.fn=f,f.inverse=l.noop,s=o.call(e,s,f);if(s||s===0)i+=s;return i+="</a></li>\n		",i}function S
(e,t){var r;return a=n.language,r=a||e.language,typeof r===c?r=r.call(e,{hash:{}}):r===p&&(r=h.call(e,"language",{hash:{}})),d(r)}function x(e,t){var r,i;return r="Unknown",a=n.t,i=a||e.t,typeof i===c?r=i.call(e,r,{hash:{}}):i===p?r=h.call(e,"t",r,{hash:{}}):r=i,d(r)}function T(e,t){var r,i;return a=n.codec,r=a||e.codec,i=n["if"],f=l.program(15,N,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function N(e,t){var r="",i,s;return r+=" (",a=n.codec,i=a||e.codec,a=n.formatAudioCodec
,s=a||e.formatAudioCodec,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatAudioCodec",i,{hash:{}}):i=s,r+=d(i)+" ",a=n.channels,i=a||e.channels,a=n.formatAudioChannels,s=a||e.formatAudioChannels,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatAudioChannels",i,{hash:{}}):i=s,r+=d(i)+")",r}function C(e,t){return'<i class="glyphicon ok-2"></i>'}function k(e,t){var r="",i,s,o;a=n.selectedStream,i=a||e.selectedStream,i=i===null||i===undefined||i===!1?i:i.language,s=n["if"],f=l
.program(20,L,t),f.hash={},f.fn=f,f.inverse=l.program(22,A,t),i=s.call(e,i,f);if(i||i===0)r+=i;i="audio",a=n.type,s=a||e.type,a=n.if_eq,o=a||e.if_eq,f=l.program(24,O,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof o===c?i=o.call(e,s,i,f):i=v.call(e,o,s,i,f);if(i||i===0)r+=i;return r}function L(e,t){var r;return a=n.selectedStream,r=a||e.selectedStream,r=r===null||r===undefined||r===!1?r:r.language,typeof r===c?r=r.call(e,{hash:{}}):r===p&&(r=h.call(e,"selectedStream.language",{hash:{}})),d(r)}function A
(e,t){var r,i;return r="Unknown",a=n.t,i=a||e.t,typeof i===c?r=i.call(e,r,{hash:{}}):i===p?r=h.call(e,"t",r,{hash:{}}):r=i,d(r)}function O(e,t){var r,i;return a=n.selectedStream,r=a||e.selectedStream,r=r===null||r===undefined||r===!1?r:r.codec,i=n["if"],f=l.program(25,M,t),f.hash={},f.fn=f,f.inverse=l.noop,r=i.call(e,r,f),r||r===0?r:""}function M(e,t){var r="",i,s;return r+=" (",a=n.selectedStream,i=a||e.selectedStream,i=i===null||i===undefined||i===!1?i:i.codec,a=n.formatAudioCodec,s=a||e.formatAudioCodec
,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatAudioCodec",i,{hash:{}}):i=s,r+=d(i)+" ",a=n.selectedStream,i=a||e.selectedStream,i=i===null||i===undefined||i===!1?i:i.channels,a=n.formatAudioChannels,s=a||e.formatAudioChannels,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatAudioChannels",i,{hash:{}}):i=s,r+=d(i)+")",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression,v=n.blockHelperMissing;a=n.showDropdown,o=a||t.showDropdown
,u=n["if"],f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.program(19,k,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/details/StreamDropdown",["hb!templates/details/StreamDropdown.tpl","plex/control/Dispatcher","plex/view/BaseView","jquery"],function(e,t,n,r){var i=n.extend({tagName:"span",className:"dropdown",type:null,streams:null,events:{"click a":"onStreamClick"},initialize:function(e){this.type=e.type,this.addBinding(this.model,"change:streams",this.render)},render
:function(){var t;this.type==="audio"?this.streams=this.model.getStreams("2"):(this.streams=this.model.getStreams("3"),this.streams.unshift({id:"",language:"None"})),_.each(this.streams,function(e){e.selected==="1"&&(t=e)});if(!t){var n=_.where(this.streams,{id:""});n.length&&(n=n[0],n.selected=!0,t=n)}return this.$el.html(e({type:this.type,streams:this.streams,selectedStream:t,showDropdown:this.streams.length>1&&!this.model.server.get("shared")})),this.$el.attr("id",this.type+"-dropdown-list"),this
},onStreamClick:function(e){e.preventDefault();var n=r(e.target).data("id");typeof n!="undefined"&&t.trigger("command:SelectStream",this.type,this.model,n)}});return i}),define("plex/view/details/MovieDetailsView",["hb!templates/details/MovieDetailsView.tpl","plex/model/AppModel","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/details/PlaySplitButton","plex/view/details/StreamDropdown","plex/view/modals/MediaInfoModal"],function(e,t,n,r,i,s,o){var u=n.extend({className:"details movie-details"
,actionBar:null,playButton:null,audioDropdown:null,subtitlesDropdown:null,events:{"click .unavailable-btn":"onUnavailableClick"},initialize:function(){this.actionBar=this.registerView(new r({model:this.model})),this.playButton=this.registerView(new i({model:this.model})),this.audioDropdown=this.registerView(new s({type:"audio",model:this.model})),this.subtitlesDropdown=this.registerView(new s({type:"subtitles",model:this.model}))},render:function(){var t=this.model.getStreams("2"),n=this.model.getStreams
("3");return this.$el.html(e()),this.$el.prepend(this.actionBar.render().el),this.$(".poster-container").after(this.playButton.render().el),t.length&&this.$(".movie-audio").removeClass("hide").append(this.audioDropdown.render().el),n.length&&this.$(".movie-subtitles").removeClass("hide").append(this.subtitlesDropdown.render().el),this.bindView(),this.$el.tooltip({selector:".details-icon-btn",placement:"bottom"}),this},bindings:{".movie-title":{modelAttr:"title"},".movie-poster":{modelAttr:"thumb"
,format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster.png");if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,r=280*n,i=420*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".media-count":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){var n=0,r=this.model.get("Media");return _.isArray(r)&&(n=r.length),n}},".movie-unavailable":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){var n=
this.model.getMissingParts();n.length?e.removeClass("hide"):e.addClass("hide")}},".movie-year":{modelAttr:"year",hideEmpty:!0},".movie-content-rating":{modelAttr:"contentRating",hideEmpty:!0,format:function(e,t){if(!t){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"contentRating",flag:t,width:50,height:20};e.removeClass("hide"),e.find("img").prop("src",Handlebars.helpers.transcodeMediaFlag.call(this
,{hash:n}))}},".movie-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?'<span class="rating">'+Handlebars.helpers.starRating.call(this,t)+"</span>":""}},".movie-genre":{modelAttr:"Genre",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:100,maxTags:2}});return'<span class="metadata-label">'+n+"</span>"}},".movie-duration":{modelAttr:"duration",hideEmpty:!0,format:function(e,t){return Handlebars.helpers
.formatMinutes.call(this,t)}},".unwatched-icon":{modelAttr:"viewCount",format:function(e,t){var n=this.model.get("viewOffset");if(this.model.server.get("shared")){e.addClass("hide");return}t||n?e.addClass("hide"):(e.removeClass("hide"),this.$(".unwatched-partial-icon").addClass("hide"))}},".unwatched-partial-icon":{modelAttr:"viewOffset",format:function(e,t){if(this.model.server.get("shared")){e.addClass("hide");return}t?(e.removeClass("hide"),this.$(".unwatched-full-icon").addClass("hide")):e.addClass
("hide")}},".movie-tagline":{modelAttr:"tagline",hideEmpty:!0},".movie-director":{modelAttr:"Director",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Director</span>'+n}},".movie-writer":{modelAttr:"Writer",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Writer</span>'+
n}},".movie-cast":{modelAttr:"Role",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Cast</span>'+n}},".movie-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,700)}},".movie-video-resolution":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){_.isArray(t)&&t.length&&(t=t[0]);if(!t||!t.videoResolution){e.addClass
("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"videoResolution",flag:t.videoResolution,width:100,height:20};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".movie-audio-codec":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){_.isArray(t)&&t.length&&(t=t[0]);if(!t||!t.audioCodec){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get
("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"audioCodec",flag:t.audioCodec,width:100,height:20};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".movie-audio-channels":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){_.isArray(t)&&t.length&&(t=t[0]);if(!t||!t.audioChannels){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"audioChannels"
,flag:t.audioChannels,width:100,height:20};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".movie-studio":{modelAttr:"studio",hideEmpty:!0,format:function(e,t){if(!t){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"studio",flag:t,width:200,height:40};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}}},onUnavailableClick
:function(e){e.preventDefault(),t.set("modal",new o({model:this.model}))}});return u}),define("hb!templates/details/ShowDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<div class="poster-container">\n			<img class="show-poster poster large-poster">\n\n			<span class="show-unwatched-count unwatched-count"></span>\n		</div>\n	</div>\n\n	<div class="details-metadata">\n		<div class="metadata-right">\n			<h1 class="show-year"></h1>\n\n			<div class="show-content-rating metadata"><img class="media-flag"></div>\n\n			<div class="show-rating metadata"></div>\n		</div>\n\n		<h1 class="show-title"></h1>\n\n		<div class="show-genre metadata metadata-top"></div>\n\n		<div class="show-duration metadata"></div>\n\n		<div class="show-summary summary"></div>\n\n		<div class="media-flags">\n			<img class="show-studio studio">\n		</div>\n	</div>\n</div>\n\n<div id="seasons-banner" class="banner">\n	<span class="banner-title">'
,o="Seasons",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span> <span class="banner-count"></span>\n</div>\n',s})}),define("hb!templates/lists/media/items/SeasonTileListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a href="#!/servers/',u=n.serverID,o=u||t.serverID,typeof o===f?o=o.call(t,{hash:{}}):o===c&&
(o=l.call(t,"serverID",{hash:{}})),s+=h(o)+"/sections/",u=n.sectionID,o=u||t.sectionID,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"sectionID",{hash:{}})),s+=h(o)+"/details/",u=n.season,o=u||t.season,o=o===null||o===undefined||o===!1?o:o.ratingKey,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"season.ratingKey",{hash:{}})),s+=h(o)+'">\n	<div class="poster-container">\n		<img class="season-poster poster">\n\n		<span class="unwatched-count"></span>\n\n		<div class="card-overlay">\n			<span class="card-episode-index"></span>\n		</div>\n	</div>\n</a>\n'
,s})}),define("plex/view/lists/media/items/SeasonTileListItem",["hb!templates/lists/media/items/SeasonTileListItem.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({tagName:"li",className:"season",render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),serverObj:this.model.server,sectionID:this.model.section.id,season:this.model.toJSON()})),this.bindView(),this},bindings:{".season-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src"
)||e.attr("src","img/posters/poster.png");var n=t||this.model.get("parentThumb"),r=window.devicePixelRatio?window.devicePixelRatio:1,i=133*r,s=200*r;if(!n)return;var o=Handlebars.helpers.transcodeImage.call(this,this.model.server,n,i,s);e.data("original",o),this.trigger("change:poster")}},".unwatched-count":{modelAttr:"unviewedLeafCount",hideEmpty:!0,format:function(e,t){return!t||this.model.server.get("shared")?0:t}},".card-episode-index":{modelAttr:"index",hideEmpty:!0,format:function(e,t){if(t==="0"
)return this.model.get("title");var n=Handlebars.helpers.leadingZero.call(this,t);return"S"+n}}}});return n}),define("plex/view/lists/media/SeasonTileList",["plex/view/lists/BaseList","plex/view/lists/media/items/SeasonTileListItem","lazyload"],function(e,t){var n=e.extend({tagName:"ul",className:"tile-list poster-tile-list season-tile-list",loadPosterThrottle:null,initialize:function(){this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100),this.collection.fetch()},
render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){if(typeof t.get("index")!="undefined"){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"change:poster",this.loadPosterThrottle),this.loadPosterThrottle()}},loadPoster:function(){this.$(".poster").lazyload({threshold:100})}});return n}),define("plex/view/details/ShowDetailsView",["hb!templates/details/ShowDetailsView.tpl","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/lists/media/SeasonTileList"
],function(e,t,n,r){var i=t.extend({className:"details",seasonList:null,initialize:function(){var e=this.model.get("seasons");this.addBinding(e,"reset",this.onSeasonsReset),this.seasonList=this.registerView(new r({collection:e})),this.actionBar=this.registerView(new n({model:this.model}))},render:function(){return this.$el.html(e()),this.$el.prepend(this.actionBar.render().el),this.$("#seasons-banner").after(this.seasonList.render().el),this.bindView(),this},bindings:{".show-title":{modelAttr:"title"
},".show-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster.png");if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,r=200*n,i=300*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".show-unwatched-count":{modelAttr:"unviewedLeafCount",hideEmpty:!0,format:function(e,t){return!t||this.model.server.get("shared")?0:t}},".show-year":{modelAttr:"year",hideEmpty:!0}
,".show-content-rating":{modelAttr:"contentRating",hideEmpty:!0,format:function(e,t){if(!t){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"contentRating",flag:t,width:24,height:60};e.removeClass("hide"),e.find("img").prop("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".show-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?'<span class="rating">'+Handlebars.
helpers.starRating.call(this,t)+"</span>":""}},".show-genre":{modelAttr:"Genre",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Genre</span>'+n}},".show-duration":{modelAttr:"duration",hideEmpty:!0,format:function(e,t){return'<span class="metadata-label">Episode Duration</span>'+Handlebars.helpers.formatMinutes.call(this,t)}},".show-summary":{modelAttr:"summary",hideEmpty
:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,700)}},".show-studio":{modelAttr:"studio",hideEmpty:!0,format:function(e,t){if(!t){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"studio",flag:t,width:200,height:40};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}}},onSeasonsReset:function(){var e=this.model.get("seasons").length;e=
e===1?1:e-1,this.$("#seasons-banner .banner-count").html(e)}});return i}),define("hb!templates/details/SeasonDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<div class="poster-container">\n			<img class="season-poster poster large-poster">\n\n			<span class="season-unwatched-count unwatched-count"></span>\n		</div>\n	</div>\n\n	<div class="details-metadata">\n		<h1>\n			<a class="show-title" href="#!/servers/'
,a=n.serverID,o=a||t.serverID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"serverID",{hash:{}})),s+=p(o)+"/sections/",a=n.sectionID,o=a||t.sectionID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"sectionID",{hash:{}})),s+=p(o)+"/details/",a=n.season,o=a||t.season,o=o===null||o===undefined||o===!1?o:o.parentRatingKey,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"season.parentRatingKey",{hash:{}})),s+=p(o)+'"></a>\n		</h1>\n\n		<h2 class="season-title"></h2>\n\n		<div class="season-summary summary"></div>\n	</div>\n</div>\n\n<div id="episodes-banner" class="banner">\n	<span class="banner-title">'
,o="Episodes",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span> <span class="banner-count"></span>\n</div>\n',s})}),define("hb!templates/lists/media/items/EpisodeListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a href="#!/servers/',u=n.serverID,o=u||t.serverID,typeof o===f?o=o.call(t,{hash:{}}):o===c&&
(o=l.call(t,"serverID",{hash:{}})),s+=h(o)+"/sections/",u=n.sectionID,o=u||t.sectionID,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"sectionID",{hash:{}})),s+=h(o)+"/details/",u=n.episode,o=u||t.episode,o=o===null||o===undefined||o===!1?o:o.ratingKey,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"episode.ratingKey",{hash:{}})),s+=h(o)+'">\n	<div class="poster-container">\n		<img class="episode-poster poster">\n\n		<div class="card-overlay">\n			<span class="card-episode-index"></span>\n\n			<div class="unwatched-icon unwatched-partial-icon"></div>\n			<div class="unwatched-icon unwatched-full-icon"></div>\n		</div>\n	</div>\n\n	<div class="poster-details">\n		<div class="metadata-right">\n			<div class="episode-rating metadata"></div>\n		</div>\n\n		<h3 class="episode-title"></h3>\n\n		<div class="episode-available-at"></div>\n\n		<div class="episode-summary summary"></div>\n	</div>\n</a>\n'
,s})}),define("plex/view/lists/media/items/EpisodeListItem",["hb!templates/lists/media/items/EpisodeListItem.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({tagName:"li",className:"episode well",render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),serverObj:this.model.server,sectionID:this.model.section.id,episode:this.model.toJSON()})),this.bindView(),this},bindings:{".episode-title":{modelAttr:"title",format:function(e,t){return Handlebars
.helpers.truncate.call(this,t,40)}},".episode-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_wide.png");var n=t||this.model.get("grandparentThumb"),r=window.devicePixelRatio?window.devicePixelRatio:1,i=200*r,s=200*r;if(!n)return;var o=Handlebars.helpers.transcodeImage.call(this,this.model.server,n,i,s);e.data("original",o),this.trigger("change:poster")}},".card-episode-index":{modelAttr:"index",hideEmpty:!0,format:function(e,t){if(t>0){var n=Handlebars
.helpers.leadingZero.call(this,t);return"E"+n}var r=this.model.get("originallyAvailableAt");return Handlebars.helpers.formatDateCustom.call(this,r,"D/M/YY")}},".unwatched-icon":{modelAttr:"viewCount",format:function(e,t){var n=this.model.get("type"),r=this.model.get("viewOffset");if(this.model.server.get("shared")){e.addClass("hide");return}if(n!=="episode")return;t||r?e.addClass("hide"):(e.removeClass("hide"),this.$(".unwatched-partial-icon").addClass("hide"))}},".unwatched-partial-icon":{modelAttr
:"viewOffset",format:function(e,t){var n=this.model.get("type");if(this.model.server.get("shared")){e.addClass("hide");return}if(n!=="episode")return;t?(e.removeClass("hide"),this.$(".unwatched-full-icon").addClass("hide")):e.addClass("hide")}},".episode-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?'<span class="rating">'+Handlebars.helpers.starRating.call(this,t)+"</span>":""}},".episode-available-at":{modelAttr:"originallyAvailableAt",hideEmpty:!0,format:function(e,t){
return t?Handlebars.helpers.formatDate.call(this,t):""}},".episode-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,180)}}}});return n}),define("plex/view/lists/media/EpisodeList",["plex/view/lists/BaseList","plex/view/lists/media/items/EpisodeListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"poster-list episode-list",initialize:function(){this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100
),this.collection.fetch()},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"change:poster",this.loadPosterThrottle),this.loadPosterThrottle()},loadPoster:function(){this.$(".poster").lazyload({threshold:100})}});return n}),define("plex/view/details/SeasonDetailsView",["hb!templates/details/SeasonDetailsView.tpl","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/lists/media/EpisodeList"
],function(e,t,n,r){var i=t.extend({className:"details",episodeList:null,initialize:function(){var e=this.model.get("episodes");this.addBinding(e,"reset",this.onEpisodesReset),this.episodeList=this.registerView(new r({collection:e})),this.actionBar=this.registerView(new n({model:this.model}))},render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),sectionID:this.model.section.id,season:this.model.toJSON()})),this.$el.prepend(this.actionBar.render
().el),this.$el.append(this.episodeList.render().el),this.bindView(),this},bindings:{".show-title":{modelAttr:"parentTitle"},".season-title":{modelAttr:"title"},".season-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster.png");if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,r=133*n,i=200*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".season-unwatched-count"
:{modelAttr:"unviewedLeafCount",hideEmpty:!0,format:function(e,t){return!t||this.model.server.get("shared")?0:t}},".season-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,700)}}},onEpisodesReset:function(){var e=this.model.get("episodes").length;this.$("#episodes-banner .banner-count").html(e)}});return i}),define("hb!templates/details/EpisodeDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers
;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="details-row row-fluid episode">\n	<div class="details-controls">\n		<div class="poster-container">\n			<img class="episode-poster poster large-poster">\n\n			<span class="media-count"></span>\n		</div>\n\n		<div class="media-flags">\n			<img class="episode-studio studio">\n\n			<img class="episode-video-resolution media-flag">\n			<img class="episode-audio-codec media-flag">\n			<img class="episode-audio-channels media-flag">\n		</div>\n	</div>\n\n	<div class="episode-metadata details-metadata">\n		<div class="metadata-right">\n			<div class="episode-content-rating metadata"><img class="media-flag"></div>\n			<h2 class="episode-duration"></h2>\n			<div class="episode-available metadata"></div>\n			<div class="episode-rating metadata"></div>\n		</div>\n\n		<h1>\n			<a class="show-title" href="#!/servers/'
,a=n.serverID,o=a||t.serverID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"serverID",{hash:{}})),s+=p(o)+"/sections/",a=n.sectionID,o=a||t.sectionID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"sectionID",{hash:{}})),s+=p(o)+"/details/",a=n.episode,o=a||t.episode,o=o===null||o===undefined||o===!1?o:o.grandparentRatingKey,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"episode.grandparentRatingKey",{hash:{}})),s+=p(o)+'"></a>\n		</h1>\n\n		<h2>\n			<span class="episode-title"></span><a class="episode-unavailable unavailable-btn pill-btn" href="#">'
,o="Unavailable",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</a>\n\n			<div class="unwatched-icon unwatched-partial-icon"></div>\n			<div class="unwatched-icon unwatched-full-icon"></div>\n		</h2>\n\n		<div class="metadata">\n			<a class="season-index" href="#!/servers/',a=n.serverID,o=a||t.serverID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"serverID",{hash:{}})),s+=p(o)+"/sections/",a=n.sectionID,o=a||t.sectionID,typeof o===l?o=
o.call(t,{hash:{}}):o===h&&(o=c.call(t,"sectionID",{hash:{}})),s+=p(o)+"/details/",a=n.episode,o=a||t.episode,o=o===null||o===undefined||o===!1?o:o.parentRatingKey,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"episode.parentRatingKey",{hash:{}})),s+=p(o)+'"></a><span class="episode-index"></span>\n		</div>\n\n		<div class="episode-director metadata metadata-top"></div>\n		<div class="episode-writer metadata"></div>\n		<div class="episode-cast metadata"></div>\n\n		<div class="episode-audio metadata metadata-top hide"><span class="metadata-label">'
,o="Audio",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span></div>\n		<div class="episode-subtitles metadata hide"><span class="metadata-label">',o="Subtitles",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span></div>\n\n		<h2 class="episode-tagline tagline"></h2>\n\n		<div class="episode-summary summary"></div>\n	</div>\n</div>\n',s})}),define("plex/view/details/EpisodeDetailsView",["hb!templates/details/EpisodeDetailsView.tpl"
,"plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/details/PlaySplitButton","plex/view/details/StreamDropdown","plex/view/modals/MediaInfoModal"],function(e,t,n,r,i,s,o,u){var a=r.extend({className:"details",actionBar:null,playButton:null,audioDropdown:null,subtitlesDropdown:null,events:{"click .unavailable-btn":"onUnavailableClick"},initialize:function(){this.actionBar=this.registerView(new i({model:this.model})),this.playButton=
this.registerView(new s({model:this.model})),this.audioDropdown=this.registerView(new o({type:"audio",model:this.model})),this.subtitlesDropdown=this.registerView(new o({type:"subtitles",model:this.model}))},render:function(){var t=this.model.getStreams("2"),n=this.model.getStreams("3");return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),sectionID:this.model.section.id,episode:this.model.toJSON()})),this.$el.prepend(this.actionBar.render().el),this.$(".poster-container"
).after(this.playButton.render().el),t.length&&this.$(".episode-audio").removeClass("hide").append(this.audioDropdown.render().el),n.length&&this.$(".episode-subtitles").removeClass("hide").append(this.subtitlesDropdown.render().el),this.bindView(),this.$el.tooltip({selector:".details-icon-btn",placement:"bottom"}),this},bindings:{".show-title":{modelAttr:"grandparentTitle"},".episode-title":{modelAttr:"title"},".episode-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_wide.png"
);if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,r=280*n,i=420*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".season-index":{modelAttr:"parentIndex",format:function(e,n){return t.t("Season")+" "+n}},".episode-index":{modelAttr:"index",hideEmpty:!0,format:function(e,n){return n>0?", "+t.t("Episode")+" "+n:""}},".media-count":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){var n=0,r=this.model
.get("Media");return _.isArray(r)&&(n=r.length),n}},".episode-unavailable":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){var n=this.model.getMissingParts();n.length?e.removeClass("hide"):e.addClass("hide")}},".episode-content-rating":{modelAttr:"contentRating",hideEmpty:!0,format:function(e,t){if(!t){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"contentRating",flag:t,width:24,height:60};e.removeClass
("hide"),e.find("img").prop("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".episode-available":{modelAttr:"originallyAvailableAt",hideEmpty:!0,format:function(e,t){return t?Handlebars.helpers.formatDate.call(this,t):""}},".episode-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?'<span class="rating">'+Handlebars.helpers.starRating.call(this,t)+"</span>":""}},".episode-duration":{modelAttr:"duration",hideEmpty:!0,format:function(e,t){return Handlebars.helpers
.formatMinutes.call(this,t)}},".unwatched-icon":{modelAttr:"viewCount",format:function(e,t){var n=this.model.get("viewOffset");if(this.model.server.get("shared")){e.addClass("hide");return}t||n?e.addClass("hide"):(e.removeClass("hide"),this.$(".unwatched-partial-icon").addClass("hide"))}},".unwatched-partial-icon":{modelAttr:"viewOffset",format:function(e,t){if(this.model.server.get("shared")){e.addClass("hide");return}t?(e.removeClass("hide"),this.$(".unwatched-full-icon").addClass("hide")):e.addClass
("hide")}},".episode-tagline":{modelAttr:"tagline",hideEmpty:!0},".episode-director":{modelAttr:"Director",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Director</span>'+n}},".episode-writer":{modelAttr:"Writer",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Writer</span>'+
n}},".episode-cast":{modelAttr:"Role",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Cast</span>'+n}},".episode-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,700)}},".episode-video-resolution":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){_.isArray(t)&&t.length&&(t=t[0]);if(!t||!t.videoResolution
){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"videoResolution",flag:t.videoResolution,width:100,height:20};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".episode-audio-codec":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){_.isArray(t)&&t.length&&(t=t[0]);if(!t||!t.audioCodec){e.addClass("hide");return}var n={server:this.model.server,prefix:
this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"audioCodec",flag:t.audioCodec,width:100,height:20};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".episode-audio-channels":{modelAttr:"Media",hideEmpty:!0,format:function(e,t){_.isArray(t)&&t.length&&(t=t[0]);if(!t||!t.audioChannels){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"
),path:"audioChannels",flag:t.audioChannels,width:100,height:20};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this,{hash:n}))}},".episode-studio":{modelAttr:"studio",hideEmpty:!0,format:function(e,t){if(!t){e.addClass("hide");return}var n={server:this.model.server,prefix:this.model.get("mediaTagPrefix"),version:this.model.get("mediaTagVersion"),path:"studio",flag:t,width:200,height:40};e.removeClass("hide"),e.attr("src",Handlebars.helpers.transcodeMediaFlag.call(this
,{hash:n}))}}},onUnavailableClick:function(e){e.preventDefault(),n.set("modal",new u({model:this.model}))}});return a}),define("hb!templates/details/ArtistDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="artist-poster poster large-poster">\n	</div>\n\n	<div class="details-metadata">\n		<h1 class="artist-title"></h1>\n\n		<div class="artist-genre metadata metadata-top"></div>\n\n		<div class="artist-summary summary"></div>\n	</div>\n</div>\n\n<div id="albums-banner" class="banner">\n	<span class="banner-title">'
,o="Albums",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span> <span class="banner-count"></span>\n</div>\n',s})}),define("hb!templates/lists/media/items/AlbumListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<div class="album-art">\n	<a class="album-link" href="#!/servers/',u=n.serverID,o=u||t.serverID,typeof 
o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"serverID",{hash:{}})),s+=h(o)+"/sections/",u=n.sectionID,o=u||t.sectionID,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"sectionID",{hash:{}})),s+=h(o)+"/details/",u=n.album,o=u||t.album,o=o===null||o===undefined||o===!1?o:o.ratingKey,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"album.ratingKey",{hash:{}})),s+=h(o)+'">\n		<img class="album-poster poster">\n	</a>\n\n	<div class="album-title"></div>\n	<div class="album-year"></div>\n</div>\n'
,s})}),define("hb!templates/lists/media/items/TrackListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+='\n		<span class="track-duration">',a=n.track,i=a||e.track,i=i===null||i===undefined||i===!1?i:i.duration,a=n.formatDuration,s=a||e.formatDuration,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatDuration",i,{hash:{}}):i=s,r+=d(i)+"</span>\n	",r}function m(e,t){return'<i class="glyphicon pencil"></i>'}n=n||e.helpers;var s=""
,o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<a href="#">\n	',a=n.track,o=a||t.track,o=o===null||o===undefined||o===!1?o:o.duration,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n	<span class="track-number">',a=n.track,o=a||t.track,o=o===null||o===undefined||o===!1?o:o.index,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"track.index",{hash:{}})),s+=d(o)+"</span>\n\n	",a=n.track,o=a||t.track,o=o===
null||o===undefined||o===!1?o:o.title,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"track.title",{hash:{}})),s+=d(o)+"\n\n	",a=n.shared,o=a||t.shared,u=n.unless,f=l.program(3,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n	<i class="glyphicon circle-info"></i>\n</a>\n',s})}),define("plex/view/lists/media/items/TrackListItem",["hb!templates/lists/media/items/TrackListItem.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/view/BaseView","plex/view/modals/MediaInfoModal"
,"jquery"],function(e,t,n,r,i,s){var o=r.extend({tagName:"li",events:{click:"onClick"},initialize:function(){this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({shared:this.model.server.get("shared"),track:this.model.toJSON()})),this},onClick:function(e){e.preventDefault(),s(e.target).hasClass("pencil")?t.trigger("navigate:edit",this.model.server.id,this.model.section.id,this.model.id):s(e.target).hasClass("circle-info")?n.set("modal",new i({model:this.model
})):t.trigger("play:music",this.model.media.get("tracks"),this.model)}});return o}),define("plex/view/lists/media/TrackList",["plex/view/lists/BaseList","plex/view/lists/media/items/TrackListItem"],function(e,t){var n=e.extend({tagName:"ul",className:"compact-list track-list",initialize:function(){this.setup(t),this.collection.fetch()},render:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("plex/view/lists/media/items/AlbumListItem",["hb!templates/lists/media/items/AlbumListItem.tpl"
,"plex/view/BaseView","plex/view/lists/media/TrackList"],function(e,t,n){var r=t.extend({tagName:"li",trackList:null,initialize:function(){this.trackList=this.registerView(new n({collection:this.model.get("tracks")})),this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),serverObj:this.model.server,sectionID:this.model.section.id,album:this.model.toJSON()})),this.$el.append(this.trackList.render(
).el),this.bindView(),this},bindings:{".album-title":{modelAttr:"title"},".album-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,r=200*n,i=200*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".album-year":{modelAttr:"year",hideEmpty:!0}}});return r}),define("plex/view/lists/media/AlbumList",["plex/view/lists/BaseList"
,"plex/view/lists/media/items/AlbumListItem","lazyload"],function(e,t){var n=e.extend({tagName:"ul",className:"album-list",loadPosterThrottle:null,initialize:function(){this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100),this.collection.fetch()},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){if(typeof t.get("index")!="undefined"){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"change:poster"
,this.loadPosterThrottle),this.loadPosterThrottle()}},loadPoster:function(){this.$(".poster").lazyload({threshold:100})}});return n}),define("plex/view/details/ArtistDetailsView",["hb!templates/details/ArtistDetailsView.tpl","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/lists/media/AlbumList"],function(e,t,n,r){var i=t.extend({className:"details",albumList:null,initialize:function(){var e=this.model.get("albums");this.addBinding(e,"reset",this.onAlbumsReset),this.albumList=this
.registerView(new r({collection:e})),this.actionBar=this.registerView(new n({model:this.model}))},render:function(){return this.$el.html(e()),this.$el.prepend(this.actionBar.render().el),this.$("#albums-banner").after(this.albumList.render().el),this.bindView(),this},bindings:{".artist-title":{modelAttr:"title"},".artist-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,
r=280*n,i=420*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".artist-genre":{modelAttr:"Genre",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Genre</span>'+n}},".artist-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,700)}}},
onAlbumsReset:function(){var e=this.model.get("albums").length;e=e===1?1:e-1,this.$("#albums-banner .banner-count").html(e)}});return i}),define("hb!templates/details/AlbumDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="album-poster poster large-poster">\n\n		<a class="btn btn-primary play-btn" href="#">\n			<i class="glyphicon play"></i> '
,o="Play",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'\n		</a>\n	</div>\n\n	<div class="details-metadata">\n		<h1>\n			<a class="artist-title" href="#!/servers/',a=n.serverID,o=a||t.serverID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"serverID",{hash:{}})),s+=p(o)+"/sections/",a=n.sectionID,o=a||t.sectionID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"sectionID",{hash:{}})),s+=p(o)+"/details/",a=n.album,o=a||t.album,o=o===
null||o===undefined||o===!1?o:o.parentRatingKey,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"album.parentRatingKey",{hash:{}})),s+=p(o)+'"></a>\n		</h1>\n\n		<h2 class="album-title"></h2>\n\n		<div class="album-genre metadata metadata-top"></div>\n\n		<div class="album-summary summary"></div>\n	</div>\n</div>\n\n<div id="tracks-banner" class="banner">\n	<span class="banner-title">',o="Tracks",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(
o)+'</span> <span class="banner-count"></span>\n</div>\n',s})}),define("plex/view/details/AlbumDetailsView",["hb!templates/details/AlbumDetailsView.tpl","plex/control/Dispatcher","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/lists/media/TrackList"],function(e,t,n,r,i){var s=n.extend({className:"details",trackList:null,events:{"click .play-btn":"onPlayClick"},initialize:function(){var e=this.model.get("tracks");this.addBinding(e,"reset",this.onTracksReset),this.trackList=this.registerView
(new i({collection:e})),this.actionBar=this.registerView(new r({model:this.model}))},render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),sectionID:this.model.section.id,album:this.model.toJSON()})),this.$el.prepend(this.actionBar.render().el),this.$("#tracks-banner").after(this.trackList.render().el),this.bindView(),this},bindings:{".artist-title":{modelAttr:"parentTitle"},".album-title":{modelAttr:"title"},".album-poster":{modelAttr:"thumb",format
:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,r=280*n,i=420*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".album-genre":{modelAttr:"Genre",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Genre</span>'+
n}},".album-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate.call(this,t,700)}}},onTracksReset:function(){var e=this.model.get("tracks").length;this.$("#tracks-banner .banner-count").html(e)},onPlayClick:function(e){e.preventDefault();var n=this.model.get("tracks");t.trigger("play:music",n,n.first())}});return s}),define("hb!templates/details/PhotoDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function y(e,t){var r=""
,i,s,o;return r+='\n			<div class="card-details">\n				',i=500,c=n.photo,s=c||e.photo,s=s===null||s===undefined||s===!1?s:s.summary,c=n.truncate,o=c||e.truncate,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncate",s,i,{hash:{}}):i=o,r+=g(i)+"\n			</div>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression;s+='<div class="photo-container">\n	<a class="previous-btn hide" href="#"><i class="glyphicon chevron-left"></i></a>\n	<a class="next-btn hide" href="#"><i class="glyphicon chevron-right"></i></a>\n\n	<div class="card-overlay">\n		'
,o=50,c=n.photo,u=c||t.photo,u=u===null||u===undefined||u===!1?u:u.title,c=n.truncate,a=c||t.truncate,typeof a===d?o=a.call(t,u,o,{hash:{}}):a===m?o=v.call(t,"truncate",u,o,{hash:{}}):o=a,s+=g(o)+"\n\n		",c=n.photo,o=c||t.photo,o=o===null||o===undefined||o===!1?o:o.summary,u=n["if"],h=p.program(1,y,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;return s+='\n	</div>\n\n	<img src="',o=940,u=940,c=n.photo,a=c||t.photo,a=a===null||a===undefined||a===!1?a:a.thumb,c=n.serverObj,f=
c||t.serverObj,c=n.transcodeImage,l=c||t.transcodeImage,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"transcodeImage",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'">\n</div>\n',s})}),define("plex/view/details/PhotoDetailsView",["hb!templates/details/PhotoDetailsView.tpl","plex/control/Dispatcher","plex/model/media/collections/PhotoCollection","plex/view/BaseView","plex/view/details/ActionBarView"],function(e,t,n,r,i){var s=r.extend({className:"details photo-details",siblings:null,previousPhoto:
null,nextPhoto:null,events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},initialize:function(){this.siblings=new n([],{server:this.model.server,section:this.model.section,parentKey:this.model.get("parentKey")}),this.addBinding(this.siblings,"reset",this.onSiblingsReset),this.siblings.fetch(),this.actionBar=this.registerView(new i({model:this.model}))},render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),serverObj:this
.model.server,sectionID:this.model.section.id,photo:this.model.toJSON()})),this.$el.prepend(this.actionBar.render().el),this},onSiblingsReset:function(e){var t=e.get(this.model.id),n=e.indexOf(t);this.previousPhoto=null,this.nextPhoto=null,n>0&&(this.previousPhoto=e.at(n-1),this.$(".previous-btn").removeClass("hide")),n+1<e.length&&(this.nextPhoto=e.at(n+1),this.$(".next-btn").removeClass("hide"))},onPreviousClick:function(e){e.preventDefault(),t.trigger("navigate:details",this.model.server.id,this
.model.section.id,this.previousPhoto.id)},onNextClick:function(e){e.preventDefault(),t.trigger("navigate:details",this.model.server.id,this.model.section.id,this.nextPhoto.id)}});return s}),define("hb!templates/details/ChannelVideoDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f=this,l="function",c=n.helperMissing,h=void 0,p=this.escapeExpression;return s+='<div class="details-row row-fluid episode">\n	<div class="details-controls">\n		<div class="poster-container">\n			<img class="video-poster poster large-poster">\n		</div>\n	</div>\n\n	<div class="video-metadata details-metadata">\n		<div class="metadata-right">\n			<h2 class="video-duration"></h2>\n			<div class="video-available metadata"></div>\n			<div class="video-rating metadata"></div>\n		</div>\n\n		<h1>\n			<a class="show-title" href="#!/servers/'
,a=n.serverID,o=a||t.serverID,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"serverID",{hash:{}})),s+=p(o)+"/channels?key",a=n.channel,o=a||t.channel,o=o===null||o===undefined||o===!1?o:o.key,a=n.encodeURL,u=a||t.encodeURL,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"encodeURL",o,{hash:{}}):o=u,s+=p(o)+'">',a=n.channel,o=a||t.channel,o=o===null||o===undefined||o===!1?o:o.title,typeof o===l?o=o.call(t,{hash:{}}):o===h&&(o=c.call(t,"channel.title",{hash:{}})),s+=p(o)+'</a>\n		</h1>\n\n		<h2>\n			<span class="video-title"></span>\n		</h2>\n\n		<div class="season-title metadata"></div>\n\n		<div class="video-director metadata metadata-top"></div>\n		<div class="video-writer metadata"></div>\n		<div class="video-cast metadata"></div>\n\n		<div class="video-audio metadata metadata-top hide"><span class="metadata-label">'
,o="Audio",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span></div>\n		<div class="video-subtitles metadata hide"><span class="metadata-label">',o="Subtitles",a=n.t,u=a||t.t,typeof u===l?o=u.call(t,o,{hash:{}}):u===h?o=c.call(t,"t",o,{hash:{}}):o=u,s+=p(o)+'</span></div>\n\n		<h2 class="video-tagline tagline"></h2>\n\n		<div class="video-summary summary"></div>\n	</div>\n</div>\n',s})}),define("plex/view/details/ChannelVideoDetailsView",["hb!templates/details/ChannelVideoDetailsView.tpl"
,"plex/model/AppModel","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/details/PlaySplitButton","plex/view/details/StreamDropdown"],function(e,t,n,r,i,s){var o=n.extend({className:"details",actionBar:null,playButton:null,audioDropdown:null,subtitlesDropdown:null,initialize:function(){this.actionBar=this.registerView(new r({model:this.model})),this.playButton=this.registerView(new i({model:this.model,channel:!0})),this.audioDropdown=this.registerView(new s({type:"audio",model:this
.model})),this.subtitlesDropdown=this.registerView(new s({type:"subtitles",model:this.model}))},render:function(){var t=this.model.getStreams("2"),n=this.model.getStreams("3");return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),channel:this.model.channel.toJSON(),channelMedia:this.model.toJSON()})),this.$el.prepend(this.actionBar.render().el),this.$(".poster-container").after(this.playButton.render().el),t.length&&this.$(".video-audio").removeClass("hide").append
(this.audioDropdown.render().el),n.length&&this.$(".video-subtitles").removeClass("hide").append(this.subtitlesDropdown.render().el),this.bindView(),this.$el.tooltip({selector:".details-icon-btn",placement:"bottom"}),this},bindings:{".season-title":{modelAttr:"parentIndex",hideEmpty:!0,format:function(e,t){return t?"Season "+t+", Episode "+this.model.get("index"):""}},".video-title":{modelAttr:"title"},".video-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_wide.png"
);if(!t)return;var n=window.devicePixelRatio?window.devicePixelRatio:1,r=280*n,i=420*n,s=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,r,i);e.data("original",s),this.trigger("change:poster")}},".video-available":{modelAttr:"originallyAvailableAt",hideEmpty:!0,format:function(e,t){return t?Handlebars.helpers.formatDate.call(this,t):""}},".video-rating":{modelAttr:"rating",hideEmpty:!0,format:function(e,t){return t?'<span class="rating">'+Handlebars.helpers.starRating.call(this,t)+"</span>"
:""}},".video-duration":{modelAttr:"duration",hideEmpty:!0,format:function(e,t){return t?Handlebars.helpers.formatMinutes.call(this,t):0}},".video-tagline":{modelAttr:"tagline",hideEmpty:!0},".video-director":{modelAttr:"Director",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Director</span>'+n}},".video-writer":{modelAttr:"Writer",hideEmpty:!0,format:function(e,t)
{if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Writer</span>'+n}},".video-cast":{modelAttr:"Role",hideEmpty:!0,format:function(e,t){if(!t||!t.length)return"";var n=Handlebars.helpers.truncateTagList.call(this,t,{hash:{maxLen:150,maxTags:3}});return'<span class="metadata-label">Cast</span>'+n}},".video-summary":{modelAttr:"summary",hideEmpty:!0,format:function(e,t){return Handlebars.helpers.truncate
.call(this,t,700)}}}});return o}),define("hb!templates/details/PlaylistItemDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function y(e,t){var r="",i;return r+='\n				<div class="metadata metadata-headline">',c=n.media,i=c||e.media,i=i===null||i===undefined||i===!1?i:i.year,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"media.year",{hash:{}})),r+=g(i)+"</div>\n			",r}function b(e,t){var r="",i,s,o,u,a,f,l,h;return r+='\n				<div class="metadata"><img class="media-flag" src="'
,i=30,s=60,c=n.media,o=c||e.media,o=o===null||o===undefined||o===!1?o:o.contentRating,u="contentRating",c=n.media,a=c||e.media,a=a===null||a===undefined||a===!1?a:a.mediaTagVersion,c=n.media,f=c||e.media,f=f===null||f===undefined||f===!1?f:f.mediaTagPrefix,c=n.serverObj,l=c||e.serverObj,c=n.transcodeMediaFlag,h=c||e.transcodeMediaFlag,typeof h===d?i=h.call(e,l,f,a,u,o,s,i,{hash:{}}):h===m?i=v.call(e,"transcodeMediaFlag",l,f,a,u,o,s,i,{hash:{}}):i=h,r+=g(i)+'"></div>\n			',r}function w(e,t){var r=""
,i,s;r+='\n				<div class="metadata"><span class="rating">',c=n.media,i=c||e.media,i=i===null||i===undefined||i===!1?i:i.rating,c=n.starRating,s=c||e.starRating,typeof s===d?i=s.call(e,i,{hash:{}}):s===m?i=v.call(e,"starRating",i,{hash:{}}):i=s;if(i||i===0)r+=i;return r+="</span></div>\n			",r}function E(e,t){var r="",i,s;return r+='\n				<span class="metadata-duration">',c=n.media,i=c||e.media,i=i===null||i===undefined||i===!1?i:i.duration,c=n.formatMinutes,s=c||e.formatMinutes,typeof s===d?i=s.
call(e,i,{hash:{}}):s===m?i=v.call(e,"formatMinutes",i,{hash:{}}):i=s,r+=g(i)+"</span>\n			",r}function S(e,t){var r="",i,s;r+="\n				",c=n.media,i=c||e.media,i=i===null||i===undefined||i===!1?i:i.duration,s=n["if"],h=p.program(10,x,t),h.hash={},h.fn=h,h.inverse=p.noop,i=s.call(e,i,h);if(i||i===0)r+=i;return r+="\n				<span>",c=n.media,i=c||e.media,i=i===null||i===undefined||i===!1?i:i.sourceTitle,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"media.sourceTitle",{hash:{}})),r+=g(i)+"</span>\n			"
,r}function x(e,t){return"&middot;"}function T(e,t){var r="",i,s,o;return r+='\n			<div class="metadata metadata-top">\n				<span class="metadata-label">Genre</span>',i=150,c=n.media,s=c||e.media,s=s===null||s===undefined||s===!1?s:s.Genre,c=n.truncateTagList,o=c||e.truncateTagList,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncateTagList",s,i,{hash:{}}):i=o,r+=g(i)+"\n			</div>\n		",r}function N(e,t){var r="",i,s,o;return r+='\n			<div class="metadata">\n				<span class="metadata-label">Director</span>'
,i=150,c=n.media,s=c||e.media,s=s===null||s===undefined||s===!1?s:s.Director,c=n.truncateTagList,o=c||e.truncateTagList,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncateTagList",s,i,{hash:{}}):i=o,r+=g(i)+"\n			</div>\n		",r}function C(e,t){var r="",i,s,o;return r+='\n			<div class="metadata">\n				<span class="metadata-label">Writer</span>',i=150,c=n.media,s=c||e.media,s=s===null||s===undefined||s===!1?s:s.Writer,c=n.truncateTagList,o=c||e.truncateTagList,typeof o===d?i=o.call(e,
s,i,{hash:{}}):o===m?i=v.call(e,"truncateTagList",s,i,{hash:{}}):i=o,r+=g(i)+"\n			</div>\n		",r}function k(e,t){var r="",i,s,o;return r+='\n			<div class="metadata">\n				<span class="metadata-label">Cast</span>',i=150,c=n.media,s=c||e.media,s=s===null||s===undefined||s===!1?s:s.Role,c=n.truncateTagList,o=c||e.truncateTagList,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncateTagList",s,i,{hash:{}}):i=o,r+=g(i)+"\n			</div>\n		",r}function L(e,t){var r="",i;return r+='\n			<h2 class="tagline">\n				'
,c=n.media,i=c||e.media,i=i===null||i===undefined||i===!1?i:i.tagline,typeof i===d?i=i.call(e,{hash:{}}):i===m&&(i=v.call(e,"media.tagline",{hash:{}})),r+=g(i)+"\n			</h2>\n		",r}function A(e,t){var r="",i,s,o;return r+='\n			<div class="summary">',i=700,c=n.media,s=c||e.media,s=s===null||s===undefined||s===!1?s:s.summary,c=n.truncate,o=c||e.truncate,typeof o===d?i=o.call(e,s,i,{hash:{}}):o===m?i=v.call(e,"truncate",s,i,{hash:{}}):i=o,r+=g(i)+"</div>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l,c,h,p=
this,d="function",v=n.helperMissing,m=void 0,g=this.escapeExpression;s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="poster large-poster" data-original="',o=420,u=280,c=n.media,a=c||t.media,a=a===null||a===undefined||a===!1?a:a.thumb,c=n.serverObj,f=c||t.serverObj,c=n.transcodeImage,l=c||t.transcodeImage,typeof l===d?o=l.call(t,f,a,u,o,{hash:{}}):l===m?o=v.call(t,"transcodeImage",f,a,u,o,{hash:{}}):o=l,s+=g(o)+'" src="img/posters/poster.png">\n\n		<a class="btn btn-primary" href="#!/playlist/'
,c=n.playlistName,o=c||t.playlistName,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"playlistName",{hash:{}})),s+=g(o)+"/player/",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.id,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"media.id",{hash:{}})),s+=g(o)+'">\n			<i class="glyphicon play"></i> Play\n		</a>\n	</div>\n\n	<div class="details-metadata">\n		<div class="metadata-right">\n			',c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.year,u=n["if"],h=p.
program(1,y,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n			",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.contentRating,u=n["if"],h=p.program(3,b,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n			",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.rating,u=n["if"],h=p.program(5,w,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n		</div>\n\n		<h1>",c=n.media,o=c||t.media,o=o===null||
o===undefined||o===!1?o:o.title,typeof o===d?o=o.call(t,{hash:{}}):o===m&&(o=v.call(t,"media.title",{hash:{}})),s+=g(o)+'</h1>\n\n		<div class="metadata">\n			',c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.duration,u=n["if"],h=p.program(7,E,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n			",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.sourceTitle,u=n["if"],h=p.program(9,S,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0
)s+=o;s+="\n		</div>\n\n		",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.Genre,u=n["if"],h=p.program(12,T,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n		",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.Director,u=n["if"],h=p.program(14,N,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n		",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.Writer,u=n["if"],h=p.program(16,C,i),h.hash={},h.fn=h,h.inverse=
p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n		",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.Role,u=n["if"],h=p.program(18,k,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n		",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.tagline,u=n["if"],h=p.program(20,L,i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;s+="\n\n		",c=n.media,o=c||t.media,o=o===null||o===undefined||o===!1?o:o.summary,u=n["if"],h=p.program(22,A,
i),h.hash={},h.fn=h,h.inverse=p.noop,o=u.call(t,o,h);if(o||o===0)s+=o;return s+="\n\n	</div>\n</div>\n",s})}),define("plex/view/details/PlaylistItemDetailsView",["hb!templates/details/PlaylistItemDetailsView.tpl","plex/model/AppModel","plex/view/BaseView","plex/view/details/ActionBarView"],function(e,t,n,r){var i=n.extend({className:"details",initialize:function(){var e=!!this.model.get("viewCount");this.actionBar=this.registerView(new r({model:this.model,showWatch:!e,showUnwatch:e}))},render:function(
){return this.$el.html(e({serverURL:t.get("primaryServer").url(),serverObj:t.get("primaryServer"),media:this.model.toJSON(),playlistName:this.model.get("playlistName")})),this.$el.prepend(this.actionBar.render().el),this}});return i}),define("hb!templates/details/UnknownDetailsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<i class="plex-icon-sad"></i>\n\n<p class="error-message">This media type is not yet supported.</p>\n'})}),define
("plex/view/details/UnknownDetailsView",["hb!templates/details/UnknownDetailsView.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({className:"details",render:function(){return this.$el.html(e()),this}});return n}),define("plex/view/details/DetailsView",["hb!templates/details/DetailsView.tpl","plex/view/BaseView","plex/view/details/MovieDetailsView","plex/view/details/ShowDetailsView","plex/view/details/SeasonDetailsView","plex/view/details/EpisodeDetailsView","plex/view/details/ArtistDetailsView"
,"plex/view/details/AlbumDetailsView","plex/view/details/PhotoDetailsView","plex/view/details/ChannelVideoDetailsView","plex/view/details/PlaylistItemDetailsView","plex/view/details/UnknownDetailsView","lazyload"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=t.extend({className:"container-fluid container-fluid-full",detailsView:null,initialize:function(){var e=this.model.get("type");switch(e){case"movie":this.detailsView=this.registerView(new n({model:this.model}));break;case"show":this.detailsView=this
.registerView(new r({model:this.model}));break;case"season":this.detailsView=this.registerView(new i({model:this.model}));break;case"episode":this.detailsView=this.registerView(new s({model:this.model}));break;case"artist":this.detailsView=this.registerView(new o({model:this.model}));break;case"album":this.detailsView=this.registerView(new u({model:this.model}));break;case"photo":this.detailsView=this.registerView(new a({model:this.model}));break;case"channelVideo":this.detailsView=this.registerView
(new f({model:this.model}));break;case"playlistItem":this.detailsView=this.registerView(new l({model:this.model}));break;default:this.$el.addClass("error-container"),this.detailsView=this.registerView(new c({model:this.model}))}this.loadPosterDelay=_.debounce(this.loadPoster,800),this.addBinding(this.detailsView,"change:poster",this.loadPosterDelay)},render:function(){return this.$el.html(e({serverURL:this.model.server.url(),serverObj:this.model.server,media:this.model.toJSON()})),this.$el.prepend
(this.detailsView.render().el),this.bindView(),this.loadPosterDelay(),this},loadPoster:function(){this.$(".poster").lazyload({threshold:100})},bindings:{".fanart":{modelAttr:"art",hideEmpty:!0,format:function(e,t){t?(e.removeClass("hide"),e.css("background-image","url("+Handlebars.helpers.transcodeImage.call(this,this.model.server,t,1280,720)+")"),this.$(".fanart-overlay").removeClass("hide")):(e.addClass("hide"),this.$(".fanart-overlay").addClass("hide"))}}}});return h}),define("hb!templates/edit/EditMovieView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+='\n			<a class="btn btn-danger delete-btn" href="#">\n				<i class="glyphicon ban"></i> ',i="Delete",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n			</a>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="movie-poster poster large-poster">\n\n		<a class="btn btn-inverse change-poster-btn" href="#">\n			<i class="glyphicon pencil"></i> '
,o="Change Poster",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n		<a class="btn btn-inverse change-background-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Background",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"\n		</a>\n		",a=n.showDelete,o=a||t.showDelete,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span5">\n				'
,o={},u="title",o.name=u,u="Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.title,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.title,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span5">\n				',o={},u="titleSort",o.name=u,u="Sort Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.titleSort
,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.titleSort,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span2">\n				',o={},u="year",o.name=u,u="Year",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.year,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.year,o.locked=u,a=n.lockableTextInput,u=a||
t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span5">\n				',o={},u="originalTitle",o.name=u,u="Original Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.originalTitle,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.originalTitle,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===
c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span3">\n				',o={},u="rating",o.name=u,u="Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.rating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.rating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span4">\n				',
o={},u="contentRating",o.name=u,u="Content Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.contentRating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.contentRating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span7">\n				',o={},u="studio",o.name=u,u="Studio",o.label=
u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.studio,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.studio,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span5">\n				',o={},u="originallyAvailableAt",o.name=u,u="Originally Available",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt
,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="tagline",o.name=u,u="Tagline",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.tagline,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||
u===!1?u:u.tagline,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary",o.name=u,u="Summary",o.label=u,u="textarea",o.type=u,u="6",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=
n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span6">\n				',o={},u="writer",o.name=u,u="Writers",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Writer,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.writer,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=
u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="director",o.name=u,u="Directors",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Director,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.director,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span6">\n				'
,o={},u="genre",o.name=u,u="Genres",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Genre,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.genre,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="country",o.name=u,u="Country",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Country,
o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.country,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span6">\n				',o={},u="collection",o.name=u,u="Collections",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Collection,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||
u===!1?u:u.collection,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n',s})}),define("hb!templates/modals/SelectArtworkModal.tpl",["handlebars"],function(e
){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i,s;return r+='\n		<div class="upload-artwork-container">\n			<div class="upload-prompt">\n				<span class="file-chooser-container"><input type="file" class="file-chooser" multiple><a href="#">',i="choose an image",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a></span> &middot; ",i="drag and drop",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:
{}}):i=s,r+=d(i)+' &middot; <a class="upload-url" href="#">',i="enter a url",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</a>\n			</div>\n\n			<div class="upload-progress hide">\n				',i="Uploading artwork...",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'\n			</div>\n\n			<div class="upload-error hide">\n				',i="There was an error uploading this artwork. <a class='upload-back' href='#'>Try again</a>."
,a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'\n			</div>\n\n			<form class="url-form hide">\n				<input type="text" class="input-dark url-input" placeholder="',i="Enter a url to upload an image from the web",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n			</form>\n		</div>\n	',r}function g(e,t){return" hide"}function y(e,t){var r="",i,s;r+='\n			<div class="artwork-options-container ',
a=n.loading,i=a||e.loading,s=n["if"],f=l.program(6,b,t),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;r+='">\n				',a=n.options,i=a||e.options,s=n.each,f=l.programWithDepth(w,t,e),f.hash={},f.fn=f,f.inverse=l.noop,i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n			</div>\n		",r}function b(e,t){return" hide"}function w(e,t,r){var i="",s,o,u,m,g;i+='\n					<a class="artwork-option" data-rating-key="',a=n.ratingKey,s=a||e.ratingKey,typeof s===c?s=s.call(e,{hash:{}}):s===p&&(s=h.call
(e,"ratingKey",{hash:{}})),i+=d(s)+'" href="#">\n						<img class="poster" data-original="',s=250,o=150,a=n.thumb,u=a||e.thumb,a=n.serverObj,m=a||r.serverObj,a=n.transcodeImage,g=a||e.transcodeImage,typeof g===c?s=g.call(e,m,u,o,s,{hash:{}}):g===p?s=h.call(e,"transcodeImage",m,u,o,s,{hash:{}}):s=g,i+=d(s)+'" src="img/posters/poster',s="art",a=n.type,o=a||r.type,a=n.if_eq,u=a||e.if_eq,f=l.program(9,E,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=v.call(e,u,o,s,f);if(s||s===0
)i+=s;return i+='.png">\n					</a>\n				',i}function E(e,t){return"_wide"}function S(e,t){var r="",i,s;return r+='\n			<h4 class="no-matches">',i="No artwork found",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</h4>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression,v=n.blockHelperMissing;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3>'
,o="Select Artwork",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	',a=n.showUpload,o=a||t.showUpload,u=n["if"],f=l.program(1,m,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;s+='\n\n	<div class="select-artwork-options">\n		<h4 class="select-artwork-loading',a=n.loading,o=a||t.loading,u=n.unless,f=l.program(3,g,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call
(t,o,f);if(o||o===0)s+=o;s+='">\n			',o="Searching for artwork...",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"\n		</h4>\n		",a=n.options,o=a||t.options,o=o===null||o===undefined||o===!1?o:o.length,u=n["if"],f=l.program(5,y,i),f.hash={},f.fn=f,f.inverse=l.program(11,S,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n	</div>\n</div>\n",s})}),define("plex/model/media/collections/ArtworkCollection",["plex/model/collections/BaseCollection","plex/model/media/PhotoModel"
,"jquery"],function(e,t,n){var r=e.extend({model:t,initialize:function(e,t){this.media=t.media,this.server=this.media.server,this.section=this.media.section,this.type=t.type},url:function(){return"/library/metadata/"+this.media.id+"/"+this.type+"s"},parse:function(e){return n.xml2json(e).Photo}});return r}),define("plex/view/modals/SelectArtworkModal",["hb!templates/modals/SelectArtworkModal.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/model/media/MediaModel"
,"plex/view/BaseView","plex/model/media/collections/ArtworkCollection","jquery","lazyload"],function(e,t,n,r,i,s,o,u){var a=s.extend({name:"selectArtworkModal",className:"modal fade",dragStatus:0,events:{hidden:"onClose",dragenter:"onDragEnter",dragleave:"onDragLeave",drop:"onDrop","change .file-chooser":"onFileChange","click .upload-url":"onUploadUrlClick","submit .url-form":"onUrlSubmit","click .upload-back":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(
e){this.type=e.type,this.artwork=new o([],{media:this.model,type:this.type}),this.loading=!0,this.addBinding(this.artwork,"reset",function(e){this.loading=!1,this.render()}),this.artwork.populate()},render:function(){var t={type:this.type,media:this.model.toJSON(),options:this.artwork.toJSON(),loading:this.loading,serverURL:this.model.server.url(),serverObj:this.model.server,showUpload:this.model.server.supports("artworkUpload")};return this.$el.html(e(t)).modal(),_.delay(_.bind(function(){this.$
(".poster").lazyload({threshold:9999})},this),500),this},selectArtwork:function(e){var s={url:e},o="/library/metadata/"+this.model.id+"/"+this.type+"?"+u.param(s),a=_.extend({type:"PUT"},this.model.server.getAjaxOptions(o));t.trigger("command:ShowLoading",!0),u.ajax(a).always(function(){t.trigger("command:ShowLoading",!1)}).done(_.bind(function(e){this.$el.modal("hide");var t={server:this.model.server,section:this.model.section,onlyIfCached:!0},n=new i({ratingKey:this.model.id},t);this.type==="poster"?
(this.model.set("thumb",e),_.isEmpty(n)||n.set("thumb",e)):(this.model.set(this.type,e),_.isEmpty(n)||n.set(this.type,e))},this)).fail(function(){r.set("alert",{status:"error",message:n.t("There was a problem changing the artwork for {1}.",this.model.get("title"))})})},uploadFiles:function(e){var t=this.artwork.url(),n=[],r=_.bind(function(e){if(!/image\//.test(e.type))return;var r=_.extend(this.model.server.getAjaxOptions(t),{type:"POST",data:e,processData:!1});n.push(u.ajax(r))},this);for(var i=0
,s=e.length;i<s;i++)r(e[i]);if(!n.length){this.$(".upload-prompt").addClass("hide"),this.$(".upload-error").removeClass("hide");return}this.$(".upload-prompt").addClass("hide"),this.$(".upload-progress").removeClass("hide"),this.$(".upload-artwork-container").addClass("upload-active"),u.when.apply(this,n).always(_.bind(function(){this.$(".upload-artwork-container").removeClass("upload-active")},this)).done(_.bind(this.finish,this)).fail(_.bind(function(){this.$(".upload-progress").addClass("hide"
),this.$(".upload-error").removeClass("hide")},this))},uploadUrl:function(e){var t=this.artwork.url()+"?url="+encodeURIComponent(e);this.$(".url-form").addClass("hide"),this.$(".upload-progress").removeClass("hide"),this.$(".upload-artwork-container").addClass("upload-active");var n=_.extend(this.model.server.getAjaxOptions(t),{type:"POST"});u.ajax(n).always(_.bind(function(){this.$(".upload-artwork-container").removeClass("upload-active")},this)).done(_.bind(this.finish,this)).fail(_.bind(function(
){this.$(".upload-progress").addClass("hide"),this.$(".upload-error").removeClass("hide")},this))},finish:function(){this.model.fetch({hideLoadingAlert:!0}),this.$el.modal("hide")},onClose:function(e){t.trigger("destroy:modal",this)},onDragEnter:function(e){this.dragStatus++,this.$(".upload-artwork-container").addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,this.dragStatus===0&&this.$(".upload-artwork-container").removeClass("drag-hover")},onDrop:function(e){e.stopPropagation(),
e.preventDefault(),this.$(".upload-artwork-container").removeClass("drag-hover");var t=e.originalEvent.dataTransfer.files;this.uploadFiles(t)},onFileChange:function(e){if(!e.target.files||!e.target.files.length)return;var t=e.target.files;this.uploadFiles(t)},onUploadUrlClick:function(e){e.preventDefault(),this.$(".upload-prompt").addClass("hide"),this.$(".url-form").removeClass("hide"),this.$(".url-input").focus()},onUrlSubmit:function(e){e.preventDefault();var t=this.$(".url-input").val();t?this
.uploadUrl(t):(this.$(".url-form").addClass("hide"),this.$(".upload-prompt").removeClass("hide"))},onUploadBackClick:function(e){e.preventDefault(),this.$(".upload-error").addClass("hide"),this.$(".upload-prompt").removeClass("hide")},onArtworkOptionClick:function(e){e.preventDefault();var t=u(e.currentTarget);this.selectArtwork(t.data("ratingKey"))}});return a}),function(e){typeof e.fn.each2=="undefined"&&e.fn.extend({each2:function(t){var n=e([0]),r=-1,i=this.length;while(++r<i&&(n.context=n[0]=
this[r])&&t.call(n[0],r,n)!==!1);return this}})}(jQuery),function(e,t){function l(e,t){var n=0,r=t.length,i;if(typeof e=="undefined")return-1;if(e.constructor===String){for(;n<r;n+=1)if(e.localeCompare(t[n])===0)return n}else for(;n<r;n+=1){i=t[n];if(i.constructor===String){if(i.localeCompare(e)===0)return n}else if(i===e)return n}return-1}function c(e,n){return e===n?!0:e===t||n===t?!1:e===null||n===null?!1:e.constructor===String?e.localeCompare(n)===0:n.constructor===String?n.localeCompare(e)===0
:!1}function h(t,n){var r,i,s;if(t===null||t.length<1)return[];r=t.split(n);for(i=0,s=r.length;i<s;i+=1)r[i]=e.trim(r[i]);return r}function p(e){return e.outerWidth(!1)-e.width()}function d(n){var r="keyup-change-value";n.bind("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.bind("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function v(n){n.bind("mousemove",function(n){var r=a;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target
).trigger("mousemove-filtered",n)})}function m(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function g(e){var t=!1,n;return function(){return t===!1&&(n=e(),t=!0),n}}function y(e,t){var n=m(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){l(e.target,t.get())>=0&&n(e)})}function b(e){e.preventDefault(),e.stopPropagation()}function w(e){e.preventDefault(),e.stopImmediatePropagation()}function E
(t){if(!u){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);u=e("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),e("body").append(u)}return u.text(t.val()),u.width()}function S(e,t,n){var r=e.toUpperCase().indexOf(t.toUpperCase()),i=t.length;if(r<0){n.push(e);return}n.push(e.substring
(0,r)),n.push("<span class='select2-match'>"),n.push(e.substring(r,r+i)),n.push("</span>"),n.push(e.substring(r+i,e.length))}function x(t){var n,r=0,i=null,s=t.quietMillis||100;return function(o){window.clearTimeout(n),n=window.setTimeout(function(){r+=1;var n=r,s=t.data,u=t.transport||e.ajax,a=t.traditional||!1,f=t.type||"GET";s=s.call(this,o.term,o.page,o.context),null!==i&&i.abort(),i=u.call(null,{url:t.url,dataType:t.dataType,data:s,type:f,traditional:a,success:function(e){if(n<r)return;var i=
t.results(e,o.page);o.callback(i)}})},s)}}function T(t){var n=t,r,i=function(e){return""+e.text};return e.isArray(n)||(i=n.text,e.isFunction(i)||(r=n.text,i=function(e){return e[r]}),n=n.results),function(t){var r=t.term,s={results:[]},o;if(r===""){t.callback({results:n});return}o=function(n,s){var u,a;n=n[0];if(n.children){u={};for(a in n)n.hasOwnProperty(a)&&(u[a]=n[a]);u.children=[],e(n.children).each2(function(e,t){o(t,u.children)}),(u.children.length||t.matcher(r,i(u)))&&s.push(u)}else t.matcher
(r,i(n))&&s.push(n)},e(n).each2(function(e,t){o(t,s.results)}),t.callback(s)}}function N(n){return e.isFunction(n)?n:function(r){var i=r.term,s={results:[]};e(n).each(function(){var e=this.text!==t,n=e?this.text:this;(i===""||r.matcher(i,n))&&s.results.push(e?this:{id:this,text:this})}),r.callback(s)}}function C(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function k(t){return e.isFunction(t)?t():t}function L(t){var n=0;return e
.each(t,function(e,t){t.children?n+=L(t.children):n++}),n}function A(e,n,r,i){var s=e,o=!1,u,a,f,l,h;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){a=-1;for(f=0,l=i.tokenSeparators.length;f<l;f++){h=i.tokenSeparators[f],a=e.indexOf(h);if(a>=0)break}if(a<0)break;u=e.substring(0,a),e=e.substring(a+h.length);if(u.length>0){u=i.createSearchChoice(u,n);if(u!==t&&u!==null&&i.id(u)!==t&&i.id(u)!==null){o=!1;for(f=0,l=n.length;f<l;f++)if(c(i.id(u),i.id(n[f]))){o=!0
;break}o||r(u)}}}if(s.localeCompare(e)!=0)return e}function O(t,n){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}if(window.Select2!==t)return;var n,r,i,s,o,u,a,f;n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN
:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case n.SHIFT:case n.CTRL:case n.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123}},f=e(document),o=function(){var e=1;return function(){return e++}}(),f.bind("mousemove",function(e){a={x:e.pageX,y:e.pageY}}),f.ready(function(){f.bind("mousedown touchend",function(n){var r=e(n.target).closest("div.select2-container").get(0),i,s=null;r&&(f.find("div.select2-container-active").each
(function(){this!==r&&e(this).data("select2").blur()}),s=e(r).data("select2").dropdown.get(0)),r=s||e(n.target).closest("div.select2-drop").get(0),f.find("div.select2-drop-active").each(function(){this!==r&&e(this).data("select2").blur()}),r=e(n.target),i=r.attr("for"),"LABEL"===n.target.tagName&&i&&i.length>0&&(i=i.replace(/([\[\].])/g,"\\$1"),r=e("#"+i),r=r.data("select2"),r!==t&&(r.focus(),n.preventDefault()))})}),r=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}}
,init:function(n){var r,i,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&n.element.data("select2")!==null&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=g(function(){return n.element.closest("body")}),n.element
.attr("class")!==t&&this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,"")),this.container.css(k(n.containerCss)),this.container.addClass(k(n.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(k(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=r=this.container.find(s),this.search=i=this.container.find("input.select2-input"
),i.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),v(this.results),this.dropdown.delegate(s,"mousemove-filtered",this.bind(this.highlightUnderEvent)),y(80,this.results),this.dropdown.delegate(s,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop(),o;i>0&&s-i<=0?(r.scrollTop(0),b(e)):i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop
(r.get(0).scrollHeight-r.height()),b(e))}),d(i),i.bind("keyup-change",this.bind(this.updateResults)),i.bind("focus",function(){i.addClass("select2-focused"),i.val()===" "&&i.val("")}),i.bind("blur",function(){i.removeClass("select2-focused")}),this.dropdown.delegate(s,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0?(this.highlightUnderEvent(t),this.selectHighlighted(t)):this.focusSearch(),b(t)})),this.dropdown.bind("click mouseup mousedown"
,function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var r,i,s,o;r=n.element,r.get(0).tagName.toLowerCase()==="select"&&(this.select=i=n.element),i&&e.each
(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(r,i,s){var o,u,a,f,l=this.opts.id,c=this;o=function(r,i,u){var a,f,h,p,d,v,m,g,y;r=n.sortResults(r,i,s);for(a=0,f=r.length;a<f;a+=1)h=r[a],p=l(h)!==t,d=h.children&&h.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass
("select2-result"),v.addClass(p?"select2-result-selectable":"select2-result-unselectable"),d&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(h)),m=e("<div></div>"),m.addClass("select2-result-label"),y=n.formatResult(h,m,s),y!==t&&m.html(c.opts.escapeMarkup(y)),v.append(m),d&&(g=e("<ul></ul>"),g.addClass("select2-result-sub"),o(h.children,g,u+1),v.append(g)),v.data("select2-data",h),i.append(v)},o(i,r,0)}},e.fn.select2.defaults,n),typeof n.id!="function"&&(s=n.id
,n.id=function(e){return e[s]}),i?(n.query=this.bind(function(n){var i={results:[],more:!1},s=n.term,o,u,a;a=function(e,t){var r;e.is("option")?n.matcher(s,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class")}):e.is("optgroup")&&(r={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){a(t,r.children)}),r.children.length>0&&t.push(r))},o=r.children(),this.getPlaceholder()!==t&&o.length>0&&(u=o[0],e(u).text()===""&&
(o=o.not(u))),o.each2(function(e,t){a(t,i.results)}),n.callback(i)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(o=n.element.data("ajax-url"),o&&o.length>0&&(n.ajax.url=o),n.query=x(n.ajax)):"data"in n?n.query=T(n.data):"tags"in n&&(n.query=N(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection=function(t,r){var i=[];e(h(t.val(),n.separator)).each(function(){var t=this,r=this,s=n.tags
;e.isFunction(s)&&(s=s()),e(s).each(function(){if(c(this.id,t))return r=this.text,!1}),i.push({id:t,text:r})}),r(i)}));if(typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered"
,!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){if(this.enabled)return;this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled")},disable:function(){if(!this.enabled)return;this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled")},opened:function(
){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.container.offset(),n=this.container.outerHeight(!1),r=this.container.outerWidth(!1),i=this.dropdown.outerHeight(!1),s=e(window).scrollLeft()+document.documentElement.clientWidth,o=e(window).scrollTop()+document.documentElement.clientHeight,u=t.top+n,a=t.left,f=u+i<=o,l=t.top-i>=this.body().scrollTop(),c=this.dropdown.outerWidth(!1),h=a+c<=s,p=this.dropdown.hasClass("select2-drop-above"),d,v,m;this.body
().css("position")!=="static"&&(d=this.body().offset(),u-=d.top,a-=d.left),p?(v=!0,!l&&f&&(v=!1)):(v=!1,!f&&l&&(v=!0)),h||(a=t.left+r-c),v?(u=t.top-i,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),m=e.extend({top:u,left:a,width:r},k(this.opts.dropdownCss)),this.dropdown.css(m)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("open"),this.opts
.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var t=this.containerId,n=this.containerSelector,r="scroll."+t,i="resize."+t;this.container.parents().each(function(){e(this).bind(r,function(){var t=e(n);t.length==0&&e(this).unbind(r),t.select2("close"
)})}),window.setTimeout(function(){e(window).bind(i,function(){var t=e(n);t.length==0&&e(window).unbind(i),t.select2("close")})},10),this.clearDropdownAlignmentPreference(),this.search.val()===" "&&this.search.val(""),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"
),this.ensureHighlightVisible(),this.focusSearch()},close:function(){if(!this.opened())return;var t=this;this.container.parents().each(function(){e(this).unbind("scroll."+t.containerId)}),e(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(e.Event("close"))},clearSearch:function(){},ensureHighlightVisible
:function(){var t=this.results,n,r,i,s,o,u,a;r=this.highlight();if(r<0)return;if(r==0){t.scrollTop(0);return}n=t.find(".select2-result-selectable"),i=e(n[r]),s=i.offset().top+i.outerHeight(!0),r===n.length-1&&(a=t.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=t.offset().top+t.outerHeight(!0),s>o&&t.scrollTop(t.scrollTop()+(s-o)),u=i.offset().top-t.offset().top,u<0&&i.css("display")!="none"&&t.scrollTop(t.scrollTop()+u)},moveHighlight:function(t){var n=this.results
.find(".select2-result-selectable"),r=this.highlight();while(r>-1&&r<n.length){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")){this.highlight(r);break}}},highlight:function(t){var n=this.results.find(".select2-result-selectable").not(".select2-disabled");if(arguments.length===0)return l(n.filter(".select2-highlighted")[0],n.get());t>=n.length&&(t=n.length-1),t<0&&(t=0),n.removeClass("select2-highlighted"),e(n[t]).addClass("select2-highlighted"),this
.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.results.find(".select2-result-selectable");this.highlight(r.index(n))}else n.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e=this.results
,t=e.find("li.select2-more-results"),n,r=-1,i=this.resultsPage+1,s=this,o=this.search.val(),u=this.context;if(t.length===0)return;n=t.offset().top-e.offset().top-e.height(),n<=0&&(t.addClass("select2-active"),this.opts.query({term:o,page:i,context:u,matcher:this.opts.matcher,callback:this.bind(function(n){if(!s.opened())return;s.opts.populateResults.call(this,e,n.results,{term:o,page:i,context:u}),n.more===!0?(t.detach().appendTo(e).text(s.opts.formatLoadMore(i+1)),window.setTimeout(function(){s.
loadMoreIfNeeded()},10)):t.remove(),s.positionDropdown(),s.resultsPage=i})}))},tokenize:function(){},updateResults:function(n){function f(){i.scrollTop(0),r.removeClass("select2-active"),u.positionDropdown()}function l(e){i.html(u.opts.escapeMarkup(e)),f()}var r=this.search,i=this.results,s=this.opts,o,u=this,a;if(n!==!0&&(this.showSearchInput===!1||!this.opened()))return;r.addClass("select2-active");if(s.maximumSelectionSize>=1){o=this.data();if(e.isArray(o)&&o.length>=s.maximumSelectionSize&&C(
s.formatSelectionTooBig,"formatSelectionTooBig")){l("<li class='select2-selection-limit'>"+s.formatSelectionTooBig(s.maximumSelectionSize)+"</li>");return}}if(r.val().length<s.minimumInputLength){C(s.formatInputTooShort,"formatInputTooShort")?l("<li class='select2-no-results'>"+s.formatInputTooShort(r.val(),s.minimumInputLength)+"</li>"):l("");return}s.formatSearching()&&l("<li class='select2-searching'>"+s.formatSearching()+"</li>"),a=this.tokenize(),a!=t&&a!=null&&r.val(a),this.resultsPage=1,s.
query({term:r.val(),page:this.resultsPage,context:null,matcher:s.matcher,callback:this.bind(function(o){var a;if(!this.opened())return;this.context=o.context===t?null:o.context,this.opts.createSearchChoice&&r.val()!==""&&(a=this.opts.createSearchChoice.call(null,r.val(),o.results),a!==t&&a!==null&&u.id(a)!==t&&u.id(a)!==null&&e(o.results).filter(function(){return c(u.id(this),u.id(a))}).length===0&&o.results.unshift(a));if(o.results.length===0&&C(s.formatNoMatches,"formatNoMatches")){l("<li class='select2-no-results'>"+
s.formatNoMatches(r.val())+"</li>");return}i.empty(),u.opts.populateResults.call(this,i,o.results,{term:r.val(),page:this.resultsPage,context:null}),o.more===!0&&C(s.formatLoadMore,"formatLoadMore")&&(i.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(s.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),f()})})},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"
),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.opts.element.triggerHandler("blur")},focusSearch:function(){this.search.show(),this.search.focus(),window.setTimeout(this.bind(function(){this.search.show(),this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var e=this.highlight(),
t=this.results.find(".select2-highlighted").not(".select2-disabled"),n=t.closest(".select2-result-selectable").data("select2-data");n&&(t.addClass("select2-disabled"),this.highlight(e),this.onSelect(n))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,r,i,s,o;if(this.opts.width==="off")return null;if(this.opts.width==="element"
)return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){n=this.opts.element.attr("style");if(n!==t){r=n.split(";");for(s=0,o=r.length;s<o;s+=1){i=r[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(i!==null&&i.length>=1)return i[1]}}return this.opts.width==="resolve"?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:this.opts.element.outerWidth(!1)===0?"auto":this
.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);r!==null&&this.container.attr("style","width: "+r)}}),i=O(r,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container"}).html(["    <a href='javascript:void(0)' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>"
,"   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show()
},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var e,t=this.container,r=this.dropdown,i=!1;this.selection=e=t.find(".select2-choice"),this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){b(e);return}if(this.opened())switch(e.which){case n.UP:case n
.DOWN:this.moveHighlight(e.which===n.UP?-1:1),b(e);return;case n.TAB:case n.ENTER:this.selectHighlighted(),b(e);return;case n.ESC:this.cancel(e),b(e);return}else{if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER)return;this.open();if(e.which===n.ENTER)return}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container
.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){var e=this.opts.element.attr("tabIndex")||0;e?this.selection.attr("tabIndex",e):this.selection.removeAttr("tabIndex")}),10)})),e.delegate("abbr","mousedown",this.bind(function(e){if(!this.enabled)return;this.clear(),w(e),this.close(),this.triggerChange(),this.selection.focus()})),e.bind("mousedown",this.bind(function(e){i=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),i=!1})),r.bind("mousedown"
,this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),e.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex")||0)}),10)})),e.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which==n.DOWN||e.which==n.UP||e.which==n.ENTER&&
this.opts.openOnEnter){this.open(),b(e);return}if(e.which==n.DELETE||e.which==n.BACKSPACE){this.opts.allowClear&&this.clear(),b(e);return}})),e.bind("keypress",this.bind(function(e){var t=String.fromCharCode(e.which);this.search.val(t),this.open()})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.
setPlaceholder()},initSelection:function(){var e;if(this.opts.element.val()===""&&this.opts.element.text()==="")this.close(),this.setPlaceholder();else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"&&(t.initSelection=function(t,n){var r=t.find(":selected");e.isFunction
(n)&&n({id:r.attr("value"),text:r.text(),element:r})}),t},setPlaceholder:function(){var e=this.getPlaceholder();if(this.opts.element.val()===""&&e!==t){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,n){var r=0,i=this,s=!0;this.results.find(".select2-result-selectable").each2(function(e,t){if(c(i.id(t.data("select2-data"
)),i.opts.element.val()))return r=e,!1}),this.highlight(r),n===!0&&(s=this.showSearchInput=L(t.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[s?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[s?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(e){var t=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.close(),this.selection.focus(),c(t,this.id(e))||this.triggerChange()}
,updateSelection:function(e){var n=this.selection.find("span"),r;this.selection.data("select2-data",e),n.empty(),r=this.opts.formatSelection(e,n),r!==t&&n.append(this.opts.escapeMarkup(r)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=null,r=this;if(arguments.length===0)return this.opts.element.val();e=arguments[0];if(this.select)this.select.val(e).find(":selected").each2(function(e,t){return n=
{id:t.attr("value"),text:t.text()},!1}),this.updateSelection(n),this.setPlaceholder(),this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e){this.clear(),this.triggerChange();return}this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),r.triggerChange()})}},clearSearch:function(){this.search.val("")},data:function(e){var n
;if(arguments.length===0)return n=this.selection.data("select2-data"),n==t&&(n=null),n;!e||e===""?this.clear():(this.opts.element.val(e?this.id(e):""),this.updateSelection(e))}}),s=O(r,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>"
,"   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return t.element.get(0).tagName.toLowerCase()==="select"&&(t.initSelection=function(t,n){var r=[];t.find(":selected").each2(function(e,t){r.push({id:t.attr("value"),text:t.text(),element:t})}),e.isFunction(n)&&n(r)}),t},initContainer:function(){var t=".select2-choices",r;this.searchContainer=this.container.find(".select2-search-field"),this.selection=
r=this.container.find(t),this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.BACKSPACE&&this.search.val()===""){this.close();var t,i=r.find(".select2-search-choice-focus");if(i.length>0){this.unselect(i.first()),this.search.width(10),b(e);return}t=r.find(".select2-search-choice:not(.select2-locked)"),t.length>0&&t.last().addClass("select2-search-choice-focus")}else r.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened(
))switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1),b(e);return;case n.ENTER:case n.TAB:this.selectHighlighted(),b(e);return;case n.ESC:this.cancel(e),b(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.BACKSPACE||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER)return;this.open(),(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN)&&b(e)})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind
(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(t,"mousedown",this.bind(function(t){if(!this.enabled)return;if(e(t.target).closest(".select2-search-choice").length>0)return;this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()})),this.container.delegate(t,"focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active"
),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder()})),this.clearSearch()},enable:function(){if(this.enabled)return;this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled")},disable:function(){if(!this.enabled)return;this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0)},initSelection:function(){var e;this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||this
.opts.element.val()!==""){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&e!==null&&(n.updateSelection(e),n.close(),n.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"
):this.search.val()===" "&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){l(i.id(this),n)<0&&(n.push(i.id(this)),r.push(this))}),
t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),e!=null&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e){this.addSelectedChoice(e),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults
()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:e}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r=!n.locked,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),o=r?i:s,u=this.id(n),a=this.getVal(),f;
f=this.opts.formatSelection(n,o.find("div")),f!=t&&o.find("div").replaceWith("<div>"+this.opts.escapeMarkup(f)+"</div>"),r&&o.find(".select2-search-choice-close").bind("mousedown",b).bind("click dblclick",this.bind(function(t){if(!this.enabled)return;e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),b
(t)})).bind("focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active")})),o.data("select2-data",n),o.insertBefore(this.searchContainer),a.push(u),this.setVal(a)},unselect:function(e){var t=this.getVal(),n,r;e=e.closest(".select2-search-choice");if(e.length===0)throw"Invalid argument: "+e+". Must be .select2-search-choice";n=e.data("select2-data"),r=l(this.id(n),t),r>=0&&(t.splice(r,1),this.setVal(t),this.select&&
this.postprocessResults()),e.remove(),this.triggerChange({removed:n})},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result-selectable"),n=this.results.find(".select2-result-with-children"),r=this;t.each2(function(t,n){var i=r.id(n.data("select2-data"));l(i,e)>=0?n.addClass("select2-disabled").removeClass("select2-result-selectable"):n.removeClass("select2-disabled").addClass("select2-result-selectable")}),n.each2(function(e,t){!t.is(".select2-result-selectable")&&
t.find(".select2-result-selectable").length==0?t.addClass("select2-disabled"):t.removeClass("select2-disabled")}),this.highlight()==-1&&t.each2(function(e,t){if(!t.hasClass("select2-disabled")&&t.hasClass("select2-result-selectable"))return r.highlight(0),!1})},resizeSearch:function(){var e,t,n,r,i,s=p(this.search);e=E(this.search)+10,t=this.search.offset().left,n=this.selection.width(),r=this.selection.offset().left,i=n-(t-r)-s,i<e&&(i=n-s),i<40&&(i=n-s),i<=0&&(i=e),this.search.width(i)},getVal:
function(){var e;return this.select?(e=this.select.val(),e===null?[]:e):(e=this.opts.element.val(),h(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){l(this,n)<0&&n.push(this)}),this.opts.element.val(n.length===0?"":n.join(this.opts.separator)))},val:function(){var n,r=[],i=this;if(arguments.length===0)return this.getVal();n=arguments[0];if(!n){this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),this.triggerChange();return}
this.setVal(n);if(this.select)this.select.find(":selected").each(function(){r.push({id:e(this).attr("value"),text:e(this).text()})}),this.updateSelection(r),this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(i.id);i.setVal(n),i.updateSelection(t),i.clearSearch(),i.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new 
Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t){var n=this,r;if(arguments
.length===0)return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();t||(t=[]),r=e.map(t,function(e){return n.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch()}}),e.fn.select2=function(){var n=Array.prototype.slice.call(arguments,0),r,o,u,a,f=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(n.length===0||typeof 
n[0]=="object")r=n.length===0?{}:e.extend({},n[0]),r.element=e(this),r.element.get(0).tagName.toLowerCase()==="select"?a=r.element.attr("multiple"):(a=r.multiple||!1,"tags"in r&&(r.multiple=a=!0)),o=a?new s:new i,o.init(r);else{if(typeof n[0]!="string")throw"Invalid arguments to select2 plugin: "+n;if(l(n[0],f)<0)throw"Unknown method: "+n[0];u=t,o=e(this).data("select2");if(o===t)return;n[0]==="container"?u=o.container:u=o[n[0]].apply(o,n.slice(1));if(u!==t)return!1}}),u===t?this:u},e.fn.select2.
defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n){var r=[];return S(e.text,n.term,r),r.join("")},formatSelection:function(e,n){return e?e.text:t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(n==1?"":"s")},formatSelectionTooBig
:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:A,escapeMarkup:function(e){return e&&typeof e=="string"?e.replace(/&/g,"&amp;"):e},blurOnChange:!1},window.Select2=
{query:{ajax:x,local:T,tags:N},util:{debounce:m,markMatch:S},"class":{"abstract":r,single:i,multi:s}}}(jQuery),define("select2",function(){}),define("plex/view/edit/BaseEditView",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel","plex/view/BaseView","plex/view/details/ActionBarView","plex/view/modals/SelectArtworkModal","plex/model/FilterModel","jquery","select2"],function(e,t,n,r,i,s,o,u){var a=r.extend({className:"details",events:{"click .change-poster-btn":"onChangePosterClick"
,"click .change-background-btn":"onChangeBackgroundClick","click .delete-btn":"onDeleteClick","click .lock-btn":"onLockClick","change .lockable-field":"onFieldChange","keypress .lockable-field":"onFieldKeyPress","click button[type=submit]":"onSubmit","click .cancel-btn":"onCancel"},tagNames:[],initialize:function(e){this.actionBar=this.registerView(new i({model:this.model})),this.tagValues={},_.each(this.tagNames,function(e){var t=new o({filter:e,filterType:"string"},{server:this.model.server,section
:this.model.section});this.tagValues[e]=t.get("options")},this)},render:function(){var e=this.model.get("Field"),t={};_.isArray(e)?_.reduce(e,function(e,t){return e[t.name]=t.locked,e},t):_.isEmpty(e)||(t[e.name]=e.locked);var n={media:this.model.toJSON(),serverID:this.model.server.id,serverURL:this.model.server.url(),serverObj:this.model.server,showDelete:this.model.server.get("allowMediaDeletion"),sectionID:this.model.section.id,locked:t,type:this.model.get("type")||"item",path:this.model.getMediaLocation
()};return this.$el.html(this.tpl(n)),this.$el.prepend(this.actionBar.render().el),this.renderTags(),this.bindView(),this},renderTags:function(){var e=_.bind(function(e){var t=e.parentFilter.get("filter");this.$("input[data-name="+t+"]").select2({tags:e.pluck("title"),tokenSeparators:[","]})},this);_.each(this.tagValues,function(t){t.populate().done(e)})},navigateToDetails:function(){e.trigger("navigate:details",this.model.server.id,this.model.section.id,this.model.id)},onChangePosterClick:function(
e){e.preventDefault();var t=new s({model:this.model,type:"poster"});n.set({modal:t})},onChangeBackgroundClick:function(e){e.preventDefault();var t=new s({model:this.model,type:"art"});n.set({modal:t})},onDeleteClick:function(t){t.preventDefault(),e.trigger("command:DeleteMedia",this.model)},onLockClick:function(e){e.preventDefault(),u(e.currentTarget).toggleClass("selected")},onFieldChange:function(e){u(e.currentTarget).parent().siblings(".lock-btn").addClass("selected")},onFieldKeyPress:function(
e){u(e.currentTarget).parent().siblings(".lock-btn").addClass("selected")},onSubmit:function(e){e.preventDefault();var r=u("form.edit-metadata-form"),i=_.reduce(r.serializeArray(),function(e,t){return e[t.name]=t.value,e},{}),s=u(".lock-btn.selected").map(function(e,t){return{name:u(t).data("field"),locked:"1"}}).get();i.Field=s;var o=this.model.changedAttributes(i)||{};if("Field"in o){var a=_.reduce(this.model.get("Field"),function(e,t){return e[t.name]="0",e},{});_.reduce(s,function(e,t){return t
.name in e?delete e[t.name]:e[t.name]="1",e},a),o.Field=_.map(a,function(e,t){return{name:t,locked:e}})}var f=_.reduce(r.find("input.input-select2"),function(e,t){var n=u(t),r=n.data("name");return r=r.charAt(0).toUpperCase()+r.slice(1),e[r]=_.map(n.val().split(","),function(e){return{tag:e}}),e},{});_.each(f,function(e,t){var n=_.pluck(this.model.get(t),"tag"),r=_.pluck(e,"tag");_.isEqual(n,r)||(o[t]=e)},this),_.isEmpty(o)?this.navigateToDetails():this.model.save(o,{success:_.bind(function(e){this
.navigateToDetails()},this),error:function(){n.set("alert",{status:"error",message:t.t("There was a problem saving your changes.")})}})},onCancel:function(e){e.preventDefault(),this.navigateToDetails()}});return a}),define("plex/view/edit/EditMovieView",["hb!templates/edit/EditMovieView.tpl","plex/view/edit/BaseEditView"],function(e,t){var n=t.extend({tpl:e,tagNames:["director","writer","genre","collection","country"],bindings:{".movie-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||
e.attr("src","img/posters/poster.png");if(!t)return;var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return n}),define("hb!templates/edit/EditShowView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="show-poster poster large-poster">\n\n		<a class="btn btn-inverse change-poster-btn" href="#">\n			<i class="glyphicon pencil"></i> '
,o="Change Poster",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n		<a class="btn btn-inverse change-background-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Background",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span5">\n				',o={},u="title",o.name=u,u="Title",o.label=
u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.title,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.title,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span5">\n				',o={},u="titleSort",o.name=u,u="Sort Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.titleSort,o.value=u,a=n.locked,u=a||t.locked
,u=u===null||u===undefined||u===!1?u:u.titleSort,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span2">\n				',o={},u="year",o.name=u,u="Year",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.year,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.year,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o
,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span5">\n				',o={},u="originalTitle",o.name=u,u="Original Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.originalTitle,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.originalTitle,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t
,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span3">\n				',o={},u="rating",o.name=u,u="Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.rating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.rating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span4">\n				',o={},u="contentRating",o.name=u,
u="Content Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.contentRating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.contentRating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span7">\n				',o={},u="studio",o.name=u,u="Studio",o.label=u,a=n.media,u=a||t.media,u=u===null||
u===undefined||u===!1?u:u.studio,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.studio,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span5">\n				',o={},u="originallyAvailableAt",o.name=u,u="Originally Available",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt,o.value=u,a=n.locked,u=a||t.locked,
u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="tagline",o.name=u,u="Tagline",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.tagline,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.tagline,o.locked=
u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary",o.name=u,u="Summary",o.label=u,u="textarea",o.type=u,u="6",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=n.lockableTextInput,u=a||t.
lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span6">\n				',o={},u="genre",o.name=u,u="Genres",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Genre,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.genre,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput"
,f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="collection",o.name=u,u="Collections",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Collection,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.collection,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n'
,s})}),define("plex/view/edit/EditShowView",["hb!templates/edit/EditShowView.tpl","plex/view/edit/BaseEditView"],function(e,t){var n=t.extend({tpl:e,tagNames:["genre","collection"],bindings:{".show-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster.png");if(!t)return;var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return n}),define("hb!templates/edit/EditSeasonView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="show-poster poster large-poster">\n\n		<a class="btn btn-inverse change-poster-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Poster",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):
o=u,s+=d(o)+'\n		</a>\n		<a class="btn btn-inverse change-background-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Background",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary",o.name=u,u="Summary",o.label=u,u="textarea",o.type=u,u="6",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?
u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n',s})}),define
("plex/view/edit/EditSeasonView",["hb!templates/edit/EditSeasonView.tpl","plex/view/edit/BaseEditView"],function(e,t){var n=t.extend({tpl:e,bindings:{".show-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster.png");if(!t)return;var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return n}),define("hb!templates/edit/EditEpisodeView.tpl",["handlebars"],function(e){return e.
template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+='\n			<a class="btn btn-danger delete-btn" href="#">\n				<i class="glyphicon ban"></i> ',i="Delete",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n			</a>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="episode-poster poster large-poster">\n\n		<a class="btn btn-inverse change-poster-btn" href="#">\n			<i class="glyphicon pencil"></i> '
,o="Change Poster",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n		<a class="btn btn-inverse change-background-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Background",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"\n		</a>\n		",a=n.showDelete,o=a||t.showDelete,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span6">\n				'
,o={},u="title",o.name=u,u="Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.title,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.title,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="titleSort",o.name=u,u="Sort Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.titleSort
,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.titleSort,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span4">\n				',o={},u="contentRating",o.name=u,u="Content Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.contentRating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||
u===undefined||u===!1?u:u.contentRating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span3">\n				',o={},u="rating",o.name=u,u="Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.rating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.rating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof 
u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span5">\n				',o={},u="originallyAvailableAt",o.name=u,u="Originally Available",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput"
,f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary",o.name=u,u="Summary",o.label=u,u="textarea",o.type=u,u="8",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span6">\n				'
,o={},u="writer",o.name=u,u="Writers",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Writer,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.writer,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="director",o.name=u,u="Directors",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Director
,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.director,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n',s})}),define("plex/view/edit/EditEpisodeView"
,["hb!templates/edit/EditEpisodeView.tpl","plex/view/edit/BaseEditView"],function(e,t){var n=t.extend({tpl:e,tagNames:["director","writer"],bindings:{".episode-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_wide.png");if(!t)return;var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return n}),define("hb!templates/edit/EditAlbumView.tpl",["handlebars"],function(e){return e
.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="album-poster poster large-poster">\n\n		<a class="btn btn-inverse change-poster-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Poster",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n		<a class="btn btn-inverse change-background-btn" href="#">\n			<i class="glyphicon pencil"></i> '
,o="Change Background",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span5">\n				',o={},u="title",o.name=u,u="Album",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.title,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.title,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof 
u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span5">\n				',o={},u="titleSort",o.name=u,u="Sort Album",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.titleSort,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.titleSort,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span2">\n				'
,o={},u="year",o.name=u,u="Year",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.year,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.year,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span5">\n				',o={},u="originallyAvailableAt",o.name=u,u="Release Date",o.label=u,a=n.media,u=a||
t.media,u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.originallyAvailableAt,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span3">\n				',o={},u="rating",o.name=u,u="Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.rating,o.value=u,a=n.locked,u=a||t.locked
,u=u===null||u===undefined||u===!1?u:u.rating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span4">\n				',o={},u="contentRating",o.name=u,u="Content Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.contentRating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.contentRating,o.locked=u,a=n.lockableTextInput,u=a||
t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span6">\n				',o={},u="genre",o.name=u,u="Genres",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Genre,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.genre,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput"
,f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="studio",o.name=u,u="Record Label",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.studio,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.studio,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary"
,o.name=u,u="Review",o.label=u,u="textarea",o.type=u,u="6",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n'
,s})}),define("plex/view/edit/EditAlbumView",["hb!templates/edit/EditAlbumView.tpl","plex/view/edit/BaseEditView"],function(e,t){var n=t.extend({tpl:e,tagNames:["genre"],bindings:{".album-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");if(!t)return;var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return n}),define("hb!templates/edit/EditArtistView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="artist-poster poster large-poster">\n\n		<a class="btn btn-inverse change-poster-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Poster",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}
):o=u,s+=d(o)+'\n		</a>\n		<a class="btn btn-inverse change-background-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Background",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span6">\n				',o={},u="title",o.name=u,u="Artist",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.title,o.value=u,a=n.locked,u=a||t.locked
,u=u===null||u===undefined||u===!1?u:u.title,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="titleSort",o.name=u,u="Sort Artist",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.titleSort,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.titleSort,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput
,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span9">\n				',o={},u="tagline",o.name=u,u="Tagline",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.tagline,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.tagline,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput"
,f):o=u,s+=d(o)+'\n			</div>\n			<div class="span3">\n				',o={},u="rating",o.name=u,u="Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.rating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.rating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary"
,o.name=u,u="Biography",o.label=u,u="textarea",o.type=u,u="8",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="collection",o.name=u,u="Collections",
o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Collection,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.collection,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n'
,s})}),define("plex/view/edit/EditArtistView",["hb!templates/edit/EditArtistView.tpl","plex/view/edit/BaseEditView"],function(e,t){var n=t.extend({tpl:e,tagNames:["collection"],bindings:{".artist-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");if(!t)return;var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return n}),define("hb!templates/edit/EditTrackView.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;return r+='\n			<a class="btn btn-danger delete-btn" href="#">\n				<i class="glyphicon ban"></i> ',i="Delete",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n			</a>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="track-poster poster large-poster">\n\n		<a class="btn btn-inverse change-poster-btn" href="#">\n			<i class="glyphicon pencil"></i> '
,o="Change Poster",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'\n		</a>\n		<a class="btn btn-inverse change-background-btn" href="#">\n			<i class="glyphicon pencil"></i> ',o="Change Background",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+"\n		</a>\n		",a=n.showDelete,o=a||t.showDelete,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+='\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span12">\n				'
,o={},u="title",o.name=u,u="Track",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.title,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.title,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span9">\n				',o={},u="originalTitle",o.name=u,u="Artist",o.label=u,a=n.media,u=a||t.media,
u=u===null||u===undefined||u===!1?u:u.originalTitle,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.originalTitle,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span3">\n				',o={},u="rating",o.name=u,u="Rating",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.rating,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||
u===!1?u:u.rating,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary",o.name=u,u="Lyrics",o.label=u,u="textarea",o.type=u,u="6",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=n
.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span6">\n				',o={},u="writer",o.name=u,u="Writers",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Writer,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.writer,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u
.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span6">\n				',o={},u="director",o.name=u,u="Producers",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.Director,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.director,o.locked=u,a=n.lockableTagInput,u=a||t.lockableTagInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTagInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n'
,s})}),define("plex/view/edit/EditTrackView",["hb!templates/edit/EditTrackView.tpl","plex/control/Dispatcher","plex/view/edit/BaseEditView"],function(e,t,n){var r=n.extend({tpl:e,tagNames:["writer","director"],navigateToDetails:function(){t.trigger("navigate:details",this.model.server.id,this.model.section.id,this.model.get("parentRatingKey"))},bindings:{".track-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");if(!t)return;var n=Handlebars
.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return r}),define("hb!templates/edit/EditPhotoView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<div class="details-row row-fluid">\n	<div class="details-controls">\n		<img class="photo-poster poster large-poster">\n	</div>\n\n	<form class="edit-metadata-form">\n		<div class="row-fluid">\n			<div class="span5">\n				'
,o={},u="title",o.name=u,u="Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.title,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.title,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span5">\n				',o={},u="titleSort",o.name=u,u="Sort Title",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.titleSort
,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.titleSort,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n			<div class="span2">\n				',o={},u="year",o.name=u,u="Year",o.label=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.year,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.year,o.locked=u,a=n.lockableTextInput,u=a||
t.lockableTextInput,f={},f.hash=o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n\n		<div class="row-fluid">\n			<div class="span12">\n				',o={},u="summary",o.name=u,u="Summary",o.label=u,u="textarea",o.type=u,u="8",o.rows=u,a=n.media,u=a||t.media,u=u===null||u===undefined||u===!1?u:u.summary,o.value=u,a=n.locked,u=a||t.locked,u=u===null||u===undefined||u===!1?u:u.summary,o.locked=u,a=n.lockableTextInput,u=a||t.lockableTextInput,f={},f.hash=
o,typeof u===c?o=u.call(t,f):u===p?o=h.call(t,"lockableTextInput",f):o=u,s+=d(o)+'\n			</div>\n		</div>\n	</form>\n</div>\n\n<div class="banner edit-metadata-form-actions">\n	<button type="submit" class="btn btn-medium btn-primary">Save</button>\n	<button class="btn btn-medium btn-inverse cancel-btn">Cancel</button>\n</div>\n',s})}),define("plex/view/edit/EditPhotoView",["hb!templates/edit/EditPhotoView.tpl","plex/view/edit/BaseEditView"],function(e,t){var n=t.extend({tpl:e,bindings:{".photo-poster"
:{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_square.png");if(!t)return;var n=Handlebars.helpers.transcodeImage.call(this,this.model.server,t,280,420);e.data("original",n),this.trigger("change:poster")}}}});return n}),define("plex/view/edit/EditView",["hb!templates/details/DetailsView.tpl","plex/control/Dispatcher","plex/view/BaseView","plex/view/edit/EditMovieView","plex/view/edit/EditShowView","plex/view/edit/EditSeasonView","plex/view/edit/EditEpisodeView"
,"plex/view/edit/EditAlbumView","plex/view/edit/EditArtistView","plex/view/edit/EditTrackView","plex/view/edit/EditPhotoView","plex/view/details/UnknownDetailsView","lazyload"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h=n.extend({className:"container-fluid container-fluid-full",editView:null,initialize:function(){var e=this.model.get("type");switch(e){case"movie":this.editView=this.registerView(new r({model:this.model}));break;case"show":this.editView=this.registerView(new i({model:this.model}));break;
case"season":this.editView=this.registerView(new s({model:this.model}));break;case"episode":this.editView=this.registerView(new o({model:this.model}));break;case"album":this.editView=this.registerView(new u({model:this.model}));break;case"artist":this.editView=this.registerView(new a({model:this.model}));break;case"track":this.editView=this.registerView(new f({model:this.model}));break;case"photo":this.editView=this.registerView(new l({model:this.model}));break;default:this.$el.addClass("error-container"
),this.editView=this.registerView(new c({model:this.model}))}this.loadPosterDelay=_.debounce(this.loadPoster,500),this.addBinding(this.editView,"change:poster",this.loadPosterDelay)},render:function(){return this.$el.html(e({serverURL:this.model.server.url(),serverObj:this.model.server,media:this.model.toJSON()})),this.$el.prepend(this.editView.render().el),this.bindView(),this},loadPoster:function(){this.$(".poster").lazyload({threshold:100})},bindings:{".fanart":{modelAttr:"art",hideEmpty:!0,format
:function(e,t){t?(e.removeClass("hide"),e.css("background-image","url("+Handlebars.helpers.transcodeImage.call(this,this.model.server,t,1280,720)+")"),this.$(".fanart-overlay").removeClass("hide")):(e.addClass("hide"),this.$(".fanart-overlay").addClass("hide"))}}}});return h}),define("hb!templates/players/VideoPlayerView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t){var r="",i;return r+='\n	<video id="video-player" src="',f=n.url,i=f||e.url,typeof i===h?i=i
.call(e,{hash:{}}):i===d&&(i=p.call(e,"url",{hash:{}})),r+=v(i)+'" width="860" height="485" autoplay controls></video>\n',r}function g(e,t){var r="",i,s;r+="\n	",f=n.showFlash,i=f||e.showFlash,s=n["if"],l=c.program(4,y,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n",r}function y(e,t){return'\n		<div id="video-player"></div>\n	'}function b(e,t){var r="",i,s;r+="\n		",f=n.showRecommend,i=f||e.showRecommend,s=n["if"],l=c.program(7,w,t),l.hash={},l.fn=l,l.inverse=
c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;r+="\n\n		",f=n.showShare,i=f||e.showShare,s=n["if"],l=c.program(9,E,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n	",r}function w(e,t){var r="",i,s;return r+='\n			<a class="recommend-btn player-action-btn" href="#"><i class="glyphicon share-alt"></i> ',i="Recommend",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a>\n		",r}function E(e,t){var r="",i,s;return r+='\n			<a class="share-btn player-action-btn" href="#"><i class="glyphicon share"></i> '
,i="Share",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+"</a>\n		",r}function S(e,t){var r="",i,s;r+="\n			",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.grandparentTitle,s=n["if"],l=c.program(12,x,t),l.hash={},l.fn=l,l.inverse=c.program(14,T,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n		",r}function x(e,t){var r="",i;return r+='\n				<a class="primary" href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e
,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/details/",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.grandparentRatingKey,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.grandparentRatingKey",{hash:{}})),r+=v(i)+'">',f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.grandparentTitle,typeof i===h?i=i.call(e,{hash
:{}}):i===d&&(i=p.call(e,"media.grandparentTitle",{hash:{}})),r+=v(i)+'</a> <a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:{}})),r+=v(i)+"/details/",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.ratingKey",{hash
:{}})),r+=v(i)+'">',f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.title,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.title",{hash:{}})),r+=v(i)+"</a>\n			",r}function T(e,t){var r="",i;return r+='\n				<a class="primary" href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/sections/",f=n.sectionID,i=f||e.sectionID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"sectionID",{hash:
{}})),r+=v(i)+"/details/",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.ratingKey,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.ratingKey",{hash:{}})),r+=v(i)+'">',f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.title,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.title",{hash:{}})),r+=v(i)+"</a>\n			",r}function N(e,t){var r="",i,s,o;return r+='\n			<span class="primary">',i=40,f=n.media,s=f||e.media,s=s===null||s===undefined||s===!1?s:s.title
,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+"</span>\n		",r}function C(e,t){var r="",i,s,o,u,a;return r+='\n			<img class="player-poster poster" data-original="img/posters/poster.png" src="',i=200,s=133,f=n.media,o=f||e.media,o=o===null||o===undefined||o===!1?o:o.grandparentThumb,f=n.serverObj,u=f||e.serverObj,f=n.transcodeImage,a=f||e.transcodeImage,typeof a===h?i=a.call(e,u,o,s,i,{hash:{}}):a===d?i=p.call(e,"transcodeImage"
,u,o,s,i,{hash:{}}):i=a,r+=v(i)+'">\n		',r}function k(e,t){var r,i;return f=n.media,r=f||e.media,r=r===null||r===undefined||r===!1?r:r.thumb,i=n["if"],l=c.program(21,L,t),l.hash={},l.fn=l,l.inverse=c.noop,r=i.call(e,r,l),r||r===0?r:""}function L(e,t){var r="",i,s,o,u,a;return r+='\n			<img class="player-poster poster" data-original="img/posters/poster.png" src="',i=200,s=133,f=n.media,o=f||e.media,o=o===null||o===undefined||o===!1?o:o.thumb,f=n.serverObj,u=f||e.serverObj,f=n.transcodeImage,a=f||e
.transcodeImage,typeof a===h?i=a.call(e,u,o,s,i,{hash:{}}):a===d?i=p.call(e,"transcodeImage",u,o,s,i,{hash:{}}):i=a,r+=v(i)+'">\n		',r}function A(e,t){var r="",i,s;r+="\n				",i="Season",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+" ",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.parentIndex,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.parentIndex",{hash:{}})),r+=v(i),f=n.media,i=f||e.media,i=i===null||i===undefined||
i===!1?i:i.index,s=n["if"],l=c.program(24,O,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+=" &nbsp;&middot;&nbsp;\n			",r}function O(e,t){var r="",i,s;return r+=", ",i="Episode",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+" ",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.index,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.index",{hash:{}})),r+=v(i),r}function M(e,t){var r="",i,s;return r+="\n				"
,f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.originallyAvailableAt,f=n.formatDate,s=f||e.formatDate,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"formatDate",i,{hash:{}}):i=s,r+=v(i)+"\n			",r}function _(e,t){var r="",i,s;r+="\n				",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.year,s=n["if"],l=c.program(29,D,t),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l);if(i||i===0)r+=i;return r+="\n			",r}function D(e,t){var r="",i;return r+="\n					",f=n.media,i=
f||e.media,i=i===null||i===undefined||i===!1?i:i.year,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"media.year",{hash:{}})),r+=v(i)+"\n				",r}function P(e,t){var r="",i,s;return r+="\n				&nbsp;&middot;&nbsp; ",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.duration,f=n.formatMinutes,s=f||e.formatMinutes,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"formatMinutes",i,{hash:{}}):i=s,r+=v(i)+"\n			",r}function H(e,t){var r="",i,s;r+='\n				<span class="rating">',f=n.
media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.rating,f=n.starRating,s=f||e.starRating,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"starRating",i,{hash:{}}):i=s;if(i||i===0)r+=i;return r+="</span>\n			",r}function B(e,t){var r="",i,s;return r+="\n			<h2>",i="Season",f=n.t,s=f||e.t,typeof s===h?i=s.call(e,i,{hash:{}}):s===d?i=p.call(e,"t",i,{hash:{}}):i=s,r+=v(i)+" ",f=n.media,i=f||e.media,i=i===null||i===undefined||i===!1?i:i.parentIndex,typeof i===h?i=i.call(e,{hash:{}}):i===
d&&(i=p.call(e,"media.parentIndex",{hash:{}})),r+=v(i)+"</h2>\n		",r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression;f=n.showHTML5,o=f||t.showHTML5,u=n["if"],l=c.program(1,m,i),l.hash={},l.fn=l,l.inverse=c.program(3,g,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n<div class="video-details">\n	<a class="details-btn player-action-btn" href="#"><i class="glyphicon circle-info"></i> ',o="Details",f=n.t,u=f||t.t,typeof u===h?o=u.call(t,o,{hash:{}}
):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+"</a>\n\n	",f=n.sectionID,o=f||t.sectionID,u=n.unless,l=c.program(6,b,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n\n	<h2>\n		",f=n.sectionID,o=f||t.sectionID,u=n["if"],l=c.program(11,S,i),l.hash={},l.fn=l,l.inverse=c.program(16,N,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n	</h2>\n\n	<div class="video-more-details">\n		',f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.grandparentThumb,u=n["if"],l=c.program(18
,C,i),l.hash={},l.fn=l,l.inverse=c.program(20,k,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n\n		<div class="metadata">\n			',f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.parentIndex,u=n["if"],l=c.program(23,A,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n\n			",f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.originallyAvailableAt,u=n["if"],l=c.program(26,M,i),l.hash={},l.fn=l,l.inverse=c.program(28,_,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n\n			"
,f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.duration,u=n["if"],l=c.program(31,P,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n\n			",f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.rating,u=n["if"],l=c.program(33,H,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n		</div>\n\n		<p class="summary">',o=700,f=n.media,u=f||t.media,u=u===null||u===undefined||u===!1?u:u.summary,f=n.truncate,a=f||t.truncate,typeof a===
h?o=a.call(t,u,o,{hash:{}}):a===d?o=p.call(t,"truncate",u,o,{hash:{}}):o=a,s+=v(o)+"</p>\n\n		",f=n.media,o=f||t.media,o=o===null||o===undefined||o===!1?o:o.parentIndex,u=n["if"],l=c.program(35,B,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;return s+="\n	</div>\n</div>\n",s})}),define("hb!templates/modals/SelectMediaModal.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t,r){var i="",s,o,u;i+="\n			",s="videoResolution",a=n.type,o=a||r.type
,a=n.if_eq,u=a||e.if_eq,f=l.program(2,g,t),f.hash={},f.fn=f,f.inverse=l.program(4,y,t),a&&typeof u===c?s=u.call(e,o,s,f):s=v.call(e,u,o,s,f);if(s||s===0)i+=s;return i+="\n		",i}function g(e,t){var r="",i,s;return r+='\n				<li><a class="resolution" data-resolution="',i=e,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"this",{hash:{}})),r+=d(i)+'" href="#">',i=e,a=n.formatResolution,s=a||e.formatResolution,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatResolution",i,{hash:{}})
:i=s,r+=d(i)+"</a></li>\n			",r}function y(e,t){var r="",i,s;return r+='\n				<li><a class="bitrate" data-resolution="',i=e,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"this",{hash:{}})),r+=d(i)+'" href="#">',i=e,a=n.formatBitrate,s=a||e.formatBitrate,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"formatBitrate",i,{hash:{}}):i=s,r+=d(i)+"</a></li>\n			",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression,v=n.blockHelperMissing
;s+='<div class="modal-header">\n	<button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button>\n	<h3>',o="Select a Quality",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"t",o,{hash:{}}):o=u,s+=d(o)+'</h3>\n</div>\n\n<div class="modal-body minimal-light-scrollbar">\n	<ul class="select-list">\n		',a=n.options,o=a||t.options,u=n.each,f=l.programWithDepth(m,i,t),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n	</ul>\n</div>\n"
,s})}),define("plex/view/modals/SelectMediaModal",["hb!templates/modals/SelectMediaModal.tpl","plex/control/Dispatcher","plex/view/BaseView","jquery"],function(e,t,n,r){var i=n.extend({name:"selectMediaModal",className:"modal modal-small select-modal fade",media:null,events:{hidden:"onClose","click .resolution":"onResolutionClick","click .bitrate":"onBitrateClick"},initialize:function(e){this.media=e.media},render:function(){var t="videoResolution",n=_.uniq(_.pluck(this.media,t));return n.length<2&&
(t="bitrate",n=_.uniq(_.pluck(this.media,t))),this.$el.html(e({type:t,options:n})).modal(),this},onClose:function(e){this.trigger("select:media",this.media[0]),t.trigger("destroy:modal",this)},onResolutionClick:function(e){e.preventDefault();var t=r(e.target).data("resolution"),n=this.media[0];_.each(this.media,function(e){e.videoResolution==t&&(n=e)}),this.trigger("select:media",n),this.$el.modal("hide")},onBitrateClick:function(e){e.preventDefault();var t=r(e.target).data("bitrate"),n=this.media
[0];_.each(this.media,function(e){e.bitrate==t&&(n=e)}),this.trigger("select:media",n),this.$el.modal("hide")}});return i}),define("hb!templates/lists/media/items/EpisodeTileListItem.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<a class="card-container" href="#!/servers/',u=n.serverID,o=u||t.serverID,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"serverID"
,{hash:{}})),s+=h(o)+"/sections/",u=n.sectionID,o=u||t.sectionID,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"sectionID",{hash:{}})),s+=h(o)+"/player/",u=n.episode,o=u||t.episode,o=o===null||o===undefined||o===!1?o:o.ratingKey,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"episode.ratingKey",{hash:{}})),s+=h(o)+'" data-id="',u=n.episode,o=u||t.episode,o=o===null||o===undefined||o===!1?o:o.ratingKey,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"episode.ratingKey",{hash:{
}})),s+=h(o)+'">\n	<img class="episode-poster poster">\n\n	<div class="card-overlay">\n		<h4 class="episode-title"></h4>\n\n		<p class="card-details"></p>\n	</div>\n</a>\n',s})}),define("plex/view/lists/media/items/EpisodeTileListItem",["hb!templates/lists/media/items/EpisodeTileListItem.tpl","plex/control/utils/LocalizationUtil","plex/view/BaseView"],function(e,t,n){var r=n.extend({tagName:"li",className:"episode",render:function(){return this.$el.html(e({serverID:this.model.server.id,serverURL:
this.model.server.url(),serverObj:this.model.server,sectionID:this.model.section.id,episode:this.model.toJSON()})),this.bindView(),this},bindings:{".episode-title":{modelAttr:"title",format:function(e,t){return Handlebars.helpers.truncate.call(this,t,35)}},".episode-poster":{modelAttr:"thumb",format:function(e,t){e.attr("src")||e.attr("src","img/posters/poster_wide.png");var n=t||this.model.get("grandparentThumb"),r=window.devicePixelRatio?window.devicePixelRatio:1,i=200*r,s=200*r;if(!n)return;var o=
Handlebars.helpers.transcodeImage.call(this,this.model.server,n,i,s);e.data("original",o),this.trigger("change:poster")}},".card-details":{modelAttr:"index",format:function(e,n){if(n>0)return t.t("Episode")+" "+n;var r=this.model.get("originallyAvailableAt");return Handlebars.helpers.formatDateCustom.call(this,r,"D/M/YY")}}}});return r}),define("plex/view/lists/media/EpisodeTileList",["plex/view/lists/BaseList","plex/view/lists/media/items/EpisodeTileListItem"],function(e,t){var n=e.extend({tagName
:"ul",className:"tile-list episode-tile-list",initialize:function(){this.setup(t),this.loadPosterThrottle=_.throttle(_.debounce(this.loadPoster,500),100),this.collection.fetch()},render:function(){return this.$el.empty(),this.populate(this.collection),this},addItem:function(t,n,r){var i=e.prototype.addItem.apply(this,arguments);this.addBinding(i,"change:poster",this.loadPosterThrottle),this.loadPosterThrottle()},loadPoster:function(){this.$(".poster").lazyload({threshold:100})}});return n}),typeof 
jwplayer=="undefined"&&(jwplayer=function(e){if(jwplayer.api)return jwplayer.api.selectPlayer(e)},jwplayer.version="6.1.2972",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(e){function a(e){if(!u.exists(e))return;var t=e.indexOf("://"),n=e.indexOf("?");return t>0&&(n<0||n>t)}function l(e){return function(){return f(e)}}var t=document,n=window,r=navigator,i="undefined",s="string",o="object",u=e.utils=
function(){};u.exists=function(e){switch(typeof e){case s:return e.length>0;case o:return e!==null;case i:return!1}return!0},u.styleDimension=function(e){return e+(e.toString().indexOf("%")>0?"":"px")},u.getAbsolutePath=function(e,n){u.exists(n)||(n=t.location.href);if(!u.exists(e))return undefined;if(a(e))return e;var r=n.substring(0,n.indexOf("://")+3),i=n.substring(r.length,n.indexOf("/",r.length+1)),s;if(e.indexOf("/")===0)s=e.split("/");else{var o=n.split("?")[0];o=o.substring(r.length+i.length+1
,o.lastIndexOf("/")),s=o.split("/").concat(e.split("/"))}var f=[];for(var l=0;l<s.length;l++){if(!s[l]||!u.exists(s[l])||s[l]==".")continue;s[l]==".."?f.pop():f.push(s[l])}return r+i+"/"+f.join("/")},u.extend=function(){var e=u.extend.arguments;if(e.length>1){for(var t=1;t<e.length;t++)for(var n in e[t])try{u.exists(e[t][n])&&(e[0][n]=e[t][n])}catch(r){}return e[0]}return null},u.log=function(e,t){typeof console!=i&&typeof console.log!=i&&(t?console.log(e,t):console.log(e))};var f=u.userAgentMatch=
function(e){var t=r.userAgent.toLowerCase();return t.match(e)!==null};u.isIE=l(/msie/i),u.isFF=l(/firefox/i),u.isChrome=l(/chrome/i),u.isIOS=l(/iP(hone|ad|od)/i),u.isIPod=l(/iP(hone|od)/i),u.isIPad=l(/iPad/i),u.isAndroid=function(e){return e?f(new RegExp("android.*"+e,"i")):f(/android/i)},u.isMobile=function(){return u.isIOS()||u.isAndroid()},u.saveCookie=function(e,n){t.cookie="jwplayer."+e+"="+n+"; path=/"},u.getCookies=function(){var e={},n=t.cookie.split("; ");for(var r=0;r<n.length;r++){var i=
n[r].split("=");i[0].indexOf("jwplayer.")==0&&(e[i[0].substring(9,i[0].length)]=i[1])}return e},u.typeOf=function(e){var t=typeof e;return t==="object"?e?e instanceof Array?"array":t:"null":t},u.translateEventResponse=function(t,n){var r=u.extend({},n);t==e.events.JWPLAYER_FULLSCREEN&&!r.fullscreen?(r.fullscreen=r.message=="true"?!0:!1,delete r.message):typeof r.data==o?(r=u.extend(r,r.data),delete r.data):typeof r.metadata==o&&u.deepReplaceKeyName(r.metadata,["__dot__","__spc__","__dsh__"],["."," "
,"-"]);var i=["position","duration","offset"];for(var s in i)r[i[s]]&&(r[i[s]]=Math.round(r[i[s]]*1e3)/1e3);return r},u.flashVersion=function(){if(u.isAndroid())return 0;var e=r.plugins,t;if(e!=i){t=e["Shockwave Flash"];if(t)return parseInt(t.description.replace(/\D+(\d+)\..*/,"$1"))}if(typeof n.ActiveXObject!=i)try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(t)return parseInt(t.GetVariable("$version").split(" ")[1].split(",")[0])}catch(s){}return 0},u.getScriptPath=function(e){var n=
t.getElementsByTagName("script");for(var r=0;r<n.length;r++){var i=n[r].src;if(i&&i.indexOf(e)>=0)return i.substr(0,i.indexOf(e))}return""},u.deepReplaceKeyName=function(t,n,r){switch(e.utils.typeOf(t)){case"array":for(var i=0;i<t.length;i++)t[i]=e.utils.deepReplaceKeyName(t[i],n,r);break;case o:for(var s in t){var u,a;if(n instanceof Array&&r instanceof Array){if(n.length!=r.length)continue;u=n,a=r}else u=[n],a=[r];var f=s;for(var i=0;i<u.length;i++)f=f.replace(new RegExp(n[i],"g"),r[i]);t[f]=e.
utils.deepReplaceKeyName(t[s],n,r),s!=f&&delete t[s]}}return t};var c=u.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};u.getPluginPathType=function(e){if(typeof e!=s)return;e=e.split("?")[0];var t=e.indexOf("://");if(t>0)return c.ABSOLUTE;var n=e.indexOf("/"),r=u.extension(e);return t<0&&n<0&&(!r||!isNaN(r))?c.CDN:c.RELATIVE},u.getPluginName=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},u.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\.]*).*$/,"$1")},u.isYouTube=function(
e){return e.indexOf("youtube.com")>-1||e.indexOf("youtu.be")>-1},u.isRtmp=function(e,t){return e.indexOf("rtmp")==0||t=="rtmp"},u.foreach=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n)},u.isHTTPS=function(){return n.location.href.indexOf("https")==0}}(jwplayer),function(e){var t="video/",n="audio/",r="image",i="mp4",s="webm",o="ogg",u="aac",a="mp3",f="vorbis",l={mp4:t+i,vorbis:n+o,ogg:t+o,webm:t+s,aac:n+i,mp3:n+"mpeg",hls:"application/vnd.apple.mpegurl"},c={mp4:l[i],f4v:l[i],m4v:l[i],mov:
l[i],m4a:l[u],f4a:l[u],aac:l[u],mp3:l[a],ogv:l[o],ogg:l[f],oga:l[f],webm:l[s],m3u8:l.hls},t="video",h={flv:t,f4v:t,mov:t,m4a:t,m4v:t,mp4:t,aac:t,f4a:t,mp3:"sound",smil:"rtmp",m3u8:"hls"},p=e.extensionmap={};for(var d in c)p[d]={html5:c[d]};for(d in h)p[d]||(p[d]={}),p[d].flash=h[d];p.types=l,p.mimeType=function(e){for(var t in l)if(l[t]==e)return t},p.extType=function(e){return p.mimeType(c[e])}}(jwplayer.utils),function(e){var t=e.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},n=document;e.scriptloader=
function(r){function u(e){i=t.ERROR,o.sendEvent(s.ERROR)}function f(e){i=t.COMPLETE,o.sendEvent(s.COMPLETE)}var i=t.NEW,s=jwplayer.events,o=new s.eventdispatcher;e.extend(this,o),this.load=function(){var o=e.scriptloader.loaders[r];if(!(!o||o.getStatus()!=t.NEW&&o.getStatus()!=t.LOADING)){o.addEventListener(s.ERROR,u),o.addEventListener(s.COMPLETE,f);return}e.scriptloader.loaders[r]=this;if(i==t.NEW){i=t.LOADING;var l=n.createElement("script");l.addEventListener?(l.onload=f,l.onerror=u):l.readyState&&
(l.onreadystatechange=function(){(l.readyState=="loaded"||l.readyState=="complete")&&f()}),n.getElementsByTagName("head")[0].appendChild(l),l.src=r}},this.getStatus=function(){return i}},e.scriptloader.loaders={}}(jwplayer.utils),function(e){e.trim=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},e.pad=function(e,t,n){n||(n="0");while(e.length<t)e=n+e;return e},e.xmlAttribute=function(e,t){for(var n=0;n<e.attributes.length;n++)if(e.attributes[n].name&&e.attributes[n].name.toLowerCase()==
t.toLowerCase())return e.attributes[n].value.toString();return""},e.extension=function(e){if(!e||e.substr(0,4)=="rtmp")return"";e=e.substring(e.lastIndexOf("/")+1,e.length).split("?")[0].split("#")[0];if(e.lastIndexOf(".")>-1)return e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase()},e.stringToColor=function(e){return e=e.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),e.length==3&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)}}(jwplayer.utils),function(e
){var t="invalid",n="36QXq4W@GSBV^teR";e.key=function(r){function u(n){e.exists(n)||(n="");try{n=f(n);var r=n.split("/");i=r[0],i?e.key.valid.indexOf(i)<0&&(i=t):i="free",s=r[1],r[2]&&parseInt(r[2])>0&&(o=new Date,o.setTime(String(r[2])))}catch(u){i=t}}function f(t){return e.tea.decrypt(t,n)}var i,s,o;this.edition=function(){return o&&o.getTime()<(new Date).getTime()?t:i},this.token=function(){return s},u(r)},e.key.valid=["free","pro"]}(jwplayer.utils),function(e){e.key.valid=["premium","ads"]}(jwplayer
.utils),function(e){var t=e.tea={};t.encrypt=function(e,i){if(e.length==0)return"";var s=t.strToLongs(r.encode(e));s.length<=1&&(s[1]=0);var o=t.strToLongs(r.encode(i).slice(0,16)),u=s.length,f=s[u-1],l=s[0],h=2654435769,p,v,m=Math.floor(6+52/u),g=0;while(m-->0){g+=h,v=g>>>2&3;for(var y=0;y<u;y++)l=s[(y+1)%u],p=(f>>>5^l<<2)+(l>>>3^f<<4)^(g^l)+(o[y&3^v]^f),f=s[y]+=p}var b=t.longsToStr(s);return n.encode(b)},t.decrypt=function(e,i){if(e.length==0)return"";var s=t.strToLongs(n.decode(e)),o=t.strToLongs
(r.encode(i).slice(0,16)),u=s.length,f=s[u-1],l=s[0],h=2654435769,p,v,m=Math.floor(6+52/u),g=m*h;while(g!=0){v=g>>>2&3;for(var y=u-1;y>=0;y--)f=s[y>0?y-1:u-1],p=(f>>>5^l<<2)+(l>>>3^f<<4)^(g^l)+(o[y&3^v]^f),l=s[y]-=p;g-=h}var b=t.longsToStr(s);return b=b.replace(/\0+$/,""),r.decode(b)},t.strToLongs=function(e){var t=new Array(Math.ceil(e.length/4));for(var n=0;n<t.length;n++)t[n]=e.charCodeAt(n*4)+(e.charCodeAt(n*4+1)<<8)+(e.charCodeAt(n*4+2)<<16)+(e.charCodeAt(n*4+3)<<24);return t},t.longsToStr=function(
e){var t=new Array(e.length);for(var n=0;n<e.length;n++)t[n]=String.fromCharCode(e[n]&255,e[n]>>>8&255,e[n]>>>16&255,e[n]>>>24&255);return t.join("")};var n={};n.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode=function(e,t){t=typeof t=="undefined"?!1:t;var i,s,o,u,f,l,c,h,p=[],v="",m,g,y,b=n.code;g=t?r.encode(e):e,m=g.length%3;if(m>0)while(m++<3)v+="=",g+="\0";for(m=0;m<g.length;m+=3)i=g.charCodeAt(m),s=g.charCodeAt(m+1),o=g.charCodeAt(m+2),u=i<<16|s<<8|o,f=u>>18&63
,l=u>>12&63,c=u>>6&63,h=u&63,p[m/3]=b.charAt(f)+b.charAt(l)+b.charAt(c)+b.charAt(h);return y=p.join(""),y=y.slice(0,y.length-v.length)+v,y},n.decode=function(e,t){t=typeof t=="undefined"?!1:t;var i,s,o,u,f,l,c,h,p=[],v,m,g=n.code;m=t?r.decode(e):e;for(var y=0;y<m.length;y+=4)u=g.indexOf(m.charAt(y)),f=g.indexOf(m.charAt(y+1)),l=g.indexOf(m.charAt(y+2)),c=g.indexOf(m.charAt(y+3)),h=u<<18|f<<12|l<<6|c,i=h>>>16&255,s=h>>>8&255,o=h&255,p[y/4]=String.fromCharCode(i,s,o),c==64&&(p[y/4]=String.fromCharCode
(i,s)),l==64&&(p[y/4]=String.fromCharCode(i));return v=p.join(""),t?r.decode(v):v};var r={};r.encode=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|t&63)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|t&63)}),t},r.decode=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(e.charCodeAt(0)&15)<<12|(e.charCodeAt
(1)&63)<<6|e.charCodeAt(2)&63;return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(e.charCodeAt(0)&31)<<6|e.charCodeAt(1)&63;return String.fromCharCode(t)}),t}}(jwplayer.utils),function(e){e.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",
JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume"
,JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE
:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"}}(jwplayer),function(e){var t=jwplayer.utils;e.eventdispatcher=function(e,n){var r=e,i=n,s,o;this.resetEventListeners=function(){s={},o=[]},this.resetEventListeners(),this.addEventListener=function(e,n,r){try{t.exists(s[e])||(s[e]=[]),t.typeOf(n)=="string"&&(n=(new Function("return "+
n))()),s[e].push({listener:n,count:r})}catch(i){t.log("error",i)}return!1},this.removeEventListener=function(e,n){if(!s[e])return;try{for(var r=0;r<s[e].length;r++)if(s[e][r].listener.toString()==n.toString()){s[e].splice(r,1);break}}catch(i){t.log("error",i)}return!1},this.addGlobalListener=function(e,n){try{t.typeOf(e)=="string"&&(e=(new Function("return "+e))()),o.push({listener:e,count:n})}catch(r){t.log("error",r)}return!1},this.removeGlobalListener=function(e){if(!e)return;try{for(var n=0;n<
o.length;n++)if(o[n].listener.toString()==e.toString()){o.splice(n,1);break}}catch(r){t.log("error",r)}return!1},this.sendEvent=function(e,n){t.exists(n)||(n={}),t.extend(n,{id:r,version:jwplayer.version,type:e}),i&&t.log(e,n);if(t.typeOf(s[e])!="undefined")for(var u=0;u<s[e].length;u++){try{s[e][u].listener(n)}catch(a){t.log("There was an error while handling a listener: "+a.toString(),s[e][u].listener)}s[e][u]&&(s[e][u].count===1?delete s[e][u]:s[e][u].count>0&&(s[e][u].count=s[e][u].count-1))}
var l;for(l=0;l<o.length;l++){try{o[l].listener(n)}catch(a){t.log("There was an error while handling a listener: "+a.toString(),o[l].listener)}o[l]&&(o[l].count===1?delete o[l]:o[l].count>0&&(o[l].count=o[l].count-1))}}}}(jwplayer.events),function(e){var t={},n={};e.plugins=function(){},e.plugins.loadPlugins=function(r,i){return n[r]=new e.plugins.pluginloader(new e.plugins.model(t),i),n[r]},e.plugins.registerPlugin=function(n,r,i,s){var o=e.utils.getPluginName(n);t[o]||(t[o]=new e.plugins.plugin
(n)),t[o].registerPlugin(n,r,i,s)}}(jwplayer),function(e){e.plugins.model=function(t){this.addPlugin=function(n){var r=e.utils.getPluginName(n);return t[r]||(t[r]=new e.plugins.plugin(n)),t[r]},this.getPlugins=function(){return t}}}(jwplayer),function(e){var t=jwplayer.utils,n=jwplayer.events,r="undefined";e.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},e.plugin=function(i){function p(){switch(t.getPluginPathType(i)){case t.pluginPathType.ABSOLUTE:return i;case t.pluginPathType.RELATIVE:return t.getAbsolutePath
(i,window.location.href)}}function v(e){l=setTimeout(function(){s=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE)},1e3)}function m(e){s=t.loaderstatus.ERROR,h.sendEvent(n.ERROR)}var s=t.loaderstatus.NEW,o,u,f,l,h=new n.eventdispatcher;t.extend(this,h),this.load=function(){if(s==t.loaderstatus.NEW){if(i.lastIndexOf(".swf")>0){o=i,s=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE);return}if(t.getPluginPathType(i)==t.pluginPathType.CDN){s=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE);return}s=t.loaderstatus
.LOADING;var e=new t.scriptloader(p());e.addEventListener(n.COMPLETE,v),e.addEventListener(n.ERROR,m),e.load()}},this.registerPlugin=function(e,r,i,p){l&&(clearTimeout(l),l=undefined),f=r,i&&p?(o=p,u=i):typeof i=="string"?o=i:typeof i=="function"?u=i:!i&&!p&&(o=e),s=t.loaderstatus.COMPLETE,h.sendEvent(n.COMPLETE)},this.getStatus=function(){return s},this.getPluginName=function(){return t.getPluginName(i)},this.getFlashPath=function(){if(o)switch(t.getPluginPathType(o)){case t.pluginPathType.ABSOLUTE
:return o;case t.pluginPathType.RELATIVE:if(i.lastIndexOf(".swf")>0)return t.getAbsolutePath(o,window.location.href);return t.getAbsolutePath(o,p())}return null},this.getJS=function(){return u},this.getTarget=function(){return f},this.getPluginmode=function(){if(typeof o!=r&&typeof u!=r)return e.pluginmodes.HYBRID;if(typeof o!=r)return e.pluginmodes.FLASH;if(typeof u!=r)return e.pluginmodes.JAVASCRIPT},this.getNewInstance=function(e,t,n){return new u(e,t,n)},this.getURL=function(){return i}}}(jwplayer
.plugins),function(e){var t=e.utils,n=e.events;e.plugins.pluginloader=function(r,i){function d(){f?p.sendEvent(n.ERROR,{message:l}):u||(u=!0,s=t.loaderstatus.COMPLETE,p.sendEvent(n.COMPLETE))}function v(){h||d();if(!u&&!f){var n=0,i=r.getPlugins();for(var s in h){var o=t.getPluginName(s),c=i[o],p=c.getJS(),v=c.getTarget(),m=c.getStatus();m==t.loaderstatus.LOADING||m==t.loaderstatus.NEW?n++:p&&(!v||parseFloat(v)>parseFloat(e.version))&&(f=!0,l="Incompatible player version",d())}n==0&&d()}}var s=t.
loaderstatus.NEW,o=!1,u=!1,f=!1,l,h=i,p=new n.eventdispatcher;t.extend(this,p),this.setupPlugins=function(e,n,i){var s={length:0,plugins:{}},o={length:0,plugins:{}},u=r.getPlugins();for(var f in n.plugins){var l=t.getPluginName(f),c=u[l],h=c.getFlashPath(),p=c.getJS(),d=c.getURL();h&&(s.plugins[h]=t.extend({},n.plugins[f]),s.plugins[h].pluginmode=c.getPluginmode(),s.length++);try{if(p&&n.plugins&&n.plugins[d]){var v=document.createElement("div");v.id=e.id+"_"+l,v.style.position="absolute",v.style
.top=0,v.style.zIndex=o.length+10,o.plugins[l]=c.getNewInstance(e,t.extend({},n.plugins[d]),v),o.length++,e.onReady(i(o.plugins[l],v,!0)),e.onResize(i(o.plugins[l],v))}}catch(m){console.log("ERROR: Failed to load "+l+".")}}return e.plugins=o.plugins,s},this.load=function(){if(t.exists(i)&&t.typeOf(i)!="object"){v();return}s=t.loaderstatus.LOADING,o=!0;for(var e in i)if(t.exists(e)){var u=r.addPlugin(e);u.addEventListener(n.COMPLETE,v),u.addEventListener(n.ERROR,m)}var f=r.getPlugins();for(e in f)
f[e].load();o=!1,v()};var m=this.pluginFailed=function(e){f||(f=!0,l="File not found",d())};this.getStatus=function(){return s}}}(jwplayer),function(e){e.playlist=function(t){var n=[];if(e.utils.typeOf(t)=="array")for(var r=0;r<t.length;r++)n.push(new e.playlist.item(t[r]));else n.push(new e.playlist.item(t));return n}}(jwplayer),function(e){var t=e.item=function(n){var r=jwplayer.utils.extend({},t.defaults,n);r.sources.length==0&&(r.sources=[new e.source(r)]);for(var i=0;i<r.sources.length;i++)r
.sources[i]=new e.source(r.sources[i]);return r};t.defaults={description:"",image:"",mediaid:"",title:"",tags:"",duration:-1,sources:[]}}(jwplayer.playlist),function(e){var t=undefined,n=jwplayer.utils,r={file:t,label:t,bitrate:t,width:t,height:t,type:t};e.source=function(e){var t=n.extend({},r);for(var i in r)n.exists(e[i])&&(t[i]=e[i],delete e[i]);return t.type&&t.type.indexOf("/")>0&&(t.type=n.extensionmap.mimeType(t.type)),t}}(jwplayer.playlist),function(e){var t=e.utils,n=e.events,r=document
,i=e.embed=function(s){function g(e,t){for(var n in t)typeof e[n]=="function"&&e[n].call(e,t[n])}function y(){if(t.typeOf(o.playlist)=="array"&&o.playlist.length<2)if(o.playlist.length==0||!o.playlist[0].sources||o.playlist[0].sources.length==0){x();return}if(m.getStatus()==t.loaderstatus.COMPLETE){for(var e=0;e<o.modes.length;e++)if(o.modes[e].type&&i[o.modes[e].type]){var r=t.extend({},o),f=new i[o.modes[e].type](u,o.modes[e],r,m,s);if(f.supportsConfig())return f.addEventListener(n.ERROR,E),f.embed
(),g(s,r.events),s}o.fallback?(t.log("No suitable players found and fallback enabled"),new i.download(u,o,x)):(t.log("No suitable players found and fallback disabled"),w())}}function w(){u.parentNode.replaceChild(l,u)}function E(e){T(u,v+e.message)}function S(e){T(u,"Could not load plugins: "+e.message)}function x(){T(u,v+"No playable sources found")}function T(e,n){if(!o.fallback)return;var r=e.style;r.backgroundColor="#000",r.color="#FFF",r.width=t.styleDimension(o.width),r.height=t.styleDimension
(o.height),r.display="table",r.opacity=1;var i=document.createElement("p"),s=i.style;s.verticalAlign="middle",s.textAlign="center",s.display="table-cell",s.font="15px/20px Arial, Helvetica, sans-serif",i.innerHTML=n.replace(":",":<br>"),e.innerHTML="",e.appendChild(i)}var o=new i.config(s.config),u,f,l,h=o.width,p=o.height,v="Error loading player: ",m=e.plugins.loadPlugins(s.id,o.plugins);return o.fallbackDiv&&(l=o.fallbackDiv,delete o.fallbackDiv),o.id=s.id,f=r.getElementById(s.id),u=r.createElement
("div"),u.id=f.id,u.style.width=h.toString().indexOf("%")>0?h:h+"px",u.style.height=p.toString().indexOf("%")>0?p:p+"px",f.parentNode.replaceChild(u,f),e.embed.errorScreen=T,m.addEventListener(n.COMPLETE,y),m.addEventListener(n.ERROR,S),m.load(),s}}(jwplayer),function(e){function o(e){if(!e.playlist){var t={};for(var n in r.defaults)u(e,t,n);if(!t.sources)if(e.levels)t.sources=e.levels,delete e.levels;else{var i={};u(e,i,"file"),u(e,i,"type"),t.sources=i.file?[i]:[]}e.playlist=[t]}else for(var s=0
;s<e.playlist.length;s++)e.playlist[s]=new r(e.playlist[s])}function u(e,n,r){t.exists(e[r])&&(n[r]=e[r],delete e[r])}var t=e.utils,n=e.embed,r=e.playlist.item,i=undefined,s=n.config=function(e){var n={fallback:!0,height:270,primary:"html5",width:480,base:e.base?e.base:t.getScriptPath("jwplayer.js")},r=t.extend(n,e),i={html5:{type:"html5",src:r.base+"jwplayer.html5.js"},flash:{type:"flash",src:r.base+"jwplayer.flash.swf"}};return r.modes=r.primary=="flash"?[i.flash,i.html5]:[i.html5,i.flash],r.listbar&&
(r.playlistsize=r.listbar.size,r.playlistposition=r.listbar.position),o(r),r};s.addConfig=function(e,n){return o(n),t.extend(e,n)}}(jwplayer),function(e){var t=e.embed,n=e.utils,r=document,i="pointer",s="none",o="block",u="100%",a="relative",f="absolute";t.download=function(t,i,l){function E(){var t,r,i,s,o=h.playlist,u,a,s,f=["mp4","aac","mp3"];if(!o||!o.length)return;u=o[0],a=u.sources;for(s=0;s<a.length;s++){var c=a[s],p=c.type?c.type:n.extensionmap.extType(n.extension(c.file));if(c.file){for(
s in f)p==f[s]?(t=c.file,r=u.image):n.isYouTube(c.file)&&(i=c.file);if(t||i)continue}}t?(g=t,y=r,w.prefix&&(n.isHTTPS()&&(w.prefix=w.prefix.replace("http://","https://ssl.")),w.prefix+=e.version.split(/\W/).splice(0,2).join("/")),S(),T()):i?C(i):l()}function S(){t&&(p=N("a","display",t),N("div","icon",p),N("div","logo",p),g&&p.setAttribute("href",n.getAbsolutePath(g)))}function x(e,t){var n=r.querySelectorAll(e);for(var i=0;i<n.length;i++)for(var s in t)n[i].style[s]=t[s]}function T(){var e="#"+t
.id+" .jwdownload";t.style.width="",t.style.height="",x(e+"display",{width:n.styleDimension(Math.max(320,v)),height:n.styleDimension(Math.max(180,m)),background:"black center no-repeat "+(y?"url("+y+")":""),backgroundSize:"contain",position:a,border:s,display:o}),x(e+"display div",{position:f,width:u,height:u}),x(e+"logo",{top:w.margin+"px",right:w.margin+"px",background:"top right no-repeat url("+w.prefix+w.file+")"}),x(e+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"
})}function N(e,t,n){var i=r.createElement(e);return t&&(i.className="jwdownload"+t),n&&n.appendChild(i),i}function C(e){var n=N("embed","",t);n.src="http://www.youtube.com/v/"+/v[=\/](\w*)|\/(\w+)$|^(\w+)$/i.exec(e).slice(1).join(""),n.type="application/x-shockwave-flash",n.width=v,n.height=m}var h=n.extend({},i),p,v=h.width?h.width:480,m=h.height?h.height:320,g,y,w=i.logo?i.logo:{prefix:"http://p.jwpcdn.com/",file:"logo.png",margin:10};E()}}(jwplayer),function(e){var t=e.utils,n=e.events,r={},i=
e.embed.flash=function(i,s,o,u,f){function p(e,t,n){var r=document.createElement("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function v(e,t,n){return function(r){try{n&&document.getElementById(f.id+"_wrapper").appendChild(t);var i=document.getElementById(f.id).getPluginConfig("display");typeof e.resize=="function"&&e.resize(i.width,i.height),t.style.left=i.x,t.style.top=i.h}catch(s){}}}function m(e){if(!e)return{};var t={};for(var n in e){var r=e[n];for(var i in r
)t[n+"."+i]=r[i]}return t}function g(e){if(!e)return{};var n={},r=[];for(var i in e){var s=t.getPluginName(i),o=e[i];r.push(i);for(var u in o)n[s+"."+u]=o[u]}return n.plugins=r.join(","),n}function y(e,n){if(t.isYouTube(e))return!0;if(t.isRtmp(e,n))return!0;if(n=="hls")return!0;var r=t.extensionmap[n?n:t.extension(e)];return r?!!r.flash:!1}var l=new e.events.eventdispatcher,h=t.flashVersion();t.extend(this,l),this.embed=function(){o.id=f.id;if(h<10)return l.sendEvent(n.ERROR,{message:"Flash version must be 10.0 or greater"
}),!1;var e,c=t.extend({},o);i.id+"_wrapper"==i.parentNode.id?e=document.getElementById(i.id+"_wrapper"):(e=document.createElement("div"),e.id=i.id+"_wrapper",e.style.position="relative",e.style.width=t.styleDimension(c.width),e.style.height=t.styleDimension(c.height),i.parentNode.replaceChild(e,i),e.appendChild(i));var m=u.setupPlugins(f,c,v);m.length>0?t.extend(c,g(m.plugins)):delete c.plugins,typeof c["dock.position"]!="undefined"&&c["dock.position"].toString().toLowerCase()=="false"&&(c.dock=
c["dock.position"],delete c["dock.position"]);var y="#000000",w,E=c.wmode?c.wmode:c.height&&c.height<=40?"transparent":"opaque",S=["height","width","modes","events","primary","base","fallback","volume"];for(var x=0;x<S.length;x++)delete c[S[x]];var T=t.getCookies();for(var N in T)typeof c[N]=="undefined"&&(c[N]=T[N]);var C=window.location.pathname.split("/");C.splice(C.length-1,1),C=C.join("/"),c.base=C+"/",r[i.id]=c;if(t.isIE()){var L='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%" id="'+
i.id+'" name="'+i.id+'" tabindex=0"">';L+='<param name="movie" value="'+s.src+'">',L+='<param name="allowfullscreen" value="true">',L+='<param name="allowscriptaccess" value="always">',L+='<param name="seamlesstabbing" value="true">',L+='<param name="wmode" value="'+E+'">',L+='<param name="bgcolor" value="'+y+'">',L+="</object>",i.outerHTML=L,w=document.getElementById(i.id)}else{var A=document.createElement("object");A.setAttribute("type","application/x-shockwave-flash"),A.setAttribute("data",s.src
),A.setAttribute("width","100%"),A.setAttribute("height","100%"),A.setAttribute("bgcolor",y),A.setAttribute("id",i.id),A.setAttribute("name",i.id),A.setAttribute("tabindex",0),p(A,"allowfullscreen","true"),p(A,"allowscriptaccess","always"),p(A,"seamlesstabbing","true"),p(A,"wmode",E),i.parentNode.replaceChild(A,i),w=A}f.container=w,f.setPlayer(w,"flash")},this.supportsConfig=function(){if(h){if(!o)return!0;if(t.typeOf(o.playlist)=="string")return!0;try{var e=o.playlist[0],n=e.sources;if(typeof n=="undefined"
)return!0;for(var r=0;r<n.length;r++)if(n[r].file&&y(n[r].file,n[r].type))return!0}catch(i){return!1}}return!1}};i.getVars=function(e){return r[e]}}(jwplayer),function(e){var t=e.utils,n=t.extensionmap,r=e.events;e.embed.html5=function(i,s,o,u,f){function p(e,t,n){return function(r){try{var s=document.querySelector("#"+i.id+" .jwmain");n&&s.appendChild(t),typeof e.resize=="function"&&(e.resize(s.clientWidth,s.clientHeight),setTimeout(function(){e.resize(s.clientWidth,s.clientHeight)},400)),t.left=
s.style.left,t.top=s.style.top}catch(o){}}}function v(e){l.sendEvent(e.type,{message:"HTML5 player not found"})}function m(e,r){if(navigator.userAgent.match(/BlackBerry/i)!==null)return!1;if(!t.isAndroid()||t.extension(e)!="m3u"&&t.extension(e)!="m3u8"){if(t.isRtmp(e,r))return!1;var i=n[r?r:t.extension(e)];return i?i.flash&&!i.html5?!1:g(i.html5):!1}return!1}function g(t){var n=e.vid;if(!t)return!0;try{return n.canPlayType(t)?!0:!1}catch(r){return!1}}var l=this,h=new r.eventdispatcher;t.extend(l,
h),l.embed=function(){if(e.html5){u.setupPlugins(f,o,p),i.innerHTML="";var n=e.utils.extend({},o);delete n.volume;var h=new e.html5.player(n);f.container=document.getElementById(f.id),f.setPlayer(h,"html5")}else{var m=new t.scriptloader(s.src);m.addEventListener(r.ERROR,v),m.addEventListener(r.COMPLETE,l.embed),m.load()}},l.supportsConfig=function(){if(!!e.vid.canPlayType)try{if(t.typeOf(o.playlist)=="string")return!0;var n=o.playlist[0].sources;for(var r=0;r<n.length;r++){var i=n[r].file,s=n[r].
type;if(m(i,s))return!0}}catch(u){return!1}return!1}}}(jwplayer),function(e){var t=e.embed,n=e.utils,r=n.extend(function(r){var i=(n.isHTTPS()?"https://ssl.":"http://")+"p.jwpcdn.com/"+e.version.replace(/(\d+)\.(\d+).*/,"$1/$2/"),s=r.config,o=s.plugins,u=s.analytics,f=i+"jwpsrv.js",l=new e.utils.key(e.key);return l.edition()=="ads"&&s.advertising&&(s.plugins[i+s.advertising.client+(s.primary=="flash"?".swf":".js")]=s.advertising),delete s.advertising,s.key=e.key,delete s.analytics,o=o?o:{},o[f]=u?
u:{},s.plugins=o,new t(r)},t);e.embed=r}(jwplayer),function(e){var t=e.embed,n=e.utils.extend(function(e){var n=e.config,r=n.plugins?n.plugins:{};return delete r.sharing,delete r.related,n.sharing&&(r.sharing=n.sharing),n.related&&(r.related=n.related),n.ga&&(r.ga=n.ga),n.plugins=r,new t(e)},t);e.embed=n}(jwplayer),function(e){var t=[],n=e.utils,r=e.events,i=r.state,s=document,o=e.api=function(t){function N(e,t){return function(n){return t(e,n)}}function C(e){y=[],o.destroyPlayer(e.id)}function k
(e,t){return c[e]||(c[e]=[],_(r.JWPLAYER_PLAYER_STATE,L(e))),c[e].push(t),u}function L(e){return function(t){var n=t.newstate,r=t.oldstate;if(n==e){var i=c[n];if(i)for(var s=0;s<i.length;s++)typeof i[s]=="function"&&i[s].call(this,{oldstate:r,newstate:n})}}}function A(e,t,n){return h[e]||(h[e]={}),h[e][t]||(h[e][t]=[],_(t,O(e,t))),h[e][t].push(n),u}function O(e,t){return function(n){if(e==n.component){var r=h[e][t];if(r)for(var i=0;i<r.length;i++)typeof r[i]=="function"&&r[i].call(this,n)}}}function M
(e,t){try{e.jwAddEventListener(t,'function(dat) { jwplayer("'+u.id+'").dispatchEvent("'+t+'", dat); }')}catch(r){n.log("Could not add internal listener")}}function _(e,t){return l[e]||(l[e]=[],v&&m&&M(v,e)),l[e].push(t),u}function D(){if(m){var e=arguments[0],t=[];for(var n=1;n<arguments.length;n++)t.push(arguments[n]);if(typeof v!="undefined"&&typeof v[e]=="function")switch(t.length){case 4:return v[e](t[0],t[1],t[2],t[3]);case 3:return v[e](t[0],t[1],t[2]);case 2:return v[e](t[0],t[1]);case 1:return v
[e](t[0]);default:return v[e]()}return null}y.push(arguments)}function P(e,t,n){var r=[];t||(t=0),n||(n=e.length-1);for(var i=t;i<=n;i++)r.push(e[i]);return r}var u=this,l={},c={},h={},p=[],v=undefined,m=!1,y=[],w=undefined,E={},S={};u.container=t,u.id=t.id,u.getBuffer=function(){return D("jwGetBuffer")},u.getContainer=function(){return u.container},u.addButton=function(e,t,r,i){try{S[i]=r;var s="jwplayer('"+u.id+"').callback('"+i+"')";D("jwDockAddButton",e,t,s,i)}catch(o){n.log("Could not add dock button"+
o.message)}},u.removeButton=function(e){D("jwDockRemoveButton",e)},u.callback=function(e){S[e]&&S[e]()},u.getDuration=function(){return D("jwGetDuration")},u.getFullscreen=function(){return D("jwGetFullscreen")},u.getStretching=function(){return D("jwGetStretching")},u.getHeight=function(){return D("jwGetHeight")},u.getLockState=function(){return D("jwGetLockState")},u.getMeta=function(){return u.getItemMeta()},u.getMute=function(){return D("jwGetMute")},u.getPlaylist=function(){var e=D("jwGetPlaylist"
);u.renderingMode=="flash"&&n.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__"],["."," ","-"]);for(var t=0;t<e.length;t++)n.exists(e[t].index)||(e[t].index=t);return e},u.getPlaylistItem=function(e){return n.exists(e)||(e=u.getCurrentItem()),u.getPlaylist()[e]},u.getPosition=function(){return D("jwGetPosition")},u.getRenderingMode=function(){return u.renderingMode},u.getState=function(){return D("jwGetState")},u.getVolume=function(){return D("jwGetVolume")},u.getWidth=function(){return D("jwGetWidth"
)},u.setFullscreen=function(e){return n.exists(e)?D("jwSetFullscreen",e):D("jwSetFullscreen",!D("jwGetFullscreen")),u},u.setStretching=function(e){return D("jwSetStretching",e),u},u.setMute=function(e){return n.exists(e)?D("jwSetMute",e):D("jwSetMute",!D("jwGetMute")),u},u.lock=function(){return u},u.unlock=function(){return u},u.load=function(e){return D("jwLoad",e),u},u.playlistItem=function(e){return D("jwPlaylistItem",parseInt(e)),u},u.playlistPrev=function(){return D("jwPlaylistPrev"),u},u.playlistNext=
function(){return D("jwPlaylistNext"),u},u.resize=function(e,t){if(u.renderingMode!="flash")D("jwResize",e,t);else{var r=s.getElementById(u.id+"_wrapper");r&&(r.style.width=n.styleDimension(e),r.style.height=n.styleDimension(t))}return u},u.play=function(e){return typeof e=="undefined"?(e=u.getState(),e==i.PLAYING||e==i.BUFFERING?D("jwPause"):D("jwPlay")):D("jwPlay",e),u},u.pause=function(e){return typeof e=="undefined"?(e=u.getState(),e==i.PLAYING||e==i.BUFFERING?D("jwPause"):D("jwPlay")):D("jwPause"
,e),u},u.stop=function(){return D("jwStop"),u},u.seek=function(e){return D("jwSeek",e),u},u.setVolume=function(e){return D("jwSetVolume",e),u},u.loadInstream=function(e,t){return w=new o.instream(this,v,e,t),w},u.getQualityLevels=function(){return D("jwGetQualityLevels")},u.getCurrentQuality=function(){return D("jwGetCurrentQuality")},u.setCurrentQuality=function(e){D("jwSetCurrentQuality",e)},u.getCaptionsList=function(){return D("jwGetCaptionsList")},u.getCurrentCaptions=function(){return D("jwGetCurrentCaptions"
)},u.setCurrentCaptions=function(e){D("jwSetCurrentCaptions",e)},u.getControls=function(){return D("jwGetControls")},u.getSafeRegion=function(){return D("jwGetSafeRegion")},u.setControls=function(e){D("jwSetControls",e)},u.destroyPlayer=function(){D("jwPlayerDestroy")};var x={onBufferChange:r.JWPLAYER_MEDIA_BUFFER,onBufferFull:r.JWPLAYER_MEDIA_BUFFER_FULL,onError:r.JWPLAYER_ERROR,onFullscreen:r.JWPLAYER_FULLSCREEN,onMeta:r.JWPLAYER_MEDIA_META,onMute:r.JWPLAYER_MEDIA_MUTE,onPlaylist:r.JWPLAYER_PLAYLIST_LOADED
,onPlaylistItem:r.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:r.JWPLAYER_PLAYLIST_COMPLETE,onReady:r.API_READY,onResize:r.JWPLAYER_RESIZE,onComplete:r.JWPLAYER_MEDIA_COMPLETE,onSeek:r.JWPLAYER_MEDIA_SEEK,onTime:r.JWPLAYER_MEDIA_TIME,onVolume:r.JWPLAYER_MEDIA_VOLUME,onBeforePlay:r.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:r.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:r.JWPLAYER_DISPLAY_CLICK,onControls:r.JWPLAYER_CONTROLS,onQualityLevels:r.JWPLAYER_MEDIA_LEVELS,onQualityChange:r.JWPLAYER_MEDIA_LEVEL_CHANGED
,onCaptionsList:r.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:r.JWPLAYER_CAPTIONS_CHANGED};n.foreach(x,function(e){u[e]=N(x[e],_)});var T={onBuffer:i.BUFFERING,onPause:i.PAUSED,onPlay:i.PLAYING,onIdle:i.IDLE};return n.foreach(T,function(e){u[e]=N(T[e],k)}),u.remove=function(){if(!m)throw"Cannot call remove() before player is ready";C(this)},u.setup=function(t){if(e.embed){var n=s.getElementById(u.id);n&&(t.fallbackDiv=n),C(u);var r=e(u.id);return r.config=t,new e.embed(r)}return u},u.registerPlugin=function(
t,n,r,i){e.plugins.registerPlugin(t,n,r,i)},u.setPlayer=function(e,t){v=e,u.renderingMode=t},u.detachMedia=function(){if(u.renderingMode=="html5")return D("jwDetachMedia")},u.attachMedia=function(){if(u.renderingMode=="html5")return D("jwAttachMedia")},u.dispatchEvent=function(e){if(l[e]){var t=n.translateEventResponse(e,arguments[1]);for(var r=0;r<l[e].length;r++)typeof l[e][r]=="function"&&l[e][r].call(this,t)}},u.dispatchInstreamEvent=function(e){w&&w.dispatchEvent(e,arguments)},u.playerReady=
function(e){m=!0,v||u.setPlayer(s.getElementById(e.id)),u.container=s.getElementById(u.id),n.foreach(l,function(e){M(v,e)}),_(r.JWPLAYER_PLAYLIST_ITEM,function(e){E={}}),_(r.JWPLAYER_MEDIA_META,function(e){n.extend(E,e.metadata)}),u.dispatchEvent(r.API_READY);while(y.length>0)D.apply(this,y.shift())},u.getItemMeta=function(){return E},u.getCurrentItem=function(){return D("jwGetPlaylistIndex")},u};o.selectPlayer=function(e){var r;n.exists(e)||(e=0),e.nodeType?r=e:typeof e=="string"&&(r=s.getElementById
(e));if(r){var i=o.playerById(r.id);return i?i:o.addPlayer(new o(r))}return typeof e=="number"?t[e]:null},o.playerById=function(e){for(var n=0;n<t.length;n++)if(t[n].id==e)return t[n];return null},o.addPlayer=function(e){for(var n=0;n<t.length;n++)if(t[n]==e)return e;return t.push(e),e},o.destroyPlayer=function(e){var r=-1,i;for(var o=0;o<t.length;o++)if(t[o].id==e){r=o,i=t[o];continue}if(r>=0){var u=i.id,f=s.getElementById(u+(i.renderingMode=="flash"?"_wrapper":""));n.clearCss&&n.clearCss("#"+u)
;if(f){i.renderingMode=="html5"&&i.destroyPlayer();var l=s.createElement("div");l.id=u,f.parentNode.replaceChild(l,f)}t.splice(r,1)}return null},e.playerReady=function(t){var n=e.api.playerById(t.id);n?n.playerReady(t):e.api.selectPlayer(t.id).playerReady(t)}}(jwplayer),function(e){var t=e.events,n=t.state;e.api.instream=function(e,r,i,s){function d(){o.callInternal("jwLoadInstream",i,s)}function v(e,t){u.jwInstreamAddEventListener(t,'function(dat) { jwplayer("'+o.id+'").dispatchInstreamEvent("'+
t+'", dat); }')}function m(e,t){return h[e]||(h[e]=[],v(u,e)),h[e].push(t),this}function g(e,n){return p[e]||(p[e]=[],m(t.JWPLAYER_PLAYER_STATE,y(e))),p[e].push(n),this}function y(e){return function(t){var n=t.newstate,r=t.oldstate;if(n==e){var i=p[n];if(i)for(var s=0;s<i.length;s++)typeof i[s]=="function"&&i[s].call(this,{oldstate:r,newstate:n,type:t.type})}}}var o=e,u=r,f=i,l=s,h={},p={};this.dispatchEvent=function(e,t){if(h[e]){var n=_utils.translateEventResponse(e,t[1]);for(var r=0;r<h[e].length
;r++)typeof h[e][r]=="function"&&h[e][r].call(this,n)}},this.onError=function(e){return m(t.JWPLAYER_ERROR,e)},this.onFullscreen=function(e){return m(t.JWPLAYER_FULLSCREEN,e)},this.onMeta=function(e){return m(t.JWPLAYER_MEDIA_META,e)},this.onMute=function(e){return m(t.JWPLAYER_MEDIA_MUTE,e)},this.onComplete=function(e){return m(t.JWPLAYER_MEDIA_COMPLETE,e)},this.onSeek=function(e){return m(t.JWPLAYER_MEDIA_SEEK,e)},this.onTime=function(e){return m(t.JWPLAYER_MEDIA_TIME,e)},this.onVolume=function(
e){return m(t.JWPLAYER_MEDIA_VOLUME,e)},this.onBuffer=function(e){return g(n.BUFFERING,e)},this.onPause=function(e){return g(n.PAUSED,e)},this.onPlay=function(e){return g(n.PLAYING,e)},this.onIdle=function(e){return g(n.IDLE,e)},this.onInstreamClick=function(e){return m(t.JWPLAYER_INSTREAM_CLICK,e)},this.onInstreamDestroyed=function(e){return m(t.JWPLAYER_INSTREAM_DESTROYED,e)},this.play=function(e){u.jwInstreamPlay(e)},this.pause=function(e){u.jwInstreamPause(e)},this.seek=function(e){u.jwInstreamSeek
(e)},this.destroy=function(){u.jwInstreamDestroy()},this.getState=function(){return u.jwInstreamGetState()},this.getDuration=function(){return u.jwInstreamGetDuration()},this.getPosition=function(){return u.jwInstreamGetPosition()},d()}}(jwplayer),function(e){var t=e.api,n=t.selectPlayer;t.selectPlayer=function(t){var r=n(t);return r?r:{registerPlugin:function(t,n,r,i){e.plugins.registerPlugin(t,n,r)}}}}(jwplayer)),function(e){var t="ga",n=function(n,r,i){function u(){return typeof o.trackingobject=="string"?
window[o.trackingobject]:o.trackingobject}function f(e,t){if(e==undefined)return"";if(t!=undefined&&e[t]!=undefined&&e[t].length>0)return t=="file"?p(e[t]):e[t];if(e.file==undefined){if(e.sources)return l(e.sources);if(e.levels)return l(e.levels)}return e.file!=undefined?e.file:""}function l(e){var t=[],n;for(n=e.length-1;n>=0;n--)e[n].file&&t.push(e[n].file);return t.sort(),p(t[0])}function h(e){var t=e.indexOf("://"),n=e.indexOf("?");return t>0&&(n<0||n>t)}function p(e,t){if(h(e))return e;t||(t=
document.location.href);var n=t.substring(0,t.indexOf("://")+3),r=t.substring(n.length,t.indexOf("/",n.length+1)),i;if(e.indexOf("/")===0)i=e.split("/");else{var s=t.split("?")[0];s=s.substring(n.length+r.length+1,s.lastIndexOf("/")),i=s.split("/").concat(e.split("/"))}var o=[];for(var u=0;u<i.length;u++)!!i[u]&&i[u]!="."&&(i[u]==".."?o.pop():o.push(i[u]));return n+r+"/"+o.join("/")}function d(){var e=!1,t="",r=!1,i;n.onPlaylistItem(function(s){e=!0,o.pageURL=window.top==window?window.location.href
:document.referrer,o.currentItem={},i=n.getPlaylistItem(s.index),o.currentItem.mediaID=t,t=f(i,o.idstring),o.currentItem.hidden=r,i["ova.hidden"]?r=!0:r=!1}),n.onIdle(function(t){e=!0}),n.onPlay(function(n){e&&(e=!1,o.currentItem.mediaID=t,o.currentItem.hidden=r,v("JW Player Video Plays"))}),n.onComplete(function(e){v("JW Player Video Completes")})}function v(e){var t="Not tracked";o.currentItem.hidden?o.currentItem.hidden&&(t+=" - current item is hidden"):typeof u()._trackEvent!="undefined"?(t="Tracked Synchronously"
,g(e,o.currentItem.mediaID,o.pageURL)):typeof u().push!="undefined"&&(t="Tracked Asynchronously",m(e,o.currentItem.mediaID,o.pageURL)),y(t,{Category:e,Action:o.currentItem.mediaID,Label:o.pageURL})}function m(e,t,n){u().push(["_trackEvent",e,t,n])}function g(e,t,n){u()._trackEvent(e,t,n)}function y(n,r){o.debug&&e.utils.log(t+": "+n,r)}var s={trackingobject:"_gaq",idstring:"file"},o=e.utils.extend({},s,r);y("Initializing");if(typeof o.trackingobject=="string"&&typeof window[o.trackingobject]=="undefined"
){y("Could not setup because trackingobject is not defined.");return}d()};e().registerPlugin(t,"6.0",n)}(jwplayer),function(e){var t=e.utils,n=function(n,r,i){function w(e){r.onclick=="play"?(n.load(e),n.play()):window.top.location=e.link}function E(e){r.oncomplete!==!1&&setTimeout(S,50)}function S(e){n.getState()=="IDLE"&&y()}function x(e){e==f?console.log("RELATED: Failed to load "+e):console.log("RELATED: "+e),c.innerHTML="",l.innerHTML="No related videos found",u[4]=200,u[5]=0,_(u[2],u[3])}function T
(e){setTimeout(N,200),i.style.opacity=0,n.setControls(!0)}function N(){i.style.visibility="hidden"}function C(e){h=!1,f=undefined,p=[],c.innerHTML="",T();var t=n.getPlaylist()[e.index];r.file&&(r.file.indexOf("MEDIAID")>0&&t.mediaid?f=r.file.replace("MEDIAID",t.mediaid):r.file.indexOf("MEDIAID")==-1&&(f=r.file)),n.addButton(g,"Related Videos",y,"related")}function k(){h=!0,f?(l.innerHTML="",t.ajax(f,L,x)):x("No related videos file found")}function L(n){var i=[];try{i=e.html5.parsers.rssparser.parse
(n.responseXML.firstChild)}catch(s){t.log(s),x("This feed is not valid XML and/or RSS.");return}for(var o=0;o<i.length;o++)i[o].image&&i[o].title&&(r.onclick=="play"&&i[o].sources[0].file||r.onclick!="play"&&i[o].link)&&p.push(i[o]);A()}function A(){c.innerHTML="";if(p!==undefined&&p.length){var t=0,n=0;u[4]=0,u[5]=0;for(var r=0;r<p.length;r++){var i=e.related.thumb(u[0],u[1],p[r],w);c.appendChild(i),D(i,{left:(u[0]+10)*t+"px",top:(u[1]+10)*n+"px"}),u[4]=Math.max(u[4],u[0]*(t+1)+10*t),u[5]=Math.max
(u[5],u[1]*(n+1)+10*n);if((u[0]+10)*(t+2)>u[2]){if((u[1]+10)*(n+2)>u[3]-80)break;n++,t=0}else t++}M("Related Videos"),_(u[2],u[3])}else x("RSS feed has 0 entries that contain title,link and image.")}function O(){if(n.getRenderingMode()=="flash")return;n.onPlaylistItem(C),n.onComplete(E),D(i,v),i.onclick=T,o=document.createElement("div"),D(o,d),D(o,{background:"transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAItJREFUeNp8kUEOABEMRXUysXQnJ5k5GidxAmcxsbQxmiAlLUlD/df6UDnn1KK2eJQwUOtMAlwQ7TXG+B1ukxv5hRDRHT1ph5EFSRgN9tPh0E2drO6Xo7E8xk2TGKPSWi9NSilLPi2FEI6WrLV+FjAwe2ksAg4e3TgNCyoHS1bx4z4JxtH3hsXvF2AAnU9uUtSy19QAAAAASUVORK5CYII=)"
}),o.onclick=T,i.appendChild(o),l=document.createElement("div"),M("Related Videos"),D(l,m),i.appendChild(l),c=document.createElement("div"),i.appendChild(c),D(c,{position:"absolute"})}function M(e){r.heading?l.innerHTML=r.heading:l.innerHTML=e}function _(e,t){D(i,{height:t+"px",width:e+"px"}),D(o,{left:e-32+"px"}),D(c,{left:Math.round(e/2-u[4]/2)+"px",top:Math.round(t/2-u[5]/2)+"px"}),D(l,{left:Math.round(e/2-u[4]/2)+"px",width:u[4]+"px",top:Math.round(t/2-u[5]/2-30)+"px"})}function D(e,t){for(var n in 
t)e.style[n]=t[n]}var s,o,u,f,l,c,h,p,d={cursor:"pointer",position:"absolute",left:"120px",top:"20px",margin:"0px",padding:"0px",display:"block",width:"12px",height:"12px"},v={backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEdJREFUeNpilpSUvMHEwMDwn+k/EEBY+LkwFgMuCWINwDCPVB30cBoDaTpgBMMoQU2CkYkRCCAsNC6pEgyUGoBHYvA6DSDAAOnHjLU15EHNAAAAAElFTkSuQmCC)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",opacity
:0,"z-index":101,webkitTransition:"opacity 150ms linear",MozTransition:"opacity 150ms linear",msTransition:"opacity 150ms linear",transition:"opacity 150ms linear",cursor:"pointer",visibility:"hidden"},m={position:"absolute",border:"none",color:"#FFF",display:"block",font:"15px Arial",overflow:"hidden",width:"240px",margin:"0 0 0 0",textAlign:"center",textTransform:"none",padding:"0 0 0 0"},g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALVJREFUeNqsVMERhCAMzNmAJVgaJWAHlGIJluB1YAnYASXEwOVmctzCR3YmOia7a4IgkQEzO4nI/zg0amSuoxqSnCVOiSTh87Op7cZgrzReNafVkL79N/nJB9BVaDRz2DETMFu4jQWYpjK+rkMAy7B1DDfAz9NEUsIMCLFjGBvfgV/lIgAEpg5amuGG07ddoLk6fhcaOd8nLa5A9O4YotpavIZvm+Eb++HRc/DoPfw5eOtxCzAABeIMZWrWSG0AAAAASUVORK5CYII="
,y=function(){n.pause(!0),i.style.visibility="visible",i.style.opacity=1,n.setControls(!1),h==0&&k()};n.onReady(O),n.onPlay(T),this.resize=function(e,t){if(n.getRenderingMode()=="flash")return;u=[140,90,e,t,200,0],D(o,{left:e-32+"px"}),A()}};e().registerPlugin("related","6.0",n)}(jwplayer),function(e){if(e.related)return;e.related={},e.related.thumb=function(e,t,n,r){function l(e){d(i,{webkitBoxShadow:"0 0 4px #FFF",MozBoxShadow:"0 0 4px #FFF",msBoxShadow:"0 0 4px #FFF",boxShadow:"0 0 4px #FFF"})
,d(a,{color:"#FFF"})}function c(e){d(i,{webkitBoxShadow:"0 0 4px #000",MozBoxShadow:"0 0 4px #000",msBoxShadow:"0 0 4px #000",boxShadow:"0 0 4px #000"}),d(a,{color:"#CCC"})}function h(e){r(n)}function p(){i=document.createElement("div"),i.onclick=h,i.onmouseout=c,i.onmouseover=l,d(i,s),d(i,{backgroundImage:"url("+n.image+")",width:e-2+"px",height:t-2+"px"}),o=document.createElement("img"),o.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABGCAYAAABL0p+yAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACF9JREFUeNrsXYtO20gUtccWILoIFgS0IKDQAoUusEBBS///c6IQqwIJoqAdT/z2PO487NjJvZIJNxBnYE7u48yxx/9+9PWCEOL5vs+O+HuhH3+fPOcnzyl9Ep8nPwfhPU/i1xV+XvOn75s9L/Tzx3zs0/eR+tnY8/FwfXZ+kT89Vzqe9G+c/r2A8ZD0/arjkYxPOp7qXObnIjwf9Cg6d35o2Ds9BmHxRKXJVvnFx3QCMj8HoxwMKbBVk0+4wK5NttQHgrEABp8UPjAp0AsTkE1izSecD15hElW+8P0lj+n7p/9P3vikwK7Mla/y87nSBN4fegzpOV5jJwyCoBKZ9MAommzloyjqEc5kC31RlFX5kKjrK8AgGZ8QjNXIIwcjOMpVo3Ap6laBzQ8SNaAD5jA2IPgmCfAG9HXj4g/CIrCqqbYc5UQD9hVgsABjEfhKMGpEIgswlic5PxfJokHFTya/6kujnBYYFFEZEnU1wagR9eI0+0yPEX3tB+8X4ClYI+U2DsZq/ecIjOk/O32/ul+s88RgFEZhk5TrHIwAcBIxGIFR74UeEX1tpPpFsxTMmfz8ky9qYAp1HdfnROEC+KQ+AUSiki+rpzh1FNfXTLktglEUdUt+YW7LPil/8IhWkzFK6rs3aEEoTcFyMHD+AE0wQrpZcdQV+LXuWu7Lu1lRlJOkYOnkE/4HURp1+d2s0NfoZqH1oAJ4cX03TCLe2NO0kNAIqAQfB4zcbtaku4V0r6UOzITa4Ly/KCprp1wVGCDg1AMjr6Fx0c1qUivvSVMReRYWBoRoDhhIrTQCRnueTZpypSlY3M3CqQ07Dq/a3WY+mEN0Qq2UaBRbYxFQRCA7o1a0GwhFai0V+SKS1STlWgK9RTDqNRBAqoU+7/ncJkNIo9gDENLdzrqbhRLKgkhgRigbdLNgDtFVNytb3ZCDERj1lDSKNQADKRjUYAR1t8putgFCGdxNmoARSiibjEcMRtNu1oBQBtMoTlKwiGqpURc6dV4J0C5TriWhbA1GCfWiAUZ5nQdvaGxSLifqadMobiKgDqGsmmSnS21mYJR2sxqEMoxaEVAtEGpFVedJga6XciWEshWN4qQG9B1EOSNC2WppSxV1Ad2sorsV11mVyfZFvizqVsdnSygTALBLUc8JjeIuBTtMudarG5pg7LM8SkUoy31IPZjPTQI8pzSK4y7YjVYPRijry6Oa1eoZ8my6qxuWWj1DQnlCj0ZoFDcAtNLqFf2OaPVMRAkgrR4w5XZHq/dOj0ZpFPsmhCdGcCKPklAXHdTqma8mmKRgt/IoTnf7Qo+Izm3kddzqcqwOyaOqEzSf8ijoeABg9PwR/TIMw/DN64nJ5VgtglHd0MC0ei6A3h2tHohqieu7YRzxKPDGXs8sLAKp+1o929UNS60emNBuXquX1HeDpaWlyOux5SkYrBJpSKunSyg71+qZy6NU4zG58kyyhvsnjnjLy8uv3hzYNAXPUB4F5xRno9XTJ5Rt5FrCBofRKPS5AQXe2Jsjq6dg68sidVc39LR6XZVHyTlE1bXUAjDSNEu/PFN/tLKy8uHNoRVSsIFWz3hpC6rVK/ouo24HtXp+6XUv9Hej1dXVyJtzy1JwtZt1Tij3UaunkEeZavVEKZc+jugzw09/fXrzFsRCEhCFPKrhi7+dyKNIZ7R6BvIoRqPQ5yIKvLG3YBYWU9zMtXpObosh4Bgbl0fppdy4voubirW1tchbYAsDElho9YBpsUmtnsllkaArz3QJZZhWz0tolPX19VcPbZqCXcujzC/+7opWzzmhPKF+DLwBBd4YYVeNgBqrG+CLv53Lo4DdrEN5lK1Wj61WEP85bi42NjY+EG4cAJY+qb3T6jm+E4GCWtGQRzE1yt+bmxFCTEnDkI5q9aAp10yrJ5JHcX0ooe2TUVzfbW5tviG0wF1wYKEaMetmtQnlLmn1KgCP6zv6OqZG2drawvrOJAI2qdXrvzxKGHWZGmV7exvTrPVaMHCtVny9rwt5lOXqRktavaSbHe7s7CCN4i4Fq7V67d6JQMIxNnhbDKEihqVZxt8NdnZ3Mc26T8GOL/5uVKtnurqh0OrxtXvsop6YRtn9/BlplHZSsGOtnpDQVmv13F/8Db4SjdEoX/a+YH032xQsoC56Jo/S0OoxGmVvbw9plFZTsPVGLS2B0dlGLaUaMruoZ39/H+u7WURAkYq43Y1a2tHqFYAdq40HBwcHmGZnXQM2K48y36hFBUbDjVoYjXJweIg0SjdScOBUq9dNeVScZj1GoxweHWGa7WQEnKFWr8HVjYxGOfp6hDRKJwEYEMuNWhTCgdls1MJolOPjY6zv+hIB3Wj12pNH8XwvoVFOTk6QRulNDZjwgO52DWpIqyfeNSijUU6+fcP6rn8pOKhr9WxSLkCrZyqPqvhMjfL99BTTbP9TcF+0en52b5TTszOkUeZmJaT78qhJArzB2fkZptn5ioBBl3cNSm4x64/Of5wjjTK/EbD9jVoUYGQ0yo+LC6zvFqEG7MpGLaka5eLyEmmUxUvBwO7WvVYvo1Euf/7E+m5Rm5AZyKNofecN/rm6wjS76BGwTa1eem+Uq+srpFHQch7QhTxKckPxCT0Do1Gubq4xzaIpeEAAGIEpN1OjXN/cII2CJucBHSpSGI3y7+0t1ndolilYA4wpjXJ7d4c0CppuCjau/ybx9lBxxLu7v8f6Ds00BWvLo5ga5f7hF6ZZNNsICN81iIkCPH/46/EBaRQ0ewD6NUU0t5vN1CgPj4+YZtEcRsA0BUs2PI536qHAQxoFrYEaMCC8bpbRKP89PWF9h9Z8BCxcB8w2PH76/RtpFLS2uuDk3ijEjyjwsL5Da9X+F2AAdhpbcs9KP5oAAAAASUVORK5CYII="
),d(o,u),d(o,{width:e-2+"px",height:t-20+"px"}),i.appendChild(o),a=document.createElement("div"),a.innerHTML=n.title,d(a,f);var r=Math.ceil(n.title.length*6/e);return d(a,{width:e-10+"px",top:t-8-r*16+"px"}),i.appendChild(a),i}function d(e,t){for(var n in t)e.style[n]=t[n]}var i,s={webkitBoxShadow:"0 0 4px #000",MozBoxShadow:"0 0 4px #000",msBoxShadow:"0 0 4px #000",boxShadow:"0 0 4px #000",backgroundColor:"#000",backgroundSize:"cover",position:"absolute",textDecoration:"none",display:"block",margin
:"0 0 0 0",padding:"0 0 0 0",overflow:"hidden"},o,u={psition:"absolute",left:"0px",top:"0px",border:"none",margin:"0 0 0 0",padding:"0 0 0 0"},a,f={backgroundColor:"rgba(0,0,0,0.8)",left:"0px",position:"absolute",border:"none",color:"#CCC",display:"block",font:"11px Arial",margin:"0 0 0 0",textAlign:"center",textDecoration:"none",textTransform:"none",padding:"5px"};return p()}}(jwplayer),function(e){var t=e.sharing={},n=window,r=function(e,r,i){function b(e){var t=l+encodeURIComponent(p);return n
.open(t,"_blank"),n.focus(),!1}function w(t){t.target==i&&(setTimeout(E,200),i.style.opacity=0,e.setControls(!0))}function E(){i.style.visibility="hidden"}function S(t){setTimeout(E,200),i.style.opacity=0,e.setControls(!0);var u=e.getPlaylist()[t.index];s=undefined,r.code&&(r.code.indexOf("MEDIAID")>0&&u.mediaid?s=r.code.replace("MEDIAID",u.mediaid):r.code.indexOf("MEDIAID")==-1&&(s=r.code)),s&&s.substr(0,3)=="%3C"&&(s=decodeURIComponent(s)),p=n.location.toString(),n.top!=n&&(p=document.referrer)
,r.link&&(r.link.indexOf("MEDIAID")>0&&u.mediaid?p=r.link.replace("MEDIAID",u.mediaid):r.link.indexOf("MEDIAID")==-1&&(p=r.link)),c&&(o.setText(s),v.setText(p),s?(k(o.getDiv(),{left:"0px",top:"30px",display:"block"}),k(v.getDiv(),{left:"0px",top:"72px"}),k(f,{left:"80px",top:"114px"}),k(m,{left:"120px",top:"114px"}),k(y,{left:"160px",top:"114px"})):(k(o.getDiv(),{display:"none"}),k(v.getDiv(),{left:"0px",top:"30px"}),k(f,{left:"80px",top:"72px"}),k(m,{left:"120px",top:"72px"}),k(y,{left:"160px",top
:"72px"})),x())}function x(){k(i,{width:u[0]+"px",height:u[1]+"px",backgroundPosition:u[0]-32+"px 18px,center center"}),o.resize(u[0]),v.resize(u[0]);var e=Math.round(u[0]/2-o.getWidth()/2),t=Math.round(u[1]/2-50);s&&(t-=20),k(c,{left:e+"px",top:t+"px"})}function T(){if(e.getRenderingMode()=="flash")return;e.onPlaylistItem(S),e.addButton("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAYAAAAbBi9cAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMxJREFUeNpiYCAR/P//nx+I1/9HgP0gMQYyDKr/jwn2k2PQfSwG/WchwQB/IBUAxAp4FQHxfCDuB2J9JHF9qNj7//jBe5DieCwSIM3nsYiDAjkfi8HxjGDTGBgE8PjqAhAvAGFGRsaPUJfKA6kEqPwGoPhFBjzORfEmIcCERw4UqB9Iic75BAJyPtQrILX20HSUj5EIoSkVZth7qJfssaSX9egxBbOAGNfG40qAMNdSI1ugZA0mIs3awEAtgMOL8eQYpI9mWD+yPECAAQD6jshl3zhTjgAAAABJRU5ErkJggg=="
,"Share Video",function(){C()},"share"),i.style.visibility="hidden",i.onclick=w,N()}function N(){k(i,{backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAItJREFUeNp8kUEOABEMRXUysXQnJ5k5GidxAmcxsbQxmiAlLUlD/df6UDnn1KK2eJQwUOtMAlwQ7TXG+B1ukxv5hRDRHT1ph5EFSRgN9tPh0E2drO6Xo7E8xk2TGKPSWi9NSilLPi2FEI6WrLV+FjAwe2ksAg4e3TgNCyoHS1bx4z4JxtH3hsXvF2AAnU9uUtSy19QAAAAASUVORK5CYII=),url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADICAYAAAAp8ov1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEdJREFUeNpilpSUvMHEwMDwn+k/EEBY+LkwFgMuCWINwDCPVB30cBoDaTpgBMMoQU2CkYkRCCAsNC6pEgyUGoBHYvA6DSDAAOnHjLU15EHNAAAAAElFTkSuQmCC)"
,backgroundPosition:"right top,center center",backgroundRepeat:"no-repeat,no-repeat",backgroundSize:"auto auto,100% 100%",opacity:0,"z-index":101,webkitTransition:"opacity 150ms linear",mozTransition:"opacity 150ms linear",msTransition:"opacity 150ms linear",oTransition:"opacity 150ms linear",transition:"opacity 150ms linear",cursor:"pointer"}),c=document.createElement("div"),i.appendChild(c),k(c,{cursor:"default",position:"absolute",border:"none",width:"320px"}),h=document.createElement("div"),typeof 
r.heading=="string"?h.innerHTML=r.heading:h.innerHTML="Share Video",k(h,{position:"absolute",border:"none",color:"#FFF",display:"block",font:"15px Arial",overflow:"hidden",width:"230px",height:"20px",left:"80px",margin:"0 0 0 0",textTransform:"none",textShadow:"#000 1px 1px 0",padding:"0 0 0 0"}),c.appendChild(h),o=new t.row("Embed code"),c.appendChild(o.getDiv()),v=new t.row("Video link"),c.appendChild(v.getDiv()),f=t.shortcut("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARlJREFUeNpiTKzdzEAbwPL/PwPtjP4/FF3NQDOj/5Hl7O9fv3//9v3d63fIgipaKqiu/key0UATFSW5jSzVUyIskcWjKzZS5GqgY4Nc1VMjrDCl0Iwi2WhVWX6s5mIxmtTEpyYrgEvqP7qrSQzrZKTw/fP336odV24+/HD17musKYS0OGRiZERoZma68fDDlTuvqZn44ODS7VeUZvQndx5gFX98+z6cLaOiQE5Yn91SSlDcN28VNQOEmumaBKMpKVSBZsETzJJtVzDTNVGmuGUuhzB2TY9ETohwceonPjzaaWk0GYUqSrnxb0Bc/ePrV0qMxqOdRUVVmhKj8Whn+fXjFyVG49HORLMKfYgazUKqhtCytUSqBAgwAPLTpnqcD79pAAAAAElFTkSuQmCC"
,"Facebook",b),c.appendChild(f),m=t.shortcut("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAcpJREFUeNpiXPX1OwNtABMDzQDL/380M/ofAw2N/j8UwxqHoy9cuN3Ttpzh2w8GLo6M3AAbWz2Sjf6LI0D6J25hEJJhEGZi+P9v9oJ9lra6pIc1Dlf/5RFjYGSEslnZb995rqwsSaqrcQAODmSeID/XX9LTNY7kx8aGzBMR4f/17x91XM3Izo7MjU+fgUURF2tOqpuOhjRpYc3AiuJqRkVNLGr+/5+x9MSkpmASswyqq3GBv2xSuEzAndFRwxoX4GHHaQLLX1x5hpWdGHPbfRR//yfV1eworj6WiSU3/vn/78b37z///MNhNC6z2VBcfeTDZzJKvn/EpJDTt18bqwqTmK5xJT52lNy49szj/4yMXOysQLacGCcnGwsFGZ2NFZn3T1xh9ZknDH//gDi/fjL8Belj52bxsZAzUODHVahid7akAOfL76hScmpoan79/rnx8kt9eT7SUkiEEsvE24wE6hE2tv9c3P8YfpCWrlWEfrvJ8Ox6RcB0MXaGv/+/kxbWT379jpb/oSvIufgZw6ufOM2tVv7z7DfpjYWrX77LcP6Zo8PBwYjd7T/+/7/45SsuE4CuxlcKP/n5E4gGX43+j1bNEFq6GiDAAP9eqmJ8yUAWAAAAAElFTkSuQmCC"
,"Twitter",L),c.appendChild(m),y=t.shortcut("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA9pJREFUeNqslllLa0EMxzvTqnVfaF9cUBRFBDf02e/pt3F/EtxAEEEUxA0fxF1Pa/2d82/jOL334cINeJqZJP9JMknG3Orq6t3dXbVa/fpPBBSAwLrb29uBgYFKRrmA8vm8GFT5eu8xy/0mdCQNTWq1Wltb2/39vQPx4+PDOYdSpGrGti9j439ELpf3PzqgtbS0eJxvbW2VR1I10PAk7UtNxhLJxNWcmcAUCgVgfblcXltbIwTD4kv4BhSmhWDFi7EgfN4jU6LBBbBUKnkWy8vLLAjBHJFTOqCx8ysbtm+eUgboF4vF9fV1ADnGg4LLQkdgqmEesMHL6MaijCkPgAAFA6x7fX1lN0mS9/f3w8PDlZWVz8/P3F8oKhvMLTJEGxsb8/PzOEoC5FAqY4HLU1NTiGFCg/B+olsl49rBHMPp6emOjg4lFpGn+Ezc19c3OTlJUNRMmJYwCc1BYIgJhp2dnVY5KbQcrGZEjvr7+ycmJnSrVjCqFrtkta54QhQuhvBA60ivHnMZwaghu7q6RkdHMdBtcA0Cko51M1/SitrY2Bh5AM6kSUY+aZBrENlob2/HgDIyAx2gr6mhgFoxI4lE8p2qSolF9vslvqenB4/wfWtri2OkQ0zKIF/ShQgF1EgxIu0bk0IrzFrWS0lSMe+6u7tJyMjIyObmJkBhNoSLiJhQUxAWuqXBRx5BOpkvSYcBYnt7m/ClCcOSTQ4GN6u/2FaO168xHLg6WSnq7e0ltKGhoZ2dHQInOTDDw8OIwFUVhKM+dN9dX19nnQN6LRrB8PQnjfD4+AjW1dUVm4ODg1jRAcfHx3Nzc2FziqxF06cgGjfGHB0dMRCY5syAl5cXNQKW+Kvu3d3dnZmZCdvHJnha2mElKjNiwF1aWnp+fmYHPSpX1Q1TKOQ54+3tbXFxEd/DlMJUKvVCcApT53xlgxH+5ORkYWEB4+bnJsoA2d/f38f38BmqD3HOt6JhzRdcBhhJkC/6UgZqd8UnHhGJinxX+frGhKtZ0ZyenuIvBio1lVHWAuncsY7QbJMCY5n7xFAVrFJOX4/Ly0s45fHs7Ax/wbU3UEnQ7UUvskj1p8s4ODgYHx+3BKZeCxpcDufetPxXwhBzQLRMT1Vo5+fns7OziKM8WKMaNaZNXU1PaJaBCuaAAFWfIfxdXFxwxQ8PD1aCclzXJSwrTU2bsNp0b/Qkxzw9PQEFYPofBD/UP/3W/KyEbflHHn/tDsJ9xgMPrKcb9b6EvaNCtNFMsFFtaWnRhC8GUAQNbGFvb895Vy6VaVzVo3mtZfO/egKVyL6mj083NzfAfgswACBs40J0KAZ5AAAAAElFTkSuQmCC"
,"Email",A),c.appendChild(y)}function C(){e.getState()=="PLAYING"&&e.pause(),i.style.visibility="visible",i.style.opacity=1,e.setControls(!1)}function k(e,t){for(var n in t)e.style[n]=t[n]}function L(e){var t=g+encodeURIComponent(p);return n.open(t,"_blank"),n.focus(),!1}function A(e){var t="mailto:?body="+encodeURIComponent(p);return n.open(t,"_blank"),n.focus(),!1}var s,o,u,f,l="http://www.facebook.com/sharer/sharer.php?u=",c,h,p,v,m,g="http://twitter.com/intent/tweet?url=",y;this.resize=function(
t,n){if(e.getRenderingMode()=="flash"||!c)return;u=[t,n],x()},e.onReady(T)};e().registerPlugin("sharing","6.0",r)}(jwplayer),function(e){e.row=function(e){function c(){t=document.createElement("div"),v(t,n),s=document.createElement("label"),s.innerHTML=e,t.appendChild(s),v(s,o),r=document.createElement("input"),r.setAttribute("type","text");try{document.createEvent("TouchEvent")}catch(f){r.setAttribute("readonly","readonly")}v(r,i),t.appendChild(r),u=document.createElement("button"),u.innerHTML="Select"
,u.onclick=d,u.onmouseover=h,u.onmouseout=p,v(u,a),t.appendChild(u)}function h(){v(r,f),v(u,f)}function p(){v(r,l),v(u,l)}function d(){r.select()}function v(e,t){for(var n in t)e.style[n]=t[n]}var t,n={border:"none",position:"absolute",left:"0px",width:"312px",height:"30px",margin:"0 0 0 0",padding:"0 0 0 0"},r,i={position:"absolute",left:"80px",top:"0px",font:"11px Arial",webkitBoxShadow:"0 0 4px #000",MozBoxShadow:"0 0 4px #000",msBoxShadow:"0 0 4px #000",oBoxShadow:"0 0 4px #000",boxShadow:"0 0 4px #000"
,padding:"0px 5px",background:"#FFF",width:"190px",height:"28px",margin:"0 0 0 0",border:"none"},s,o={border:"none",color:"#FFF",display:"block",font:"12px Arial",overflow:"hidden",width:"74px",position:"absolute",top:"10px",left:"0px",textAlign:"right",textTransform:"none",padding:"0 0 0 0"},u,a={position:"absolute",left:"275px",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAcCAIAAAAvP0KbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5JREFUeNpisre3Z/r37x8c////H4VPjjgeMYAAAwBV/1FjCd0OtgAAAABJRU5ErkJggg==)"
,backgroundSize:"100% 100%",color:"#FFF",font:"11px Arial",width:"50px",height:"28px",margin:"0 0 0 0",textAlign:"center",webkitBoxShadow:"0 0 4px #000",MozBoxShadow:"0 0 4px #000",msBoxShadow:"0 0 4px #000",oBoxShadow:"0 0 4px #000",boxShadow:"0 0 4px #000",padding:"0px 5px",border:"none",cursor:"pointer"},f={webkitBoxShadow:"0 0 4px #FFFFFF",MozBoxShadow:"0 0 4px #FFFFFF",msBoxShadow:"0 0 4px #FFFFFF",oBoxShadow:"0 0 4px #FFFFFF",boxShadow:"0 0 4px #FFFFFF"},l={webkitBoxShadow:"0 0 4px #000",MozBoxShadow
:"0 0 4px #000",msBoxShadow:"0 0 4px #000",oBoxShadow:"0 0 4px #000",boxShadow:"0 0 4px #000"};this.getDiv=function(){return t},this.setText=function(e){r.setAttribute("value",e)},this.getWidth=function(){return parseInt(u.style.left)+50},this.resize=function(e){var t=e-230;t<100?t=100:t>400&&(t=400);var n=89+t;v(r,{width:t+"px"}),v(u,{left:n+"px"})},c()}}(jwplayer.sharing),function(e){e.shortcut=function(e,t,n){function u(e){l(s,{webkitBoxShadow:"0 0 4px #FFF",MozBoxShadow:"0 0 4px #FFF",msBoxShadow
:"0 0 4px #FFF",oBoxShadow:"0 0 4px #FFF",boxShadow:"0 0 4px #FFF"})}function a(e){l(s,{webkitBoxShadow:"0 0 4px #000",MozBoxShadow:"0 0 4px #000",msBoxShadow:"0 0 4px #000",oBoxShadow:"0 0 4px #000",boxShadow:"0 0 4px #000"})}function f(){return r=document.createElement("div"),r.onclick=n,r.onmouseout=a,r.onmouseover=u,l(r,i),s=document.createElement("img"),s.setAttribute("src",e),l(s,o),r.appendChild(s),r}function l(e,t){for(var n in t)e.style[n]=t[n]}var r,i={cursor:"pointer",position:"absolute"
,border:"none",color:"#FFF",display:"block",font:"11px/18px Arial,sans-serif",margin:"0 0 0 0",textAlign:"left",textDecoration:"none",textTransform:"none",padding:"0 0 0 10px",width:"30px",height:"30px"},s,o={webkitBoxShadow:"0 0 4px #000",MozBoxShadow:"0 0 4px #000",msBoxShadow:"0 0 4px #000",oBoxShadow:"0 0 4px #000",boxShadow:"0 0 4px #000",position:"absolute",left:"0px",top:"0px",width:"30px",height:"30px",margin:"0 0 0 0",padding:"0 0 0 0"};return f()}}(jwplayer.sharing),define("jwplayer",function(
){});var swfobject=function(){function C(){if(b)return;try{var e=a.getElementsByTagName("body")[0].appendChild(U("span"));e.parentNode.removeChild(e)}catch(t){return}b=!0;var n=c.length;for(var r=0;r<n;r++)c[r]()}function k(e){b?e():c[c.length]=e}function L(t){if(typeof u.addEventListener!=e)u.addEventListener("load",t,!1);else if(typeof a.addEventListener!=e)a.addEventListener("load",t,!1);else if(typeof u.attachEvent!=e)z(u,"onload",t);else if(typeof u.onload=="function"){var n=u.onload;u.onload=
function(){n(),t()}}else u.onload=t}function A(){l?O():M()}function O(){var n=a.getElementsByTagName("body")[0],r=U(t);r.setAttribute("type",i);var s=n.appendChild(r);if(s){var o=0;(function(){if(typeof s.GetVariable!=e){var t=s.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),T.pv=[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}else if(o<10){o++,setTimeout(arguments.callee,10);return}n.removeChild(r),s=null,M()})()}else M()}function M(){var t=h.length;if(t>0)for(var n=0;n<t;n++)
{var r=h[n].id,i=h[n].callbackFn,s={success:!1,id:r};if(T.pv[0]>0){var o=R(r);if(o)if(W(h[n].swfVersion)&&!(T.wk&&T.wk<312))V(r,!0),i&&(s.success=!0,s.ref=_(r),i(s));else if(h[n].expressInstall&&D()){var u={};u.data=h[n].expressInstall,u.width=o.getAttribute("width")||"0",u.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(u.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(u.align=o.getAttribute("align"));var a={},f=o.getElementsByTagName("param"),l=f.length;for(var c=0;
c<l;c++)f[c].getAttribute("name").toLowerCase()!="movie"&&(a[f[c].getAttribute("name")]=f[c].getAttribute("value"));P(u,a,r,i)}else H(o),i&&i(s)}else{V(r,!0);if(i){var p=_(r);p&&typeof p.SetVariable!=e&&(s.success=!0,s.ref=p),i(s)}}}}function _(n){var r=null,i=R(n);if(i&&i.nodeName=="OBJECT")if(typeof i.SetVariable!=e)r=i;else{var s=i.getElementsByTagName(t)[0];s&&(r=s)}return r}function D(){return!w&&W("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function P(t,n,r,i){w=!0,g=i||null,y={success:!1,
id:r};var o=R(r);if(o){o.nodeName=="OBJECT"?(v=B(o),m=null):(v=o,m=r),t.id=s;if(typeof t.width==e||!/%$/.test(t.width)&&parseInt(t.width,10)<310)t.width="310";if(typeof t.height==e||!/%$/.test(t.height)&&parseInt(t.height,10)<137)t.height="137";a.title=a.title.slice(0,47)+" - Flash Player Installation";var f=T.ie&&T.win?"ActiveX":"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+a.title;typeof n.flashvars!=e?n.flashvars+="&"+l:n.flashvars=l;if(
T.ie&&T.win&&o.readyState!=4){var c=U("div");r+="SWFObjectNew",c.setAttribute("id",r),o.parentNode.insertBefore(c,o),o.style.display="none",function(){o.readyState==4?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)}()}j(t,n,r)}}function H(e){if(T.ie&&T.win&&e.readyState!=4){var t=U("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(B(e),t),e.style.display="none",function(){e.readyState==4?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild
(B(e),e)}function B(e){var n=U("div");if(T.win&&T.ie)n.innerHTML=e.innerHTML;else{var r=e.getElementsByTagName(t)[0];if(r){var i=r.childNodes;if(i){var s=i.length;for(var o=0;o<s;o++)(i[o].nodeType!=1||i[o].nodeName!="PARAM")&&i[o].nodeType!=8&&n.appendChild(i[o].cloneNode(!0))}}}return n}function j(n,r,s){var o,u=R(s);if(T.wk&&T.wk<312)return o;if(u){typeof n.id==e&&(n.id=s);if(T.ie&&T.win){var a="";for(var f in n)n[f]!=Object.prototype[f]&&(f.toLowerCase()=="data"?r.movie=n[f]:f.toLowerCase()=="styleclass"?
a+=' class="'+n[f]+'"':f.toLowerCase()!="classid"&&(a+=" "+f+'="'+n[f]+'"'));var l="";for(var c in r)r[c]!=Object.prototype[c]&&(l+='<param name="'+c+'" value="'+r[c]+'" />');u.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+l+"</object>",p[p.length]=n.id,o=R(n.id)}else{var h=U(t);h.setAttribute("type",i);for(var d in n)n[d]!=Object.prototype[d]&&(d.toLowerCase()=="styleclass"?h.setAttribute("class",n[d]):d.toLowerCase()!="classid"&&h.setAttribute(d,n[d]));for(var v in 
r)r[v]!=Object.prototype[v]&&v.toLowerCase()!="movie"&&F(h,v,r[v]);u.parentNode.replaceChild(h,u),o=h}}return o}function F(e,t,n){var r=U("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function I(e){var t=R(e);t&&t.nodeName=="OBJECT"&&(T.ie&&T.win?(t.style.display="none",function(){t.readyState==4?q(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function q(e){var t=R(e);if(t){for(var n in t)typeof t[n]=="function"&&(t[n]=null);t.parentNode.removeChild
(t)}}function R(e){var t=null;try{t=a.getElementById(e)}catch(n){}return t}function U(e){return a.createElement(e)}function z(e,t,n){e.attachEvent(t,n),d[d.length]=[e,t,n]}function W(e){var t=T.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function X(n,r,i,s){if(T.ie&&T.mac)return;var o=a.getElementsByTagName("head")[0];if(!o)return;var u=i&&typeof i=="string"?i:"screen"
;s&&(E=null,S=null);if(!E||S!=u){var f=U("style");f.setAttribute("type","text/css"),f.setAttribute("media",u),E=o.appendChild(f),T.ie&&T.win&&typeof a.styleSheets!=e&&a.styleSheets.length>0&&(E=a.styleSheets[a.styleSheets.length-1]),S=u}T.ie&&T.win?E&&typeof E.addRule==t&&E.addRule(n,r):E&&typeof a.createTextNode!=e&&E.appendChild(a.createTextNode(n+" {"+r+"}"))}function V(e,t){if(!x)return;var n=t?"visible":"hidden";b&&R(e)?R(e).style.visibility=n:X("#"+e,"visibility:"+n)}function $(t){var n=/[\\\"<>\.;]/
,r=n.exec(t)!=null;return r&&typeof encodeURIComponent!=e?encodeURIComponent(t):t}var e="undefined",t="object",n="Shockwave Flash",r="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s="SWFObjectExprInst",o="onreadystatechange",u=window,a=document,f=navigator,l=!1,c=[A],h=[],p=[],d=[],v,m,g,y,b=!1,w=!1,E,S,x=!0,T=function(){var s=typeof a.getElementById!=e&&typeof a.getElementsByTagName!=e&&typeof a.createElement!=e,o=f.userAgent.toLowerCase(),c=f.platform.toLowerCase(),h=c?/win/.
test(c):/win/.test(o),p=c?/mac/.test(c):/mac/.test(o),d=/webkit/.test(o)?parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,v=!1,m=[0,0,0],g=null;if(typeof f.plugins!=e&&typeof f.plugins[n]==t)g=f.plugins[n].description,g&&(typeof f.mimeTypes==e||!f.mimeTypes[i]||!!f.mimeTypes[i].enabledPlugin)&&(l=!0,v=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=parseInt(g.replace(/^(.*)\..*$/,"$1"),10),m[1]=parseInt(g.replace(/^.*\.(.*)\s.*$/,"$1"),10),m[2]=/[a-zA-Z]/.test(g)?parseInt(g.replace(/^.*[a-zA-Z]+(.*)$/
,"$1"),10):0);else if(typeof u.ActiveXObject!=e)try{var y=new ActiveXObject(r);y&&(g=y.GetVariable("$version"),g&&(v=!0,g=g.split(" ")[1].split(","),m=[parseInt(g[0],10),parseInt(g[1],10),parseInt(g[2],10)]))}catch(b){}return{w3:s,pv:m,wk:d,ie:v,win:h,mac:p}}(),N=function(){if(!T.w3)return;(typeof a.readyState!=e&&a.readyState=="complete"||typeof a.readyState==e&&(a.getElementsByTagName("body")[0]||a.body))&&C(),b||(typeof a.addEventListener!=e&&a.addEventListener("DOMContentLoaded",C,!1),T.ie&&T
.win&&(a.attachEvent(o,function(){a.readyState=="complete"&&(a.detachEvent(o,arguments.callee),C())}),u==top&&function(){if(b)return;try{a.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return}C()}()),T.wk&&function(){if(b)return;if(!/loaded|complete/.test(a.readyState)){setTimeout(arguments.callee,0);return}C()}(),L(C))}(),J=function(){T.ie&&T.win&&window.attachEvent("onunload",function(){var e=d.length;for(var t=0;t<e;t++)d[t][0].detachEvent(d[t][1],d[t][2]);var n=p.length
;for(var r=0;r<n;r++)I(p[r]);for(var i in T)T[i]=null;T=null;for(var s in swfobject)swfobject[s]=null;swfobject=null})}();return{registerObject:function(e,t,n,r){if(T.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,h[h.length]=i,V(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(T.w3)return _(e)},embedSWF:function(n,r,i,s,o,u,a,f,l,c){var h={success:!1,id:r};T.w3&&!(T.wk&&T.wk<312)&&n&&r&&i&&s&&o?(V(r,!1),k(function(){i+="",s+="";var p={};if(l&&typeof l===
t)for(var d in l)p[d]=l[d];p.data=n,p.width=i,p.height=s;var v={};if(f&&typeof f===t)for(var m in f)v[m]=f[m];if(a&&typeof a===t)for(var g in a)typeof v.flashvars!=e?v.flashvars+="&"+g+"="+a[g]:v.flashvars=g+"="+a[g];if(W(o)){var y=j(p,v,r);p.id==r&&V(r,!0),h.success=!0,h.ref=y}else{if(u&&D()){p.data=u,P(p,v,r,c);return}V(r,!0)}c&&c(h)})):c&&c(h)},switchOffAutoHideShow:function(){x=!1},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion
:W,createSWF:function(e,t,n){return T.w3?j(e,t,n):undefined},showExpressInstall:function(e,t,n,r){T.w3&&D()&&P(e,t,n,r)},removeSWF:function(e){T.w3&&I(e)},createCSS:function(e,t,n,r){T.w3&&X(e,t,n,r)},addDomLoadEvent:k,addLoadEvent:L,getQueryParamValue:function(e){var t=a.location.search||a.location.hash;if(t){/\?/.test(t)&&(t=t.split("?")[1]);if(e==null)return $(t);var n=t.split("&");for(var r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return $(n[r].substring(n[r].indexOf("=")+1)
)}return""},expressInstallCallback:function(){if(w){var e=R(s);e&&v&&(e.parentNode.replaceChild(v,e),m&&(V(m,!0),T.ie&&T.win&&(v.style.display="block")),g&&g(y)),w=!1}}}}();define("swfobject",function(){}),define("plex/view/players/VideoPlayerView",["hb!templates/players/VideoPlayerView.tpl","plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/control/utils/TranscodeUtil","plex/model/AppModel","plex/model/media/collections/EpisodeCollection","plex/view/BaseView","plex/view/modals/SelectMediaModal"
,"plex/view/modals/SelectOffsetModal","plex/view/modals/ShareModal","plex/view/modals/RecommendModal","plex/view/lists/media/EpisodeTileList","jquery","jwplayer","swfobject"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){jwplayer.key="fv2ELs9q2gEZxE9uuiAGfhbE9Qhc4DyhZjt1j0GaxUI=";var p={mp4:'video/mp4; codecs="avc1.42E01E"',webm:"video/webm",mkv:"video/webm",ogg:"video/ogg",mpegts:"application/x-mpegURL"},d=o.extend({className:"container container-full",server:null,media:null,part:null,offset:0,player:null
,url:null,session:null,episodeList:null,html5:!1,jwplayerReady:!1,timelineInterval:null,pingInterval:null,events:{"click .share-btn":"onShareClick","click .recommend-btn":"onRecommendClick","click .details-btn":"onDetailsClick","click .episode a":"onEpisodeClick"},initialize:function(){_.bindAll(this,"timeline","ping","onTranscodeSuccess","onTranscodeError","onReady","onPlay","onTimeUpdate","onPause","onIdle","onFullscreen","onEnded"),this.server=this.model.server.id==="myPlex"?i.get("primaryServer"
):this.model.server;if(this.model.get("parentKey")){var e=new s([],{server:this.server,section:this.model.section,url:this.model.get("parentKey")+"/children"});this.episodeList=new c({collection:e})}var n=this.model.get("Media");n=_.isArray(n)?n[0]:n,n.protocol==="webkit"?t.trigger("navigate:redirect",this.model.get("url")):this.selectMedia()},render:function(t,n){if(!t&&!n)return this;var r=i.get("myPlex");return this.$el.html(e({serverID:this.server.id,serverObj:this.server,sectionID:this.model
.section?this.model.section.id:0,media:this.model.toJSON(),showHTML5:t,showFlash:n,showShare:r.get("signedIn"),showRecommend:r.get("signedIn"),url:this.url})),this.episodeList&&this.$(".video-more-details").append(this.episodeList.render().el),this},selectMedia:function(){var e=i.get("settings"),t=this.model.get("Media");if(_.isArray(t))if(e.get("highestResolution"))this.media=t[0],this.resolveIndirect();else{var n=new u({media:t}),r=_.bind(function(e){n.off("select:media",r),this.media=e,this.resolveIndirect
()},this);n.on("select:media",r),i.set("modal",n)}else this.media=t,this.resolveIndirect()},resolveIndirect:function(){this.part||(this.part=_.isArray(this.media.Part)?this.media.Part[0]:this.media.Part),t.trigger("command:ShowLoading",!0),this.model.resolveIndirect(this.media,this.part).always(function(){t.trigger("command:ShowLoading",!1)}).done(_.bind(this.selectOffset,this)).fail(_.bind(function(){t.trigger("navigate:redirect",this.model.get("url"))},this))},selectOffset:function(){var e=this
.model.get("viewOffset")||0;if(e){var t=new a({offset:e}),n=_.bind(function(e){t.off("select:offset",n),this.offset=e/1e3,this.selectPlayMethod()},this);t.on("select:offset",n),i.set("modal",t)}else this.offset=0,this.selectPlayMethod()},selectPlayMethod:function(){var e=this.canDirectPlay(),i=this.server.get("supportsTranscoding");if(e){var s=this.server.resolveUrl(this.part.key,!1,!0);/youtube.com/.test(this.part.key)&&this.part.container==="flv"&&(s=this.part.postURL),this.play(s)}else i?r.video
(this.server,this.model,this.part,this.onTranscodeSuccess,this.onTranscodeError):t.trigger("navigate:error",n.t("This media server does not support transcoding."))},play:function(e){var r=this.canPlayFlash();this.render(this.html5,r),_.defer(_.bind(function(){if(this.html5){var i=this.$("#video-player");this.$("video")[0].src=e,i.on("play",this.onPlay),i.on("timeupdate",this.onTimeUpdate),i.on("pause",this.onPause),i.on("ended",this.onEnded)}else r?jwplayer("video-player").setup({file:e,skin:"swf/jwplayer/plex.xml"
,width:870,height:this.calculateHeight(870),stretching:"exactfit",volume:100,mute:!1,autostart:!0,events:{onReady:this.onReady,onPlay:this.onPlay,onPause:this.onPause,onIdle:this.onIdle,onFullscreen:this.onFullscreen,onComplete:this.onEnded}}):t.trigger("navigate:error",n.t("Sorry, the Flash Player or a browser that supports HLS is required to play videos."))},this))},calculateHeight:function(e){var t=this.model.get("Media");return t.aspectRatio?Math.round(e/t.aspectRatio):Math.round(e/(16/9))},timeline
:function(){var e,t,n;if(this.server.get("shared")||!this.model.get("ratingKey"))return;if(this.html5){var r=this.$("#video-player")[0];e=Math.round(r.currentTime*1e3),t=Math.round(r.duration*1e3),r.ended?n="stopped":r.paused?n="paused":n="playing"}else{e=Math.round(jwplayer().getPosition()*1e3),t=Math.round(jwplayer().getDuration()*1e3),n=jwplayer().getState();switch(n){case"BUFFERING":n="buffering";break;case"PLAYING":n="playing";break;case"PAUSED":n="paused";break;case"IDLE":n="stopped"}}var s="/:/timeline?time="+
e;s+="&duration="+t,s+="&state="+n,s+="&ratingKey="+encodeURIComponent(this.model.get("ratingKey")),s+="&X-Plex-Client-Identifier="+i.get("clientID"),h.ajax(this.server.getAjaxOptions(s))},ping:function(){if(!this.session)return;var e="/video/:/transcode/segmented/ping?session="+this.session;h.ajax(this.server.getAjaxOptions(e))},destroy:function(){if(this.html5){var e=this.$("#video-player");e.off("play",this.onPlay),e.off("timeupdate",this.onTimeUpdate),e.off("pause",this.onPause),e.off("ended"
,this.onEnded)}else this.jwplayerReady&&jwplayer("video-player").remove();this.timelineInterval&&clearInterval(this.timelineInterval),this.pingInterval&&clearInterval(this.pingInterval);if(this.session){var t="/video/:/transcode/segmented/stop?session="+this.session;h.ajax(this.server.getAjaxOptions(t))}o.prototype.destroy.call(this)},canDirectPlay:function(){var e=i.get("settings"),t=this.canPlayType(p.mpegts),n=p[this.media.container];this.html5=t;if(!e.get("directPlay"))return!1;if(this.media.
container!=="mkv"||this.media.videoCodec==="vp8"&&this.media.audioCodec==="vorbis")return this.media.container==="mp4"&&(this.media.optimizedForStreaming!=="1"||this.media.videoCodec!=="h264"||this.media.audioCodec!=="aac"&&this.media.audioCodec!=="ac3")?!1:n&&this.canPlayType(n)?(this.html5=!0,!0):this.media.protocol==="hls"?!0:this.media.container==="flv"?(this.html5=!1,!0):!1;return!1},canPlayType:function(e){var t=document.createElement("video");return!!t.canPlayType&&!!t.canPlayType(e).replace
(/^no$/,"")},canPlayFlash:function(){return swfobject.hasFlashPlayerVersion("10")},onTranscodeSuccess:function(e,t){this.url=e,this.session=t,this.play(e)},onTranscodeError:function(e,r,i){t.trigger("navigate:error",n.t("There was an error attempting to play this video."))},onReady:function(){this.jwplayerReady=!0},onPlay:function(e){this.timelineInterval||(this.timelineInterval=setInterval(this.timeline,1e4)),this.pingInterval&&clearInterval(this.pingInterval),this.offset&&(jwplayer().seek(this.
offset),this.offset=0)},onTimeUpdate:function(e){if(this.offset){var t=this.offset;this.offset=null,e.target.currentTime=t,_.delay(function(){e.target.currentTime=t},1e3)}},onPause:function(e){this.pingInterval=setInterval(this.ping,3e4)},onIdle:function(e){this.timelineInterval&&clearInterval(this.timelineInterval),this.pingInterval=setInterval(this.ping,3e4)},onFullscreen:function(e){e.fullscreen?jwplayer().setStretching("uniform"):jwplayer().setStretching("exactfit")},onEnded:function(e){this.
timelineInterval&&clearInterval(this.timelineInterval);var t=this.media.Part;if(_.isArray(t)){var n=_.indexOf(t,this.part);n+1<t.length&&(this.part=t[n+1],this.resolveIndirect())}},onShareClick:function(e){e.preventDefault(),i.set("modal",new f({model:this.model}))},onRecommendClick:function(e){e.preventDefault(),i.set("modal",new l({model:this.model}))},onDetailsClick:function(e){e.preventDefault(),h(e.target).toggleClass("selected"),this.$(".video-more-details").toggleClass("open")},onEpisodeClick
:function(e){this.session=null}});return d}),define("hb!templates/channels/MyChannelsView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l,c,h=this,p="function",d=n.helperMissing,v=void 0,m=this.escapeExpression;return s+='<div class="row-fluid">\n	<a class="check-updates-btn btn btn-inverse"><i class="glyphicon circle-arrow-top"></i> ',o="Check for Updates",c=n.t,u=c||t.t,typeof u===p?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}})
:o=u,s+=m(o)+'</a>\n\n	<h1><i class="glyphicon list"></i> ',o="My Channels",c=n.t,u=c||t.t,typeof u===p?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</h1>\n</div>\n\n<div id="filters-banner" class="banner">\n	<a class="pull-right" href="#!/servers/',c=n.serverID,o=c||t.serverID,typeof o===p?o=o.call(t,{hash:{}}):o===v&&(o=d.call(t,"serverID",{hash:{}})),s+=m(o)+'/channels/directory"><i class="glyphicon show-big-thumbnails"></i> ',o="Directory",c=n.t,u=c||t.t,typeof u===p?
o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</a>\n\n	<ul class="horizontal-filter-list channel-filter-list">\n		<li class="all-filter channel-filter ',o="",u="selected",a="all",c=n.view,f=c||t.view,c=n.eq,l=c||t.eq,typeof l===p?o=l.call(t,f,a,u,o,{hash:{}}):l===v?o=d.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=m(o)+'"><a href="#">',o="All",c=n.t,u=c||t.t,typeof u===p?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</a></li>\n		<li class="video-filter channel-filter '
,o="",u="selected",a="video",c=n.view,f=c||t.view,c=n.eq,l=c||t.eq,typeof l===p?o=l.call(t,f,a,u,o,{hash:{}}):l===v?o=d.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=m(o)+'"><a href="#">',c=n.video,o=c||t.video,typeof o===p?o=o.call(t,{hash:{}}):o===v&&(o=d.call(t,"video",{hash:{}})),s+=m(o)+" ",o="Video",c=n.t,u=c||t.t,typeof u===p?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</a></li>\n		<li class="music-filter channel-filter ',o="",u="selected",a="music",c=n.view,f=c||t.view,
c=n.eq,l=c||t.eq,typeof l===p?o=l.call(t,f,a,u,o,{hash:{}}):l===v?o=d.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=m(o)+'"><a href="#">',c=n.music,o=c||t.music,typeof o===p?o=o.call(t,{hash:{}}):o===v&&(o=d.call(t,"music",{hash:{}})),s+=m(o)+" ",o="Music",c=n.t,u=c||t.t,typeof u===p?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+'</a></li>\n		<li class="photo-filter channel-filter ',o="",u="selected",a="photo",c=n.view,f=c||t.view,c=n.eq,l=c||t.eq,typeof l===p?o=l.call(t,f,a,u,o,{
hash:{}}):l===v?o=d.call(t,"eq",f,a,u,o,{hash:{}}):o=l,s+=m(o)+'"><a href="#">',c=n.photo,o=c||t.photo,typeof o===p?o=o.call(t,{hash:{}}):o===v&&(o=d.call(t,"photo",{hash:{}})),s+=m(o)+" ",o="Photo",c=n.t,u=c||t.t,typeof u===p?o=u.call(t,o,{hash:{}}):u===v?o=d.call(t,"t",o,{hash:{}}):o=u,s+=m(o)+"</a></li>\n	</ul>\n</div>\n",s})}),define("plex/view/channels/MyChannelsView",["hb!templates/channels/MyChannelsView.tpl","plex/control/Dispatcher","plex/view/BaseView","plex/view/lists/channels/ChannelList"
,"jquery"],function(e,t,n,r,i){var s=n.extend({className:"channel-container container container-full well",view:"all",events:{"click .check-updates-btn":"onCheckUpdatesClick","click .all-filter a":"onAllClick","click .video-filter a":"onVideoClick","click .music-filter a":"onMusicClick","click .photo-filter a":"onPhotoClick"},initialize:function(){this.listCollection=new Backbone.Collection(this.collection.all()),this.list=this.registerView(new r({collection:this.listCollection})),this.addBinding
(this.collection,"reset",this.onReset),this.addBinding(this.collection,"destroy",this.onDestroy),this.collection.fetch()},render:function(){var t=this.collection.videos().length,n=this.collection.music().length,r=this.collection.photos().length;return this.$el.html(e({serverID:this.collection.server.id,view:this.view,video:t,music:n,photo:r})),this.$el.append(this.list.render().el),this},onReset:function(e){this.listCollection.reset(this.collection.all()),this.render()},onDestroy:function(e){this
.render()},onCheckUpdatesClick:function(e){e.preventDefault();var n=i(e.target);n.addClass("disabled");var r={server:this.collection.server};t.trigger("command:UpdateChannel",r,function(){n.removeClass("disabled")})},onAllClick:function(e){e.preventDefault(),this.view="all",this.$(".channel-filter").removeClass("selected"),this.$(".all-filter").addClass("selected"),this.listCollection.reset(this.collection.all())},onVideoClick:function(e){e.preventDefault(),this.view="video",this.$(".channel-filter"
).removeClass("selected"),this.$(".video-filter").addClass("selected"),this.listCollection.reset(this.collection.videos())},onMusicClick:function(e){e.preventDefault(),this.view="music",this.$(".channel-filter").removeClass("selected"),this.$(".music-filter").addClass("selected"),this.listCollection.reset(this.collection.music())},onPhotoClick:function(e){e.preventDefault(),this.view="photo",this.$(".channel-filter").removeClass("selected"),this.$(".photo-filter").addClass("selected"),this.listCollection
.reset(this.collection.photos())}});return s}),define("hb!templates/channels/ChannelDirectoryView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function m(e,t,r){var i="",s,o,u;i+='\n			<li class="',a=n.key,s=a||e.key,a=n.activeFilter,o=a||r.activeFilter,a=n.if_eq,u=a||e.if_eq,f=l.program(2,g,t),f.hash={},f.fn=f,f.inverse=l.noop,a&&typeof u===c?s=u.call(e,o,s,f):s=h.call(e,u,o,s,f);if(s||s===0)i+=s;return i+='">\n				<a href="#!/servers/',a=n.serverID,s=a||r.serverID,typeof 
s===c?s=s.call(e,{hash:{}}):s===d&&(s=p.call(e,"...serverID",{hash:{}})),i+=v(s)+"/channels/directory?filter=",a=n.key,s=a||e.key,a=n.encodeURL,o=a||e.encodeURL,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"encodeURL",s,{hash:{}}):s=o,i+=v(s)+'">\n					',a=n.title,s=a||e.title,a=n.t,o=a||e.t,typeof o===c?s=o.call(e,s,{hash:{}}):o===d?s=p.call(e,"t",s,{hash:{}}):s=o,i+=v(s)+"\n				</a>\n			</li>\n		",i}function g(e,t){return"selected"}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=
n.blockHelperMissing,p=n.helperMissing,d=void 0,v=this.escapeExpression;s+='<div class="row-fluid">\n	<a class="check-updates-btn btn btn-inverse"><i class="glyphicon circle-arrow-top"></i> ',o="Check for Updates",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n\n	<h1><i class="glyphicon show-big-thumbnails"></i> ',o="Channel Directory",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</h1>\n</div>\n\n<div id="channel-directory-banner" class="banner banner-small">\n	<a class="pull-right" href="#!/servers/'
,a=n.serverID,o=a||t.serverID,typeof o===c?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"serverID",{hash:{}})),s+=v(o)+'/channels"><i class="glyphicon list"></i> ',o="My Channels",a=n.t,u=a||t.t,typeof u===c?o=u.call(t,o,{hash:{}}):u===d?o=p.call(t,"t",o,{hash:{}}):o=u,s+=v(o)+'</a>\n\n	<ul class="horizontal-filter-list">\n		',a=n.filters,o=a||t.filters,u=n.each,f=l.programWithDepth(m,i,t),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n	</ul>\n</div>\n",s})}),define("hb!templates/lists/channels/items/ChannelDirectoryListItem.tpl"
,["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;return s+='<a href="#!/servers/',f=n.serverID,o=f||t.serverID,typeof o===c?o=o.call(t,{hash:{}}):o===p&&(o=h.call(t,"serverID",{hash:{}})),s+=d(o)+"/channels/directory?filter=",f=n.activeFilter,o=f||t.activeFilter,f=n.encodeURL,u=f||t.encodeURL,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"encodeURL",o,{hash:{}}):o=u,s+=d
(o)+"&key=",f=n.channelDirectory,o=f||t.channelDirectory,o=o===null||o===undefined||o===!1?o:o.key,f=n.encodeURL,u=f||t.encodeURL,typeof u===c?o=u.call(t,o,{hash:{}}):u===p?o=h.call(t,"encodeURL",o,{hash:{}}):o=u,s+=d(o)+'">\n	',o=40,f=n.channelDirectory,u=f||t.channelDirectory,u=u===null||u===undefined||u===!1?u:u.title,f=n.truncate,a=f||t.truncate,typeof a===c?o=a.call(t,u,o,{hash:{}}):a===p?o=h.call(t,"truncate",u,o,{hash:{}}):o=a,s+=d(o)+"\n</a>\n",s})}),define("plex/view/lists/channels/items/ChannelDirectoryListItem"
,["hb!templates/lists/channels/items/ChannelDirectoryListItem.tpl","plex/control/Dispatcher","plex/model/AppModel","plex/model/collections/PreferenceCollection","plex/view/BaseView","plex/view/modals/ChannelSettingsModal"],function(e,t,n,r,i,s){var o=i.extend({tagName:"li",events:{"click a":"onClick"},initialize:function(e){this.list=e.list,this.addBinding(this.model,"change",this.render)},render:function(){return this.$el.html(e({serverID:this.model.server.id,activeFilter:this.list.activeFilter,
channelDirectory:this.model.toJSON()})),this},onClick:function(e){if(/\/updates$/.test(this.model.id))e.preventDefault(),t.trigger("command:UpdateChannel",{server:this.model.server});else if(/\/prefs$/.test(this.model.id)){e.preventDefault();var i=new r([],{server:this.model.server,url:this.model.id});i.fetch().done(_.bind(function(){n.set("modal",new s({model:this.model,collection:i}))},this))}}});return o}),define("plex/view/lists/channels/ChannelDirectoryList",["plex/view/lists/BaseList","plex/view/lists/channels/items/ChannelDirectoryListItem"
],function(e,t){var n=e.extend({tagName:"ul",className:"compact-list channel-directory-list",initialize:function(e){this.activeFilter=e.activeFilter,this.setup(t)},render:function(){return this.$el.empty(),this.populate(this.collection),this}});return n}),define("plex/view/channels/ChannelDirectoryView",["hb!templates/channels/ChannelDirectoryView.tpl","plex/control/Dispatcher","plex/model/collections/ChannelCollection","plex/view/BaseView","plex/view/lists/channels/ChannelDirectoryList","plex/view/lists/channels/ChannelTileList"
,"jquery"],function(e,t,n,r,i,s,o){var u=r.extend({className:"channel-container container container-full well",channels:null,channelList:null,events:{"click .check-updates-btn":"onCheckUpdatesClick"},initialize:function(e){this.activeFilter=e.activeFilter||"/system/appstore/featured",this.activeKey=e.activeKey||this.activeFilter,this.channels=new n([],{server:this.collection.server,url:this.activeKey}),this.channels.fetch().done(_.bind(function(){this.channels.viewGroup==="Store:Info"?this.channelList=
this.registerView(new s({collection:this.channels})):this.channelList=this.registerView(new i({collection:this.channels,activeFilter:this.activeFilter})),this.render()},this))},render:function(){return this.$el.html(e({serverID:this.collection.server.id,activeFilter:this.activeFilter,filters:this.collection.toJSON()})),this.channelList&&this.$("#channel-directory-banner").after(this.channelList.render().el),this},onCheckUpdatesClick:function(e){e.preventDefault();var n=o(e.target);n.addClass("disabled"
);var r={server:this.collection.server};t.trigger("command:UpdateChannel",r,function(){n.removeClass("disabled")})}});return u}),define("hb!templates/channels/ChannelView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function g(e,t){var r="",i,s,o;return r+="\n			",i=20,f=n.channel,s=f||e.channel,s=s===null||s===undefined||s===!1?s:s.title,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+"\n		",r}function y
(e,t){var r="",i,s,o;r+='\n			<a href="#!/servers/',f=n.serverID,i=f||e.serverID,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"serverID",{hash:{}})),r+=v(i)+"/channels?",f=n.channel,i=f||e.channel,i=i===null||i===undefined||i===!1?i:i.key,s=n["if"],l=c.program(4,b,t),l.hash={},l.fn=l,l.inverse=c.program(6,w,t),i=s.call(e,i,l);if(i||i===0)r+=i;return r+='">',i=20,f=n.channel,s=f||e.channel,s=s===null||s===undefined||s===!1?s:s.title,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i
,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+'</a>\n			<span class="secondary">',i=20,f=n.channelMedia,s=f||e.channelMedia,s=s===null||s===undefined||s===!1?s:s.title,f=n.truncate,o=f||e.truncate,typeof o===h?i=o.call(e,s,i,{hash:{}}):o===d?i=p.call(e,"truncate",s,i,{hash:{}}):i=o,r+=v(i)+"</span>\n		",r}function b(e,t){var r="",i,s;return r+="key=",f=n.channel,i=f||e.channel,i=i===null||i===undefined||i===!1?i:i.key,f=n.encodeURL,s=f||e.encodeURL,typeof s===h?i=s.call(e,i,{
hash:{}}):s===d?i=p.call(e,"encodeURL",i,{hash:{}}):i=s,r+=v(i),r}function w(e,t){var r="",i;return r+="identifier=",f=n.channel,i=f||e.channel,i=i===null||i===undefined||i===!1?i:i.identifier,typeof i===h?i=i.call(e,{hash:{}}):i===d&&(i=p.call(e,"channel.identifier",{hash:{}})),r+=v(i),r}function E(e,t){return"tile-list"}function S(e,t,r){var i="",s,o,u;return i+="\n			",s="adaptiveChannelListItem",o={},f=n.channel,u=f||r.channel,u=u===null||u===undefined||u===!1?u:u.key,o.channelKey=u,f=n.channel
,u=f||r.channel,u=u===null||u===undefined||u===!1?u:u.identifier,o.channelID=u,u="video",o.itemType=u,f=n.listType,u=f||r.listType,o.listType=u,f=n.serverID,u=f||r.serverID,o.serverID=u,f=n.serverObj,u=f||r.serverObj,o.serverObj=u,f=n.partial,u=f||e.partial,l={},l.hash=o,typeof u===h?s=u.call(e,s,l):u===d?s=p.call(e,"partial",s,l):s=u,i+=v(s)+"\n		",i}function x(e,t,r){var i="",s,o;i+="\n			",s=e.settings,o=n.unless,l=c.programWithDepth(T,t,r),l.hash={},l.fn=l,l.inverse=c.noop,s=o.call(e,s,l);if(
s||s===0)i+=s;return i+="\n		",i}function T(e,t,r){var i,s;return i=e.search,s=n.unless,l=c.programWithDepth(N,t,r),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l),i||i===0?i:""}function N(e,t,r){var i="",s,o,u;return i+="\n				",s="adaptiveChannelListItem",o={},f=n.channel,u=f||r.channel,u=u===null||u===undefined||u===!1?u:u.key,o.channelKey=u,f=n.channel,u=f||r.channel,u=u===null||u===undefined||u===!1?u:u.identifier,o.channelID=u,u="track",o.itemType=u,f=n.listType,u=f||r.listType,o.listType=
u,f=n.serverID,u=f||r.serverID,o.serverID=u,f=n.serverObj,u=f||r.serverObj,o.serverObj=u,f=n.partial,u=f||e.partial,l={},l.hash=o,typeof u===h?s=u.call(e,s,l):u===d?s=p.call(e,"partial",s,l):s=u,i+=v(s)+"\n			",i}function C(e,t,r){var i="",s,o;i+="\n			",s=e.settings,o=n.unless,l=c.programWithDepth(k,t,r),l.hash={},l.fn=l,l.inverse=c.noop,s=o.call(e,s,l);if(s||s===0)i+=s;return i+="\n		",i}function k(e,t,r){var i,s;return i=e.search,s=n.unless,l=c.programWithDepth(L,t,r),l.hash={},l.fn=l,l.inverse=
c.noop,i=s.call(e,i,l),i||i===0?i:""}function L(e,t,r){var i="",s,o,u;return i+="\n				",s="adaptiveChannelListItem",o={},f=n.channel,u=f||r.channel,u=u===null||u===undefined||u===!1?u:u.key,o.channelKey=u,f=n.channel,u=f||r.channel,u=u===null||u===undefined||u===!1?u:u.identifier,o.channelID=u,u="photo",o.itemType=u,f=n.listType,u=f||r.listType,o.listType=u,f=n.serverID,u=f||r.serverID,o.serverID=u,f=n.serverObj,u=f||r.serverObj,o.serverObj=u,f=n.partial,u=f||e.partial,l={},l.hash=o,typeof u===h?
s=u.call(e,s,l):u===d?s=p.call(e,"partial",s,l):s=u,i+=v(s)+"\n			",i}function A(e,t,r){var i="",s,o;i+="\n			",s=e.settings,o=n.unless,l=c.programWithDepth(O,t,r),l.hash={},l.fn=l,l.inverse=c.noop,s=o.call(e,s,l);if(s||s===0)i+=s;return i+="\n		",i}function O(e,t,r){var i,s;return i=e.search,s=n.unless,l=c.programWithDepth(M,t,r),l.hash={},l.fn=l,l.inverse=c.noop,i=s.call(e,i,l),i||i===0?i:""}function M(e,t,r){var i="",s,o,u;return i+="\n				",s="adaptiveChannelListItem",o={},f=n.channel,u=f||r.
channel,u=u===null||u===undefined||u===!1?u:u.key,o.channelKey=u,f=n.channel,u=f||r.channel,u=u===null||u===undefined||u===!1?u:u.identifier,o.channelID=u,u="directory",o.itemType=u,f=n.listType,u=f||r.listType,o.listType=u,f=n.serverID,u=f||r.serverID,o.serverID=u,f=n.serverObj,u=f||r.serverObj,o.serverObj=u,f=n.partial,u=f||e.partial,l={},l.hash=o,typeof u===h?s=u.call(e,s,l):u===d?s=p.call(e,"partial",s,l):s=u,i+=v(s)+"\n			",i}function _(e,t){var r="",i,s,o,u,a;return r+='\n	<div class="fanart" style="background-image: url('
,i=720,s=1280,f=n.channel,o=f||e.channel,o=o===null||o===undefined||o===!1?o:o.art,f=n.serverObj,u=f||e.serverObj,f=n.transcodeImage,a=f||e.transcodeImage,typeof a===h?i=a.call(e,u,o,s,i,{hash:{}}):a===d?i=p.call(e,"transcodeImage",u,o,s,i,{hash:{}}):i=a,r+=v(i)+');"></div>\n	<div class="fanart-overlay"></div>\n',r}n=n||e.helpers;var s="",o,u,a,f,l,c=this,h="function",p=n.helperMissing,d=void 0,v=this.escapeExpression,m=n.blockHelperMissing;s+='<div class="channel-details details">\n	<h1>\n		',f=
n.isRoot,o=f||t.isRoot,u=n["if"],l=c.program(1,g,i),l.hash={},l.fn=l,l.inverse=c.program(3,y,i),o=u.call(t,o,l);if(o||o===0)s+=o;s+='\n	</h1>\n\n	<ul class="',o="poster-tile-list",f=n.listType,u=f||t.listType,f=n.if_eq,a=f||t.if_eq,l=c.program(8,E,i),l.hash={},l.fn=l,l.inverse=c.noop,f&&typeof a===h?o=a.call(t,u,o,l):o=m.call(t,a,u,o,l);if(o||o===0)s+=o;s+=" ",f=n.listType,o=f||t.listType,typeof o===h?o=o.call(t,{hash:{}}):o===d&&(o=p.call(t,"listType",{hash:{}})),s+=v(o)+'">\n		',f=n.channelMedia
,o=f||t.channelMedia,o=o===null||o===undefined||o===!1?o:o.Video,u=n.each,l=c.programWithDepth(S,i,t),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n\n		",f=n.tracks,o=f||t.tracks,u=n.each,l=c.programWithDepth(x,i,t),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n\n		",f=n.photos,o=f||t.photos,u=n.each,l=c.programWithDepth(C,i,t),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n\n		",f=n.channelMedia,o=f||t.channelMedia,o=
o===null||o===undefined||o===!1?o:o.Directory,u=n.each,l=c.programWithDepth(A,i,t),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;s+="\n	</ul>\n</div>\n\n",f=n.channel,o=f||t.channel,o=o===null||o===undefined||o===!1?o:o.art,u=n["if"],l=c.program(24,_,i),l.hash={},l.fn=l,l.inverse=c.noop,o=u.call(t,o,l);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/channels/ChannelView",["hb!templates/channels/ChannelView.tpl","plex/control/Dispatcher","plex/view/BaseView","jquery"],
function(e,t,n,r){var i=n.extend({className:"container container-full",events:{"click .track a":"onTrackClick","click .photo a":"onPhotoClick"},initialize:function(e){this.channel=e.channel,this.loadPosterDelay=_.debounce(this.loadPoster,500)},render:function(){var t=this.adaptList();return this.$el.html(e({serverID:this.model.server.id,serverURL:this.model.server.url(),serverObj:this.model.server,channel:this.channel.toJSON(),channelMedia:this.model.toJSON(),isRoot:this.channel.id===this.model.id
,tracks:this.model.get("tracks").toJSON(),photos:this.model.get("photos").toJSON(),listType:t})),this.loadPosterDelay(),this},adaptList:function(){var e=this.model.get("viewGroup"),t=this.model.get("Directory"),n=this.model.get("Video"),r=this.model.get("tracks").toJSON(),i=this.model.get("photos").toJSON();if(e==="Pictures")return"poster-tile-list";if(e==="List")return"compact-list";if(i&&i.length)return"poster-tile-list";var s=_.compact([].concat(t,n,r,i));if(s&&s.length){var o=0,u=0,a=!0,f;if(
s.length>100)return"compact-list";_.each(s,function(e){if(e.settings||e.search)return;e.title&&(u+=e.title.length),f&&e.thumb!==f&&(a=!1),e.summary||o++,f=e.thumb});if(a)return"compact-list";if(o>s.length/2&&u/s.length<20)return"poster-tile-list"}return"poster-list"},loadPoster:function(){this.$(".poster").lazyload({threshold:100})},onTrackClick:function(e){e.preventDefault();var n=this.model.get("tracks"),i=r(e.currentTarget).data("id");t.trigger("play:music",n,n.get(i))},onPhotoClick:function(e
){e.preventDefault();var n=this.model.get("photos"),i=r(e.currentTarget).data("id");t.trigger("show:photo",n,n.get(i))}});return i}),define("hb!templates/ErrorView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<i class="plex-icon-sad"></i>\n\n<p class="error-message">',u=n.error,o=u||t.error,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"error",{hash:{}})),
s+=h(o)+"</p>\n",s})}),define("plex/view/ErrorView",["hb!templates/ErrorView.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({className:"error-container container",error:null,initialize:function(e){this.error=e.error},render:function(){return this.$el.html(e({error:this.error})),this}});return n}),define("hb!templates/LoginView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i,s;r+='\n	<div class="error-container">\n		',a=n.isUnavailable,i=a||
e.isUnavailable,s=n["if"],f=l.program(2,m,t),f.hash={},f.fn=f,f.inverse=l.program(4,g,t),i=s.call(e,i,f);if(i||i===0)r+=i;return r+="\n	</div>\n",r}function m(e,t){var r="",i,s;return r+='\n			<i class="plex-icon-sad"></i>\n			<p class="error-message">',i="This server is unavailable to you.",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+' <a class="sign-out-btn" href="#">',i="Sign Out",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=
h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a></p>\n		",r}function g(e,t){var r="",i,s,o;return r+='\n			<i class="plex-icon-myplex"></i>\n			<p class="error-message">',a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.username,s="You are signed in as {1}.",a=n.t,o=a||e.t,typeof o===c?i=o.call(e,s,i,{hash:{}}):o===p?i=h.call(e,"t",s,i,{hash:{}}):i=o,r+=d(i)+' <a class="sign-out-btn" href="#">',i="Sign Out",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:
{}}):i=s,r+=d(i)+"</a></p>\n		",r}function y(e,t){var r="",i,s;return r+='\n	<form class="row-fluid login-form">\n		<div class="span3"></div>\n		<div class="span6 login-body">\n			<i class="plex-icon-myplex"></i>\n\n			<h3>',i="Sign in to your",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+' <a href="',a=n.myPlex,i=a||e.myPlex,i=i===null||i===undefined||i===!1?i:i.url,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"myPlex.url",{hash:{}}))
,r+=d(i)+'">',i="myPlex",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"</a> ",i="account",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'</h3>\n\n			<div class="control-group">\n				<input type="text" class="span12" name="username" placeholder="',i="username or email",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n			</div>\n\n			<div class="control-group">\n				<input type="password" class="span12" name="password" placeholder="'
,i="password",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n			</div>\n\n			<div class="control-group">\n				<input type="submit" class="btn btn-medium btn-primary pull-right" value="',i="Sign In",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+'">\n				<label>\n					<input type="checkbox" name="rememberMe" value="1">\n					',i="Remember Me",a=n.t,s=a||e.t,typeof s===c?i=s.call(e,i,{hash:{}}
):s===p?i=h.call(e,"t",i,{hash:{}}):i=s,r+=d(i)+"\n				</label>\n			</div>\n		</div>\n	</form>\n",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.myPlex,o=a||t.myPlex,o=o===null||o===undefined||o===!1?o:o.signedIn,u=n["if"],f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.program(6,y,i),o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/LoginView",["hb!templates/LoginView.tpl","plex/control/Dispatcher","plex/model/AppModel"
,"plex/view/BaseView"],function(e,t,n,r){var i=r.extend({className:"container well login-container",events:{"submit .login-form":"onSubmit","click .sign-out-btn":"onSignOutClick"},render:function(){var t=n.get("myPlex");return this.$el.html(e({myPlex:t.toJSON(),isUnavailable:n.get("isUnavailable"),plexpassUrl:t.resolveUrl("/subscription/about"),signUpUrl:t.resolveUrl("/users/sign_up")})),this},onSubmit:function(e){e.preventDefault();var n=e.currentTarget,r=this.$("input[type=submit]");if(r.hasClass
("disabled"))return;r.addClass("disabled");var i={username:n.username.value,password:n.password.value,rememberMe:n.rememberMe.value};t.trigger("command:SignIn",i,function(){r.removeClass("disabled")})},onSignOutClick:function(e){e.preventDefault(),t.trigger("command:SignOut")}});return i}),define("hb!templates/UnsupportedBrowserView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s,o=this;return'<i class="plex-icon-sad"></i>\n\n<p class="error-message">\n	Sorry, this browser doesn\'t appear to be supported.<br>\n	See <a href="http://wiki.plexapp.com/index.php/UnsupportedBrowsers">the wiki</a> for more info.\n</p>\n'
})}),define("plex/view/UnsupportedBrowserView",["hb!templates/UnsupportedBrowserView.tpl","plex/view/BaseView"],function(e,t){var n=t.extend({className:"error-container container",render:function(){return this.$el.html(e({})),this}});return n}),define("hb!templates/InfoView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){function v(e,t){var r="",i;return r+="\n	<p>\n		<strong>",a=n.label,i=a||e.label,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"label",{hash:{}})),r+=
d(i)+":</strong> ",a=n.value,i=a||e.value,typeof i===c?i=i.call(e,{hash:{}}):i===p&&(i=h.call(e,"value",{hash:{}})),r+=d(i)+"\n	</p>\n",r}n=n||e.helpers;var s="",o,u,a,f,l=this,c="function",h=n.helperMissing,p=void 0,d=this.escapeExpression;a=n.items,o=a||t.items,u=n.each,f=l.program(1,v,i),f.hash={},f.fn=f,f.inverse=l.noop,o=u.call(t,o,f);if(o||o===0)s+=o;return s+="\n",s})}),define("plex/view/InfoView",["hb!templates/InfoView.tpl","plex/model/DebugInfoModel","plex/view/BaseView"],function(e,t,n
){var r={host:"Host",userAgent:"User Agent",browser:"Browser Info",clientVersion:"Bundle Version",isAuthorized:"Is Authorized",isAvailable:"Is Available",primaryServerUrl:"Server URL",primaryServerAuthToken:"Server Auth Token",primaryServerVersion:"Server Version",myPlexUrl:"myPlex URL",myPlexFeatures:"myPlex Subscriptions",myPlexUsername:"myPlex Username",myPlexAuthToken:"myPlex Auth Token"},i=n.extend({className:"container well",render:function(){var n=t.toJSON(),i=_.map(_.keys(n),function(e){return{
label:r[e]||e,value:t.get(e)}});return this.$el.html(e({items:i})),this}});return i}),define("hb!templates/LogView.tpl",["handlebars"],function(e){return e.template(function(e,t,n,r,i){n=n||e.helpers;var s="",o,u,a=this,f="function",l=n.helperMissing,c=void 0,h=this.escapeExpression;return s+='<div class="banner">\n	<!--\n		TODO(schuyler): On browsers with a filesystem API, we can probably offer this content as a download...\n	-->\n	<span class="banner-title">Logs</span> <span class="banner-count"></span>\n</div>\n\n<textarea class="input-logs">\n'
,u=n.blob,o=u||t.blob,typeof o===f?o=o.call(t,{hash:{}}):o===c&&(o=l.call(t,"blob",{hash:{}})),s+=h(o)+"\n</textarea>\n",s})}),define("plex/view/LogView",["hb!templates/LogView.tpl","plex/view/BaseView","plex/control/utils/LogUtil"],function(e,t,n){var r=t.extend({className:"container container-full well",render:function(){var t=n.getLogsAsJSON(!0);return this.$el.html(e({blob:t})),this}});return r}),define("plex/control/Router",["plex/control/Dispatcher","plex/control/utils/LocalizationUtil","plex/model/AppModel"
,"plex/model/HeaderModel","plex/model/media/DetailsModel","plex/model/media/PlaylistItemModel","plex/model/ChannelModel","plex/model/media/ChannelVideoModel","plex/model/collections/SearchProviderCollection","plex/model/collections/ChannelCollection","plex/model/media/collections/MediaCollection","plex/view/AppView","plex/view/DashboardView","plex/view/setup/SetupView","plex/view/FriendsView","plex/view/PlaylistView","plex/view/SearchView","plex/view/server/settings/ServerSettingsView","plex/view/server/ServerTimelineView"
,"plex/view/server/ServerView","plex/view/section/ManageSectionView","plex/view/section/SectionView","plex/view/section/SectionFolderView","plex/view/details/DetailsView","plex/view/edit/EditView","plex/view/players/VideoPlayerView","plex/view/channels/MyChannelsView","plex/view/channels/ChannelDirectoryView","plex/view/channels/ChannelView","plex/view/ErrorView","plex/view/LoginView","plex/view/UnsupportedBrowserView","plex/view/InfoView","plex/view/LogView","jquery","backbone"],function(e,t,n,r
,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,D,P,H){var B=n.get("servers"),j=function(n){return n.get("shared")?(e.trigger("navigate:error",t.t("This view is only available for your servers.")),!1):!0},F=function(){typeof _gaq!="undefined"&&(_gaq.push(["_setCustomVar",1,"Version",n.get("version"),2]),_gaq.push(["_setCustomVar",2,"PMS Version",n.get("primaryServer").get("version"),2]))},I=Backbone.Router.extend({history:0,currentFragment:null,previousFragment:null,routes:{"":"empty","!/dashboard"
:"dashboard","!/setup":"setup","!/friends":"friends","!/playlist/:playlistName":"playlist","!/playlist/:playlistName/details/:itemID":"playlistItem","!/playlist/:playlistName/player/:itemID":"playlistPlayer","!/search/:query":"search","!/settings":"settings","!/servers/:serverID":"server","!/servers/:serverID/settings":"serverSettings","!/servers/:serverID/timeline":"serverTimeline","!/servers/:serverID/sections/add":"addSection","!/servers/:serverID/sections/:sectionID/details/:mediaID":"details"
,"!/servers/:serverID/sections/:sectionID/edit/:mediaID":"edit","!/servers/:serverID/sections/:sectionID/player/:mediaID":"player","!/servers/:serverID/sections/:sectionID/manage":"manageSection","!/servers/:serverID/sections/:sectionID/folder?key=:folderID&type=:type":"sectionFolder","!/servers/:serverID/sections/:sectionID/folder?key=:folderID":"sectionFolder","!/servers/:serverID/sections/:sectionID/folder":"sectionFolder","!/servers/:serverID/sections/:sectionID":"section","!/servers/:serverID/channels/directory?filter=:filter&key=:key"
:"channelDirectory","!/servers/:serverID/channels/directory?filter=:filter":"channelDirectory","!/servers/:serverID/channels/directory":"channelDirectory","!/servers/:serverID/channels?key=:key&path=:path":"channel","!/servers/:serverID/channels?key=:key":"channel","!/servers/:serverID/channels?identifier=:identifier&path=:path":"channelByIdentifier","!/servers/:serverID/channels?identifier=:identifier":"channelByIdentifier","!/servers/:serverID/channels/details?key=:key&path=:path":"channelDetails"
,"!/servers/:serverID/channels/details?identifier=:identifier&path=:path":"channelDetailsByIdentifier","!/servers/:serverID/channels/player?key=:key&path=:path":"channelPlayer","!/servers/:serverID/channels/player?identifier=:identifier&path=:path":"channelPlayerByIdentifier","!/servers/:serverID/channels":"myChannels","!/login":"login","!/unsupported":"unsupported","!/info":"info","!/logs":"logs","*404":"error"},authExemptRoutes:["empty","login","unsupported","info","logs","error"],historyExemptRoutes
:["empty","login","unsupported"],trackingExemptRoutes:["empty"],initialize:function(){var t;n.on("change:modal",function(e,t){t.name&&this.track(t.name)},this),t=this.trackingExemptRoutes.slice(0),t.unshift(_.uniq(_.values(this.routes)));var r=_.without.apply(_,t);_.each(r,function(e){this[e]=_.wrap(this[e],function(t){this.track("route:"+e),t.apply(this,_.toArray(arguments).slice(1))})},this),t=this.authExemptRoutes.slice(0),t.unshift(_.uniq(_.values(this.routes)));var i=_.without.apply(_,t);_.each
(i,function(e){this[e]=_.wrap(this[e],function(e){this.checkAuthorization()&&e.apply(this,_.toArray(arguments).slice(1))})},this),this._bindRoutes(),this.on("all",_.bind(function(){this.previousFragment=this.currentFragment,this.currentFragment=Backbone.history.fragment},this)),e.on("navigate:back",this.onNavigateBack,this),e.on("navigate:redirect",this.onNavigateRedirect,this),e.on("navigate:dashboard",this.onNavigateDashboard,this),e.on("navigate:setup",this.onNavigateSetup,this),e.on("navigate:friends"
,this.onNavigateFriends,this),e.on("navigate:playlist",this.onNavigatePlaylist,this),e.on("navigate:playlistItem",this.onNavigatePlaylistItem,this),e.on("navigate:playlistPlayer",this.onNavigatePlaylistPlayer,this),e.on("navigate:search",this.onNavigateSearch,this),e.on("navigate:settings",this.onNavigateSettings,this),e.on("navigate:server",this.onNavigateServer,this),e.on("navigate:serverSettings",this.onNavigateServerSettings,this),e.on("navigate:serverTimeline",this.onNavigateServerTimeline,this
),e.on("navigate:section",this.onNavigateSection,this),e.on("navigate:sectionFolder",this.onNavigateSectionFolder,this),e.on("navigate:manageSection",this.onNavigateManageSection,this),e.on("navigate:details",this.onNavigateDetails,this),e.on("navigate:edit",this.onNavigateEdit,this),e.on("navigate:player",this.onNavigatePlayer,this),e.on("navigate:myChannels",this.onNavigateMyChannels,this),e.on("navigate:channelDirectory",this.onNavigateChannelDirectory,this),e.on("navigate:channel",this.onNavigateChannel
,this),e.on("navigate:channelByIdentifier",this.onNavigateChannelByIdentifier,this),e.on("navigate:channelDetails",this.onNavigateChannelDetails,this),e.on("navigate:channelDetailsByIdentifier",this.onNavigateChannelDetailsByIdentifier,this),e.on("navigate:channelPlayer",this.onNavigateChannelPlayer,this),e.on("navigate:channelPlayerByIdentifier",this.onNavigateChannelPlayerByIdentifier,this),e.on("navigate:login",this.onNavigateLogin,this),e.on("navigate:unsupported",this.onNavigateUnsupported,this
),e.on("navigate:error",this.onNavigateError,this),e.on("navigate:info",this.onNavigateInfo,this),e.on("navigate:logs",this.onNavigateLogs,this),(new c).render(),e.trigger("command:ShowLoading",!0);var s=_.once(function(){F(),e.trigger("command:ShowLoading",!1),Backbone.history.start()});n.get("initialized")===!0?s():n.on("change:initialized",s)},track:function(e){/^route:/.test(e)&&(e=e.replace("route:",""),_.indexOf(this.historyExemptRoutes,e)===-1&&(this.history++,r.set("showBack",this.history>1
)));if(_.isString(e)&&typeof _gaq!="undefined")return _gaq.push(["_trackPageview","/"+e])},checkAuthorization:function(){return n.get("isAuthorized")?!0:n.get("isUnsupported")?(e.trigger("navigate:unsupported"),!1):(e.trigger("navigate:login"),!1)},empty:function(){e.trigger("navigate:dashboard")},dashboard:function(){r.reset(),n.set("view",new h({collection:B}))},setup:function(){r.reset(),n.set("view",new p({model:n.get("primaryServer")}))},friends:function(){r.reset();var i=n.get("friends"),s=
n.get("friendRequests");i.fetch().done(function(){n.set("view",new d({collection:i,requests:s}))}).fail(function(){e.trigger("navigate:error",t.t("Friends are currently unavailable."))})},playlist:function(i){r.reset();var s=n.get("playlists")[i];s.fetch().done(function(){n.set("view",new v({collection:s}))}).fail(function(){e.trigger("navigate:error",t.t("This playlist is currently unavailable."))})},playlistItem:function(r,i){var o=new s({id:i},{server:n.get("myPlex"),playlistName:r});o.fetch()
.done(function(){n.set("view",new x({model:o}))}).fail(function(){e.trigger("navigate:error",t.t("This media is currently unavailable."))})},playlistPlayer:function(r,i){var o=new s({id:i},{server:n.get("myPlex"),playlistName:r});o.fetch().done(function(){n.set("view",new N({model:o}))}).fail(function(){e.trigger("navigate:error",t.t("This media is currently unavailable."))})},search:function(i){var s=n.get("primaryServer"),o=n.get("settings"),u=[],f=[],c=[];r.set({activeSearch:decodeURIComponent
(i),activeServer:null,activeSection:null,activeMedia:null,activeChannel:null,activeChannelMedia:null}),B.each(function(e){if(e.get("remote")&&!o.get("remoteSearch"))return;c.push(e.populate().done(function(){if(!e.supports("search"))return;var t=new l([],{server:e,url:"/search?local=1&query="+i});f.push(t);if(e.id===s.id&&o.get("channelSearch")){c.push(t.fetch());var n=new a([],{server:e});u.push(n)}var r=new l([],{server:e,url:"/search?type=10&query="+i});f.push(r)}))}),H.when.apply(H,c).always(
function(){f.length?n.set("view",new m({query:decodeURIComponent(i),providers:u,collections:f})):e.trigger("navigate:error",t.t("The media server does not support search."))})},settings:function(){r.reset(),n.set("view",new g({model:n.get("primaryServer"),global:!0}))},server:function(i){this.populateActiveObjects(i).done(function(e){r.set(e),n.set("view",new b({model:e.activeServer}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},serverSettings:function(
i){this.populateActiveObjects(i).done(function(e){r.set(e),j(e.activeServer)&&n.set("view",new g({model:e.activeServer}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},serverTimeline:function(i){this.populateActiveObjects(i).done(function(e){r.set(e),j(e.activeServer)&&n.set("view",new y({model:e.activeServer}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},section:function(i,s){this.populateActiveObjects
(i,s).done(function(e){r.set(e),n.set("view",new E({model:e.activeSection}))}).fail(function(n){e.trigger("navigate:error",t.t("This section is currently unavailable."))})},sectionFolder:function(i,s,o,u){this.populateActiveObjects(i,s).done(function(e){r.set(e),n.set("view",new S({model:e.activeSection,folderID:o,type:u}))}).fail(function(n){e.trigger("navigate:error",t.t("This section is currently unavailable."))})},manageSection:function(i,s){this.populateActiveObjects(i,s).done(function(e){r.
set(e),j(e.activeServer)&&n.set("view",new w({model:e.activeSection}))}).fail(function(n){e.trigger("navigate:error",t.t("This section is currently unavailable."))})},details:function(i,s,o){this.populateActiveObjects(i,s,o).done(function(e){r.set(e),n.set("view",new x({model:e.activeMedia.get("media")}))}).fail(function(n){e.trigger("navigate:error",t.t("This media is currently unavailable."))})},edit:function(i,s,o){this.populateActiveObjects(i,s,o).done(function(e){r.set(e),j(e.activeServer)&&
n.set("view",new T({model:e.activeMedia.get("media")}))}).fail(function(n){e.trigger("navigate:error",t.t("This media is currently unavailable."))})},player:function(i,s,o){this.populateActiveObjects(i,s,o).done(function(e){r.set(e),n.set("view",new N({model:e.activeMedia.get("media")}))}).fail(function(n){e.trigger("navigate:error",t.t("This media is currently unavailable."))})},myChannels:function(i){this.populateActiveObjects(i).done(function(e){r.set(e),n.set("view",new C({collection:e.activeServer
.get("channels")}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},channelDirectory:function(i,s,o){s&&(s=decodeURIComponent(s)),o&&(o=decodeURIComponent(o)),this.populateActiveObjects(i).done(function(i){if(j(i.activeServer)){var u=new f([],{server:i.activeServer,url:"system/appstore"});u.fetch().done(function(){r.set(i),n.set("view",new k({collection:u,activeFilter:s,activeKey:o}))}).fail(function(n){e.trigger("navigate:error",t.t("The channel directory is currently unavailable."
))})}}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},channel:function(i,s,u){this.populateActiveObjects(i).done(function(i){var a=[],f,l;f=new o({key:decodeURIComponent(s)},{server:i.activeServer}),a.push(f.fetch({urlToken:!0})),u&&(l=new o({key:decodeURIComponent(u)},{server:i.activeServer,channel:f}),a.push(l.fetch({timeout:4e4}))),H.when.apply(H,a).done(function(){i.activeChannel=f,i.activeChannelMedia=l,r.set(i),n.set("view",new L({channel:f,model
:l?l:f}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},channelByIdentifier:function(i,s,u){this.populateActiveObjects(i).done(function(i){var a=[],f,l;f=new o({identifier:s},{server:i.activeServer}),a.push(f.fetch({urlToken:!0})),u&&(l=new o({key:decodeURIComponent(u)},{server:i.activeServer,channel:f}),a.push(l.fetch({timeout:4e4}))),H.when.apply(H,a).done(function(
){i.activeChannel=f,i.activeChannelMedia=l,r.set(i),n.set("view",new L({channel:f,model:l?l:f}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},channelDetails:function(i,s,a){this.populateActiveObjects(i).done(function(i){var f=[],l,c;l=new o({key:decodeURIComponent(s)},{server:i.activeServer}),f.push(l.fetch({urlToken:!0})),c=new u({key:decodeURIComponent(a)},
{server:i.activeServer,channel:l}),f.push(c.fetch({timeout:4e4})),H.when.apply(H,f).done(function(){i.activeChannel=l,i.activeChannelMedia=c,r.set(i),n.set("view",new x({model:c}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},channelDetailsByIdentifier:function(i,s,a){this.populateActiveObjects(i).done(function(i){var f=[],l,c;l=new o({identifier:s},{server:i
.activeServer}),f.push(l.fetch({urlToken:!0})),c=new u({key:decodeURIComponent(a)},{server:i.activeServer,channel:l}),f.push(c.fetch({timeout:4e4})),H.when.apply(H,f).done(function(){i.activeChannel=l,i.activeChannelMedia=c,r.set(i),n.set("view",new x({model:c}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},channelPlayer:function(i,s,a){this.populateActiveObjects
(i).done(function(i){var f=[],l,c;l=new o({key:decodeURIComponent(s)},{server:i.activeServer}),f.push(l.fetch({urlToken:!0})),c=new u({key:decodeURIComponent(a)},{server:i.activeServer,channel:l}),f.push(c.fetch({timeout:4e4})),H.when.apply(H,f).done(function(){i.activeChannel=l,i.activeChannelMedia=c,r.set(i),n.set("view",new N({model:c}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."
))})},channelPlayerByIdentifier:function(i,s,a){this.populateActiveObjects(i).done(function(i){var f=[],l,c;l=new o({identifier:s},{server:i.activeServer}),f.push(l.fetch({urlToken:!0})),c=new u({key:decodeURIComponent(a)},{server:i.activeServer,channel:l}),f.push(c.fetch({timeout:4e4})),H.when.apply(H,f).done(function(){i.activeChannel=l,i.activeChannelMedia=c,r.set(i),n.set("view",new N({model:c}))}).fail(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})}).fail
(function(n){e.trigger("navigate:error",t.t("The media server is not responding."))})},login:function(){r.reset(),n.set("view",new O)},unsupported:function(){r.reset(),n.set("view",new M)},error:function(e,t){var i=t||"That page doesn't exist... yet.";r.reset(),n.set("view",new A({error:i}))},info:function(){r.reset(),n.set("view",new D)},logs:function(){r.reset(),n.set("view",new P)},onNavigateBack:function(){this.history>1?(this.history-=2,window.history.back()):(this.history=0,e.trigger("navigate:dashboard"
))},onNavigateRedirect:function(e){this.previousFragment&&window.history.replaceState&&window.history.replaceState(null,document.title,"#"+this.previousFragment),window.location=e},onNavigateDashboard:function(){this.navigate("!/dashboard",{trigger:!0})},onNavigateSetup:function(){this.navigate("!/setup",{trigger:!0})},onNavigateFriends:function(){this.navigate("!/friends",{trigger:!0})},onNavigatePlaylist:function(e){this.navigate("!/playlist/"+e,{trigger:!0})},onNavigatePlaylistItem:function(e,
t){this.navigate("!/playlist/"+e+"/details/"+t,{trigger:!0})},onNavigatePlaylistPlayer:function(e,t){this.navigate("!/playlist/"+e+"/player/"+t,{trigger:!0})},onNavigateSearch:function(e){this.navigate("!/search/"+encodeURIComponent(e),{trigger:!0})},onNavigateSettings:function(){this.navigate("!/settings",{trigger:!0})},onNavigateServer:function(e){this.navigate("!/servers/"+e,{trigger:!0})},onNavigateServerSettings:function(e){this.navigate("!/servers/"+e+"/settings",{trigger:!0})},onNavigateServerTimeline
:function(e){this.navigate("!/servers/"+e+"/timeline",{trigger:!0})},onNavigateSection:function(e,t){this.navigate("!/servers/"+e+"/sections/"+t,{trigger:!0})},onNavigateSectionFolder:function(e,t){this.navigate("!/servers/"+e+"/sections/"+t+"/folder",{trigger:!0})},onNavigateManageSection:function(e,t){this.navigate("!/servers/"+e+"/sections/"+t+"/manage",{trigger:!0})},onNavigateDetails:function(e,t,n){this.navigate("!/servers/"+e+"/sections/"+t+"/details/"+n,{trigger:!0})},onNavigateEdit:function(
e,t,n){this.navigate("!/servers/"+e+"/sections/"+t+"/edit/"+n,{trigger:!0})},onNavigatePlayer:function(e,t,n){this.navigate("!/servers/"+e+"/sections/"+t+"/player/"+n,{trigger:!0})},onNavigateMyChannels:function(e){this.navigate("!/servers/"+e+"/channels",{trigger:!0})},onNavigateChannelDirectory:function(e){this.navigate("!/servers/"+e+"/channels/directory",{trigger:!0})},onNavigateChannel:function(e,t,n){var r="!/servers/"+e+"/channels?key="+encodeURIComponent(t);n&&(r+="&path="+encodeURIComponent
(n)),this.navigate(r,{trigger:!0})},onNavigateChannelByIdentifier:function(e,t,n){var r="!/servers/"+e+"/channels?identifier="+t;n&&(r+="&path="+encodeURIComponent(n)),this.navigate(r,{trigger:!0})},onNavigateChannelDetails:function(e,t,n){this.navigate("!/servers/"+e+"/channels/details?key="+encodeURIComponent(t)+"&path="+encodeURIComponent(n),{trigger:!0})},onNavigateChannelDetailsByIdentifier:function(e,t,n){this.navigate("!/servers/"+e+"/channels/details?identifier="+t+"&path="+encodeURIComponent
(n),{trigger:!0})},onNavigateChannelPlayer:function(e,t,n){this.navigate("!/servers/"+e+"/channels/player?&key="+encodeURIComponent(t)+"path="+encodeURIComponent(n),{trigger:!0})},onNavigateChannelPlayerByIdentifier:function(e,t,n){this.navigate("!/servers/"+e+"/channels/player?identifier="+t+"&path="+encodeURIComponent(n),{trigger:!0})},onNavigateLogin:function(){this.navigate("!/login",{trigger:!0})},onNavigateUnsupported:function(){this.navigate("!/unsupported",{trigger:!0})},onNavigateError:function(
e){this.error("",e)},onNavigateInfo:function(){this.navigate("!/info",{trigger:!0})},onNavigateLogs:function(){this.navigate("!/logs",{trigger:!0})},populateActiveObjects:function(e,t,n){var r={activeSearch:"",activeServer:null,activeSection:null,activeMedia:null,activeChannel:null,activeChannelMedia:null},s=B.populate().pipe(function(n){return r.activeServer=n.get(e),r.activeServer?t?r.activeServer.get("sections").populate():r:H.Deferred().reject(r)});return t&&(s=s.pipe(function(e){r.activeSection=
e.get(t);if(!r.activeSection)return H.Deferred().reject(r);if(!n)return r;var s=new i({ratingKey:n},{server:r.activeServer,section:r.activeSection});return s.fetch()})),n&&(s=s.pipe(function(e){return r.activeMedia=e,r.activeMedia?r:H.Deferred().reject(r)})),s.promise()}});return I}),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/
.test(navigator.userAgent),FastClick.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"label":case"video":return!0;default:return/\bneedsclick\b/.test(e.className)}},FastClick.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!0;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=
function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.onTouchStart=function(e){var t=e.targetTouches[0];return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=e.target,this.touchStartX=t.pageX,this
.touchStartY=t.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){var t=e.targetTouches[0];return Math.abs(t.pageX-this.touchStartX)>10||Math.abs(t.pageY-this.touchStartY)>10?!0:!1},FastClick.prototype.onTouchMove=function(e){if(!this.trackingClick)return!0;if(this.targetElement!==e.target||this.touchHasMoved(e))this.trackingClick=!1,this.targetElement=null;return!0},FastClick.prototype.findControl=function(e){return e.control!==undefined?
e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){var t,n,r=this.targetElement,i=e.changedTouches[0];if(!this.trackingClick)return!0;if(this.deviceIsIOS){if(i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier}if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;this.lastClickTime=
e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0;if(r.nodeName.toLowerCase()==="label"){t=this.findControl(r);if(t)return r.focus(),this.deviceIsAndroid?!1:(this.needsClick(t)||(e.preventDefault(),this.sendClick(t,e)),!1)}else if(this.needsFocus(r)){if(e.timeStamp-n>100)return this.targetElement=null,!0;r.focus();if(!this.deviceIsIOS4||r.tagName.toLowerCase()!=="select")this.targetElement=null,e.preventDefault();return!1}return this.needsClick(r)||(e.preventDefault
(),this.sendClick(r,e)),!1},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onClick=function(e){var t;return this.targetElement?e.forwardedTouchEvent?!0:(t=this.targetElement,this.targetElement=null,this.trackingClick?(this.trackingClick=!1,!0):e.cancelable?e.target.type==="submit"&&e.detail===0?!0:!this.needsClick(t)||this.cancelNextClick?(this.cancelNextClick=!1,e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0
,e.stopPropagation(),e.preventDefault(),!1):!0:!0):!0},FastClick.prototype.destroy=function(){var e=this.layer;e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},typeof define!="undefined"&&define.amd&&define("fastclick",[],function(){return FastClick}),typeof module!="undefined"&&
module.exports&&(module.exports=function(e){return new FastClick(e)},module.exports.FastClick=FastClick),define("plex/app",["plex/control/utils/LocalizationUtil","plex/control/init/GlobalInit","plex/control/Router","fastclick"],function(e,t,n,r){return{init:function(){new r(document.body),e.load().always(function(){var e=new n})}}}),require.config({baseUrl:"js",templatePathPrefix:"app/",paths:{text:"libs/require/text-2.0.1",hb:"libs/require/hb-precompile",templates:"../templates",jquery:"libs/jquery/jquery-1.8.0"
,xml2json:"libs/jquery/jquery.xml2json",lazyload:"libs/jquery/jquery.lazyload",sortable:"libs/jquery/jquery.sortable",select2:"libs/select2-3.2",underscore:"libs/underscore-1.4.2",backbone:"libs/backbone-0.9.2",handlebars:"libs/handlebars-1.0.0.beta.6",modernizr:"libs/modernizr-2.6.2-css3dtransform",moment:"libs/moment-1.7.0",base64:"libs/base64",sha256:"libs/jssha256-0.1",soundmanagerdefer:"libs/soundmanager/soundmanager2-defer",soundmanager:"libs/soundmanager/soundmanager2-nodebug",jwplayer:"libs/jwplayer-6.1"
,swfobject:"libs/swfobject-2.2",spin:"libs/spin-1.2.5",fastclick:"libs/fastclick-0.4.6",transition:"libs/bootstrap/bootstrap-transition",button:"libs/bootstrap/bootstrap-button",tooltip:"libs/bootstrap/bootstrap-tooltip",dropdown:"libs/bootstrap/bootstrap-dropdown",popover:"libs/bootstrap/bootstrap-popover",modal:"libs/bootstrap/bootstrap-modal"},shim:{underscore:[],backbone:["jquery","underscore"],handlebars:[],hb:["handlebars"],xml2json:["jquery"],lazyload:["jquery"],sortable:["jquery"],select2
:["jquery"],modernizr:[],moment:[],base64:[],sha256:[],soundmanagerdefer:[],soundmanager:["soundmanagerdefer"],jwplayer:[],swfobject:[],spin:[],transition:["jquery"],button:["jquery"],dropdown:["jquery"],modal:["jquery"],tooltip:["jquery"],popover:["jquery","tooltip"]}}),require(["plex/app"],function(e){e.init()}),define("main",function(){})